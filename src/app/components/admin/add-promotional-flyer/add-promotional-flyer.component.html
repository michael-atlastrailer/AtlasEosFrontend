<section>
  <div class="container-fluid">
    <div class="row">
      <!-- <div class="col-md-1 col-12"></div> -->

      <div class="col-md-6 col-12">
        <div class="card justify-content-center">
          <div class="card-body">
            <!-- multistep form -->
            <form id="msform" [formGroup]="vendorUserForm" class="pt-2">
              <fieldset *ngIf="step1" class="shadow-sm">
                <h2 class="title">Create Promotional Flyer</h2>
                <!-- <h3 class="subtitle">Personal Details</h3> -->

                <div class="form-row">
                  <div class="col-md-12 mb-4">
                    <div class="form-group">
                      <label for="">Promotional Name</label>
                      <input
                        type="text"
                        name="name"
                        class="input-value shadow-sm"
                        placeholder="Promotional Flyer Name"
                        required
                        formControlName="name"
                      />
                      <div
                        class="input-alert-box"
                        *ngIf="
                          vendorUserFormControls.name.invalid && manualChecker
                        "
                      >
                        <div>
                          <span class="alert-input-msg">
                            {{ getErrorMessage('name') }}
                          </span>
                          <span
                            class="fa fa-exclamation-triangle alert-input-icon"
                            style="float: right;"
                          ></span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="form-row">
                  <div class="col-md-12 mb-4">
                    <div class="form-group">
                      <label for="">Vendor</label>

                      <select
                        (change)="assignVendor(vendor)"
                        type="text"
                        name="vendor"
                        class="input-value shadow-sm"
                        placeholder="Select Vendor"
                        required
                        formControlName="vendor"
                        #vendor
                      >
                        <option value="">
                          Select vendor
                        </option>
                        <option *ngFor="let data of allVendor">
                          {{ data.vendor_name }}
                        </option>
                      </select>

                      <div
                        class="input-alert-box"
                        *ngIf="
                          vendorUserFormControls.vendor.invalid && manualChecker
                        "
                      >
                        <div>
                          <span class="alert-input-msg">
                            {{ getErrorMessage('vendor') }}
                          </span>
                          <span
                            class="fa fa-exclamation-triangle alert-input-icon"
                            style="float: right;"
                          ></span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="form-row">
                  <div class="col-md-12 mb-4">
                    <div class="form-group">
                      <label for="">PDF File</label>
                      <div class="pdf-btn-wrapper">
                        <div>
                          <button
                            *ngIf="setCsvBtn"
                            (click)="callUploadInput()"
                            class="btn btn-block upload-btn mb-2"
                          >
                            <span class="fa fa-upload upload-icon"></span>
                            <span>Upload Vendor Users Csv</span>
                          </button>

                          <!-- <button
                            *ngIf="uploadCsvSendBtn"
                            (click)="uploadCsvServer()"
                            class="btn btn-danger btn-block mb-2 p-2"
                          >
                            <span *ngIf="csvBtnText">
                              <span class="fa fa-upload upload-icon"></span>
                              Upload
                            </span>
                            <div *ngIf="csvBtnLoader">
                              <span
                                class="spinner-border spinner-border-sm"
                              ></span>
                            </div>
                          </button> -->

                          <input
                            required
                            type="file"
                            class="file-input-tag"
                            #fileCsv
                            id="csvFile"
                            (change)="fileCsvUpload(fileCsv.files)"
                            name="csvFile"
                          />
                        </div>
                        <div>
                          <h6>{{ selectedPdfName }}</h6>
                        </div>
                      </div>

                      <div class="input-alert-box" *ngIf="pdfErrorMsg">
                        <div>
                          <span class="alert-input-msg">
                            {{ getErrorMessage('pdf') }}
                          </span>
                          <span
                            class="fa fa-exclamation-triangle alert-input-icon"
                            style="float: right;"
                          ></span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="add-btn-wrapper">
                  <button class="submit-btn" (click)="uploadPromotionalFlyer()">
                    <span *ngIf="btnText">
                      Add Promotional Flyer
                    </span>
                    <div *ngIf="btnLoader">
                      <span class="spinner-border spinner-border-sm"></span>
                    </div>
                  </button>
                </div>
              </fieldset>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
