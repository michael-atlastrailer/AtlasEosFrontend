var $t=Object.defineProperty,Qt=Object.defineProperties,Jt=Object.getOwnPropertyDescriptors,Xt=Object.getOwnPropertySymbols,Kt=Object.prototype.hasOwnProperty,ei=Object.prototype.propertyIsEnumerable,Dt=(Ne,ee,Ee)=>ee in Ne?$t(Ne,ee,{enumerable:!0,configurable:!0,writable:!0,value:Ee}):Ne[ee]=Ee,Nt=(Ne,ee)=>{for(var Ee in ee||(ee={}))Kt.call(ee,Ee)&&Dt(Ne,Ee,ee[Ee]);if(Xt)for(var Ee of Xt(ee))ei.call(ee,Ee)&&Dt(Ne,Ee,ee[Ee]);return Ne},zt=(Ne,ee)=>Qt(Ne,Jt(ee)),Mt=(Ne,ee,Ee)=>(Dt(Ne,"symbol"!=typeof ee?ee+"":ee,Ee),Ee),Bt=(Ne,ee,Ee)=>{if(!ee.has(Ne))throw TypeError("Cannot "+Ee)},Ue=(Ne,ee,Ee)=>(Bt(Ne,ee,"read from private field"),Ee?Ee.call(Ne):ee.get(Ne)),et=(Ne,ee,Ee)=>{if(ee.has(Ne))throw TypeError("Cannot add the same private member more than once");ee instanceof WeakSet?ee.add(Ne):ee.set(Ne,Ee)},st=(Ne,ee,Ee,z)=>(Bt(Ne,ee,"write to private field"),z?z.call(Ne,Ee):ee.set(Ne,Ee),Ee),rt=(Ne,ee,Ee)=>(Bt(Ne,ee,"access private method"),Ee);(self.webpackChunkatlas_eos=self.webpackChunkatlas_eos||[]).push([[253],{253:(Ne,ee,Ee)=>{"use strict";Ee.r(ee),Ee.d(ee,{DealersModule:()=>ve});var z=Ee(9808),Ie=Ee(1590),p=Ee(1223),Me=Ee(3101),ue=Ee(3597);const K=["chart"];let u=(()=>{class ${constructor(ae){this.ngZone=ae,this.autoUpdateSeries=!0}ngOnInit(){Me.E.schedule(()=>{this.createElement()})}ngOnChanges(ae){Me.E.schedule(()=>{this.autoUpdateSeries&&0===Object.keys(ae).filter(ye=>"series"!==ye).length?this.updateSeries(this.series,!0):this.createElement()})}ngOnDestroy(){this.chartObj&&this.chartObj.destroy()}createElement(){const ae={};this.annotations&&(ae.annotations=this.annotations),this.chart&&(ae.chart=this.chart),this.colors&&(ae.colors=this.colors),this.dataLabels&&(ae.dataLabels=this.dataLabels),this.series&&(ae.series=this.series),this.stroke&&(ae.stroke=this.stroke),this.labels&&(ae.labels=this.labels),this.legend&&(ae.legend=this.legend),this.fill&&(ae.fill=this.fill),this.tooltip&&(ae.tooltip=this.tooltip),this.plotOptions&&(ae.plotOptions=this.plotOptions),this.responsive&&(ae.responsive=this.responsive),this.markers&&(ae.markers=this.markers),this.noData&&(ae.noData=this.noData),this.xaxis&&(ae.xaxis=this.xaxis),this.yaxis&&(ae.yaxis=this.yaxis),this.grid&&(ae.grid=this.grid),this.states&&(ae.states=this.states),this.title&&(ae.title=this.title),this.subtitle&&(ae.subtitle=this.subtitle),this.theme&&(ae.theme=this.theme),this.chartObj&&this.chartObj.destroy(),this.ngZone.runOutsideAngular(()=>{this.chartObj=new ue(this.chartElement.nativeElement,ae)}),this.render()}render(){return this.ngZone.runOutsideAngular(()=>this.chartObj.render())}updateOptions(ae,ye,Re,Xe){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateOptions(ae,ye,Re,Xe))}updateSeries(ae,ye){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateSeries(ae,ye))}appendSeries(ae,ye){this.ngZone.runOutsideAngular(()=>this.chartObj.appendSeries(ae,ye))}appendData(ae){this.ngZone.runOutsideAngular(()=>this.chartObj.appendData(ae))}toggleSeries(ae){return this.ngZone.runOutsideAngular(()=>this.chartObj.toggleSeries(ae))}showSeries(ae){this.ngZone.runOutsideAngular(()=>this.chartObj.showSeries(ae))}hideSeries(ae){this.ngZone.runOutsideAngular(()=>this.chartObj.hideSeries(ae))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartObj.resetSeries())}zoomX(ae,ye){this.ngZone.runOutsideAngular(()=>this.chartObj.zoomX(ae,ye))}toggleDataPointSelection(ae,ye){this.ngZone.runOutsideAngular(()=>this.chartObj.toggleDataPointSelection(ae,ye))}destroy(){this.chartObj.destroy()}setLocale(ae){this.ngZone.runOutsideAngular(()=>this.chartObj.setLocale(ae))}paper(){this.ngZone.runOutsideAngular(()=>this.chartObj.paper())}addXaxisAnnotation(ae,ye,Re){this.ngZone.runOutsideAngular(()=>this.chartObj.addXaxisAnnotation(ae,ye,Re))}addYaxisAnnotation(ae,ye,Re){this.ngZone.runOutsideAngular(()=>this.chartObj.addYaxisAnnotation(ae,ye,Re))}addPointAnnotation(ae,ye,Re){this.ngZone.runOutsideAngular(()=>this.chartObj.addPointAnnotation(ae,ye,Re))}removeAnnotation(ae,ye){this.ngZone.runOutsideAngular(()=>this.chartObj.removeAnnotation(ae,ye))}clearAnnotations(ae){this.ngZone.runOutsideAngular(()=>this.chartObj.clearAnnotations(ae))}dataURI(ae){return this.chartObj.dataURI(ae)}}return $.\u0275fac=function(ae){return new(ae||$)(p.Y36(p.R0b))},$.\u0275cmp=p.Xpm({type:$,selectors:[["apx-chart"]],viewQuery:function(ae,ye){if(1&ae&&p.Gf(K,7),2&ae){let Re;p.iGM(Re=p.CRH())&&(ye.chartElement=Re.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},features:[p.TTD],decls:2,vars:0,consts:[["chart",""]],template:function(ae,ye){1&ae&&p._UZ(0,"div",null,0)},styles:[""],changeDetection:0}),$})();window.ApexCharts=ue;let b=(()=>{class ${}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275mod=p.oAB({type:$}),$.\u0275inj=p.cJS({imports:[[]]}),$})(),P=(()=>{class ${constructor(){this.pdfSrc="https://atlasbookingprogram.com/assets/2022%20Booking%20Program%20Terms%20&%20Conditions.pdf",this.chartOptions={series:[{name:"My-series",data:[10,41,35,51,49,62,69,91,148]}],chart:{height:350,type:"bar"},title:{text:"My First Angular Chart"},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"]}}}ngOnInit(){}}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275cmp=p.Xpm({type:$,selectors:[["app-dashboard"]],decls:53,vars:3,consts:[[1,"overview-section"],[1,"container-fluid","p-0"],[1,"row","my-5","ml-4"],[1,"col-md-7"],[1,"row"],[1,"col-md-4","mb-3"],["href",""],[1,"card","data-card"],[1,"card-body","d-flex","p-3","align-items-center"],[1,"card-icon"],[1,"fa","fa-shopping-cart"],[1,"card-details","pl-2"],[1,"card-header-text","m-0","mb-2"],[1,"card-val"],[1,"fa","fa-dollar"],[1,"col-12"],[1,"card"],["data-toggle","collapse","href","#collapseExample","role","button","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-block"],["id","collapseExample",1,"collapse","show"],[1,"card","card-body"],[3,"series","chart","title"],[1,"col-md-5"],[1,"card","promotional-flyer-ctn","px-4"],[1,"header","m-0"],[1,"py-5"],["title","Terms & Conditions","src","https://atlasbookingprogram.com/assets/2022%20Booking%20Program%20Terms%20&%20Conditions.pdf","width","100%","height","500px",2,"background-color","#525659","border","none"]],template:function(ae,ye){1&ae&&(p.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6)(7,"div",7)(8,"div",8)(9,"div",9),p._UZ(10,"span",10),p.qZA(),p.TgZ(11,"div",11)(12,"h5",12),p._uU(13,"Completed Orders"),p.qZA(),p.TgZ(14,"h1",13),p._uU(15,"14"),p.qZA()()()()()(),p.TgZ(16,"div",5)(17,"a",6)(18,"div",7)(19,"div",8)(20,"div",9),p._UZ(21,"span",14),p.qZA(),p.TgZ(22,"div",11)(23,"h5",12),p._uU(24,"Show Total"),p.qZA(),p.TgZ(25,"h1",13),p._uU(26,"14"),p.qZA()()()()()(),p.TgZ(27,"div",5)(28,"a",6)(29,"div",7)(30,"div",8)(31,"div",9),p._UZ(32,"span",10),p.qZA(),p.TgZ(33,"div",11)(34,"h5",12),p._uU(35,"Orders Remaining"),p.qZA(),p.TgZ(36,"h1",13),p._uU(37,"14"),p.qZA()()()()()()(),p.TgZ(38,"div",4)(39,"div",15)(40,"div",16)(41,"a",17),p._uU(42," Sales summary for the day "),p.qZA(),p.TgZ(43,"div",18)(44,"div",19),p._UZ(45,"apx-chart",20),p.qZA()()()()()(),p.TgZ(46,"div",21)(47,"div",22)(48,"h5",23),p._uU(49,"Promotional Flyer"),p.qZA(),p.TgZ(50,"div",24),p._UZ(51,"iframe",25),p.qZA()()()()()(),p._uU(52,"\n`\n")),2&ae&&(p.xp6(45),p.Q6J("series",ye.chartOptions.series)("chart",ye.chartOptions.chart)("title",ye.chartOptions.title))},directives:[u],styles:[".data-card[_ngcontent-%COMP%]{border:0px solid transparent;border-left:2px solid #0a5476;min-height:100px}.card-icon[_ngcontent-%COMP%]{color:#fff;border-radius:50%;width:50px;height:50px;background-color:#00547a;display:flex;justify-content:center;align-items:center;padding:8px!important;position:relative;text-decoration:none!important;font-size:32px}.card-details[_ngcontent-%COMP%]{color:#000!important}.card-header-text[_ngcontent-%COMP%]{background-color:transparent!important;text-decoration:none!important;font-size:.75rem;color:#3c3c3c!important}.card-val[_ngcontent-%COMP%]{font-size:1.2rem;text-decoration:none!important}.grey[_ngcontent-%COMP%]{background-color:#e6e3e3}.promotional-flyer-ctn[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#3c3c3c!important}"]}),$})();var R=Ee(2382);const J=["overlay"];function O($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Dashboard"),p.qZA())}function A($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Show Order Forms"),p.qZA())}function G($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Quick Order"),p.qZA())}function te($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Special Order"),p.qZA())}function B($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Orders Remaining"),p.qZA())}function w($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Edit My Order"),p.qZA())}function m($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Dealer Order Summary"),p.qZA())}function v($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Purchaser Summary Display"),p.qZA())}function T($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Edit My Order"),p.qZA())}function F($,be){if(1&$){const ae=p.EpF();p.TgZ(0,"li",10),p.NdJ("click",function(){return p.CHM(ae),p.oxw().closeOverLay()}),p.TgZ(1,"a",21),p._UZ(2,"span",22),p.YNc(3,T,2,0,"span",13),p.qZA()()}if(2&$){const ae=p.oxw();p.xp6(3),p.Q6J("ngIf",ae.toggle)}}function H($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Dealer Order Summary"),p.qZA())}function ce($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Purchaser Summary Display"),p.qZA())}function ne($,be){if(1&$){const ae=p.EpF();p.TgZ(0,"li",10),p.NdJ("click",function(){return p.CHM(ae),p.oxw(2).closeOverLay()}),p.TgZ(1,"a",128),p._UZ(2,"span",127),p.YNc(3,ce,2,0,"span",13),p.qZA()()}if(2&$){const ae=p.oxw(2);p.xp6(3),p.Q6J("ngIf",ae.toggle)}}function de($,be){if(1&$){const ae=p.EpF();p.ynx(0),p.TgZ(1,"li",10),p.NdJ("click",function(){return p.CHM(ae),p.oxw().closeOverLay()}),p.TgZ(2,"a",126),p._UZ(3,"span",127),p.YNc(4,H,2,0,"span",13),p.qZA()(),p.BQk(),p.YNc(5,ne,4,1,"ng-template",null,25,p.W1O)}if(2&$){const ae=p.oxw();p.xp6(4),p.Q6J("ngIf",ae.toggle)}}function ge($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Promotional Flyers Form"),p.qZA())}function oe($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1," Recorded Product Seminars"),p.qZA())}function le($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Help "),p.qZA())}function pe($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Report a Problem"),p.qZA())}function ie($,be){1&$&&(p.TgZ(0,"span",125),p._uU(1,"Logout"),p.qZA())}let xe=(()=>{class ${constructor(ae){this.router=ae,this.toggle=!0}ngOnInit(){}closeOverLay(){window.matchMedia("(max-width: 700px)").matches&&this.overlay.nativeElement.click()}toggleSideNav(){this.toggle=!this.toggle}logout(){return this.router.navigate(["/"])}}return $.\u0275fac=function(ae){return new(ae||$)(p.Y36(Ie.F0))},$.\u0275cmp=p.Xpm({type:$,selectors:[["app-dealer-navbar"]],viewQuery:function(ae,ye){if(1&ae&&p.Gf(J,5),2&ae){let Re;p.iGM(Re=p.CRH())&&(ye.overlay=Re.first)}},decls:265,vars:13,consts:[["data-toggle","sidebar",1,"app-sidebar__overlay"],["overlay",""],[1,"app-sidebar","scrollable"],[1,"side-header","d-flex","align-items-center",2,"height","80px","width","290px"],["href","/login",1,"header-brand1"],["src","../../../../assets/atlas-lgo.png","alt","",1,"sidebar-logo-img"],[1,"side-menu","mt-3","mb-5"],[1,"w-100","d-flex","justify-content-end","mb-2"],["aria-label","Hide Sidebar","data-toggle","sidebar","href","#",1,"ms-5",2,"color","white","height","30px","width","30px",3,"click"],[1,"fa","fa-bars","header-top-sidebar-icons"],[1,"slide",3,"click"],["routerLink","/dealers/dashboard","routerLinkActive","active-item",1,"side-menu__item"],[1,"fa","fa-home","navbar-icons"],["class","side-menu__label",4,"ngIf"],["routerLink","/dealers/show-orders","routerLinkActive","active-item",1,"side-menu__item"],[1,"fa","fa-wpforms","navbar-icons"],["routerLink","/dealers/quick-order","routerLinkActive","active-item",1,"side-menu__item"],[1,"fa","fa-shopping-cart","navbar-icons"],["routerLink","/dealers/special-order","routerLinkActive","active-item",1,"side-menu__item"],["routerLink","/dealers/orders-remaining",1,"side-menu__item","nohover"],[1,"fa","fa-list","navbar-icons"],["routerLink","/dealers/edit-order",1,"side-menu__item","nohover"],[1,"fa","fa-pencil-square-o","navbar-icons"],["routerLink","/dealers/orders-summary",1,"side-menu__item","nohover"],["routerLink","/dealers/purchase-summary",1,"side-menu__item","nohover"],["hasOrderedItem",""],["closedProgram",""],["routerLink","/dealers/promotional-flyers","routerLinkActive","active-item",1,"side-menu__item"],[1,"fa","fa-newspaper-o","navbar-icons"],["routerLink","/dealers/seminars","routerLinkActive","active-item",1,"side-menu__item"],[1,"fa","fa-dashboard","navbar-icons"],["routerLink","/dealers/help","routerLinkActive","active-item",1,"side-menu__item"],["href","mailto:michael.Habib@atlastrailer.com",1,"side-menu__item"],[1,"fa","fa-file-text-o","navbar-icons"],[1,"side-menu__item",3,"click"],[1,"fa","fa-mail-forward","navbar-icons"],[1,"app-header","header","d-block","pt-0"],[1,"container-fluid","p-0","d-flex","align-items-center","w-100",2,"height","80px"],[1,"d-flex","over-layer-header","w-100"],[1,"header-brand","d-md-none"],["src","../../../assets/atlas-lgo.jpeg","alt","",1,"sm-sidebar-logo-img"],[1,"app-sidebar__toggle"],[1,"header-search","d-none","d-md-flex"],[1,"form-inline"],[1,"search-element"],["type","search","name","search","placeholder","Search\u2026","aria-label","Search","tabindex","1",1,"form-control","header-search"],["type","submit",1,"btn","btn-primary-color"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 0 24 24","width","24"],["d","M0 0h24v24H0V0z","fill","none"],["d","M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"],[1,"d-flex","ml-auto","justify-content-end","header-right-section"],[1,"dropdown","d-none","d-md-flex","notifications"],["routerLink","/dealer/cart",1,"nav-link","icon","mb-2"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 0 24 24","width","24",1,"side-menu__icon"],["d","M15.55 11l2.76-5H6.16l2.37 5z","opacity",".3"],["d","M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"],[1,"cart-num"],[1,"dropdown","d-none","d-md-flex","message"],[1,"dropdown-menu","dropdown-menu-right","dropdown-menu-arrow"],[1,"message-menu"],["href","#",1,"dropdown-item","d-flex","pb-3"],["data-image-src","../../assets/images/users/1.jpg",1,"avatar","avatar-md","brround","mr-3","align-self-center","cover-image"],[1,"small","text-muted"],[1,"dropdown-divider"],["href","#",1,"dropdown-item","text-center"],[1,"dropdown","d-none","d-xl-flex","country-selector"],[1,"dropdown","profile-1","ml-4","mr-3"],["href","#","data-toggle","dropdown",1,"nav-link","leading-none","d-flex","align-items-center"],[1,"profile-icon-ctn","mb-1"],[1,"profile-icon"],[1,"d-none","d-xl-block"],[1,"mb-0","name-text"],[1,"mb-0","acc-text","text-bold"],[1,"mb-1","location-text"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,"dropdown-icon","mdi","mdi-logout-variant"],[1,"mb-1","navbar","navbar-expand-lg","responsive-navbar","navbar-dark","d-md-none","bg-white","sm-dealer-hidden-navbar"],["id","navbarSupportedContent-4",1,"collapse","navbar-collapse"],[1,"d-flex","order-lg-2","ml-auto"],[1,"dropdown","d-sm-flex"],["href","#","data-toggle","dropdown",1,"nav-link","icon"],[1,"dropdown-menu","header-search","dropdown-menu-left"],[1,"input-group","w-100","p-2"],[1,"input-group-append"],["type","button",1,"btn","btn-primary"],[1,"dropdown","d-md-flex"],[1,"nav-link","icon","full-screen-link","nav-link-bg"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 0 24 24","width","24",1,"fullscreen-button"],["cx","12","cy","12","opacity",".3","r","3"],["d","M7 12c0 2.76 2.24 5 5 5s5-2.24 5-5-2.24-5-5-5-5 2.24-5 5zm8 0c0 1.65-1.35 3-3 3s-3-1.35-3-3 1.35-3 3-3 3 1.35 3 3zM3 19c0 1.1.9 2 2 2h4v-2H5v-4H3v4zM3 5v4h2V5h4V3H5c-1.1 0-2 .9-2 2zm18 0c0-1.1-.9-2-2-2h-4v2h4v4h2V5zm-2 14h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"],[1,"dropdown","d-md-flex","notifications"],["data-toggle","dropdown",1,"nav-link","icon"],["d","M12 6.5c-2.49 0-4 2.02-4 4.5v6h8v-6c0-2.48-1.51-4.5-4-4.5z","opacity",".3"],["d","M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"],[1,"pulse1","bg-success"],[1,"notifications-menu"],["href","#",1,"dropdown-item","d-flex","pb-4"],[1,"avatar","mr-3","br-3","align-self-center","avatar-md","cover-image","bg-primary","brround"],[1,"fe","fe-mail"],[1,"font-weight-bold"],[1,"small","text-muted","d-flex"],[1,"avatar","avatar-md","br-3","mr-3","align-self-center","cover-image","bg-secondary","brround"],[1,"fe","fe-download"],[1,"avatar","avatar-md","br-3","mr-3","align-self-center","cover-image","bg-warning","brround"],[1,"fe","fe-user"],[1,"avatar","avatar-md","br-3","mr-3","align-self-center","cover-image","bg-info","brround"],[1,"fe","fe-shopping-cart"],[1,"avatar","avatar-md","br-3","mr-3","align-self-center","cover-image","bg-danger","brround"],[1,"fa","fa-commenting-o"],[1,"avatar","avatar-md","br-3","mr-3","align-self-center","cover-image","bg-success","brround"],[1,"fe","fe-server"],[1,"dropdown","d-md-flex","message"],["data-toggle","dropdown",1,"nav-link","icon","text-center"],["d","M20 8l-8 5-8-5v10h16zm0-2H4l8 4.99z","opacity",".3"],["d","M4 20h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2zM20 6l-8 4.99L4 6h16zM4 8l8 5 8-5v10H4V8z"],[1,"nav-unread","badge","badge-danger","badge-pill","pulse"],["data-image-src","../../assets/images/users/12.jpg",1,"avatar","avatar-md","brround","mr-3","align-self-center","cover-image"],["data-image-src","../../assets/images/users/4.jpg",1,"avatar","avatar-md","brround","mr-3","align-self-center","cover-image"],["data-image-src","../../assets/images/users/15.jpg",1,"avatar","avatar-md","brround","mr-3","align-self-center","cover-image"],[1,"dropdown","d-md-flex","country-selector"],["href","#","data-toggle","dropdown","aria-expanded","true",1,"d-flex","nav-link","icon","leading-none"],["src","../../assets/images/flags/us_flag.jpg","alt","img",1,"mr-2","sm-dealer-img","align-self-center"],[1,"text-dark","sm-dealer-text","fs-13"],["src","../../assets/images/flags/french_flag.jpg","alt","flag-img",1,"avatar","mr-3","align-self-center"],[1,"container-fluid","p-0","d-flex","align-items-center",2,"height","50px","background-color","#14abef"],[1,"side-menu__label"],["routerLink","/dealers/order-summary",1,"side-menu__item","nohover"],[1,"fa","fa-columns","navbar-icons"],["routerLink","/dealers/total-summary","routerLinkActive","active-item",1,"side-menu__item"]],template:function(ae,ye){1&ae&&(p._UZ(0,"div",0,1),p.TgZ(2,"aside",2)(3,"div",3)(4,"a",4),p._UZ(5,"img",5),p.qZA()(),p.TgZ(6,"ul",6)(7,"div",7)(8,"a",8),p.NdJ("click",function(){return ye.toggleSideNav()}),p._UZ(9,"span",9),p.qZA()(),p.TgZ(10,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(11,"a",11),p._UZ(12,"span",12),p.YNc(13,O,2,0,"span",13),p.qZA()(),p.TgZ(14,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(15,"a",14),p._UZ(16,"span",15),p.YNc(17,A,2,0,"span",13),p.qZA()(),p.TgZ(18,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(19,"a",16),p._UZ(20,"span",17),p.YNc(21,G,2,0,"span",13),p.qZA()(),p.TgZ(22,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(23,"a",18),p._UZ(24,"span",17),p.YNc(25,te,2,0,"span",13),p.qZA()(),p.ynx(26)(27),p.TgZ(28,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(29,"a",19),p._UZ(30,"span",20),p.YNc(31,B,2,0,"span",13),p.qZA()(),p.BQk(),p.ynx(32),p.TgZ(33,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(34,"a",21),p._UZ(35,"span",22),p.YNc(36,w,2,0,"span",13),p.qZA()(),p.BQk(),p.ynx(37),p.TgZ(38,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(39,"a",23),p._UZ(40,"span",20),p.YNc(41,m,2,0,"span",13),p.qZA()(),p.BQk(),p.ynx(42),p.TgZ(43,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(44,"a",24),p._UZ(45,"span",20),p.YNc(46,v,2,0,"span",13),p.qZA()(),p.BQk(),p.YNc(47,F,4,1,"ng-template",null,25,p.W1O),p.BQk(),p.YNc(49,de,7,1,"ng-template",null,26,p.W1O),p.TgZ(51,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(52,"a",27),p._UZ(53,"span",28),p.YNc(54,ge,2,0,"span",13),p.qZA()(),p.TgZ(55,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(56,"a",29),p._UZ(57,"span",30),p.YNc(58,oe,2,0,"span",13),p.qZA()(),p.TgZ(59,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(60,"a",31),p._UZ(61,"span",28),p.YNc(62,le,2,0,"span",13),p.qZA()(),p.TgZ(63,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(64,"a",32),p._UZ(65,"span",33),p.YNc(66,pe,2,0,"span",13),p.qZA()(),p.TgZ(67,"li",10),p.NdJ("click",function(){return ye.closeOverLay()}),p.TgZ(68,"a",34),p.NdJ("click",function(){return ye.logout()}),p._UZ(69,"span",35),p.YNc(70,ie,2,0,"span",13),p.qZA()()()(),p.TgZ(71,"div",36)(72,"div",37)(73,"div",38)(74,"a",39),p._UZ(75,"img",40),p.qZA(),p._UZ(76,"div",41),p.TgZ(77,"div",42)(78,"form",43)(79,"div",44),p._UZ(80,"input",45),p.TgZ(81,"button",46),p.O4$(),p.TgZ(82,"svg",47),p._UZ(83,"path",48)(84,"path",49),p.qZA()()()()(),p.kcU(),p.TgZ(85,"div",50)(86,"div",51)(87,"a",52),p.O4$(),p.TgZ(88,"svg",53),p._UZ(89,"path",48)(90,"path",54)(91,"path",55),p.qZA(),p.kcU(),p.TgZ(92,"span",56),p._uU(93,"2"),p.qZA()()(),p.TgZ(94,"div",57)(95,"div",58)(96,"div",59)(97,"a",60),p._UZ(98,"span",61),p.TgZ(99,"div")(100,"strong"),p._uU(101,"Madeleine"),p.qZA(),p._uU(102," Hey! there I' am available.... "),p.TgZ(103,"div",62),p._uU(104,"3 hours ago"),p.qZA()()()(),p._UZ(105,"div",63),p.TgZ(106,"a",64),p._uU(107,"See all Messages"),p.qZA()()(),p._UZ(108,"div",65),p.TgZ(109,"div",66)(110,"a",67)(111,"div",68)(112,"div",69),p._uU(113," E "),p.qZA(),p._UZ(114,"span"),p.qZA(),p.TgZ(115,"div",70)(116,"h6",71),p._uU(117,"Edidiong Akpanowo"),p.qZA(),p.TgZ(118,"h6",72),p._uU(119,"#55-453-21"),p.qZA(),p.TgZ(120,"h6",73),p._uU(121,"Calgary"),p.qZA()()(),p.TgZ(122,"div",58)(123,"a",74),p.NdJ("click",function(){return ye.logout()}),p._UZ(124,"i",75),p._uU(125," Sign out "),p.qZA()()()()(),p.TgZ(126,"div",76)(127,"div",77)(128,"div",78)(129,"div",79)(130,"a",80),p.O4$(),p.TgZ(131,"svg",47),p._UZ(132,"path",48)(133,"path",49),p.qZA()(),p.kcU(),p.TgZ(134,"div",81)(135,"div",82)(136,"div",83)(137,"button",84),p.O4$(),p.TgZ(138,"svg",47),p._UZ(139,"path",48)(140,"path",49),p.qZA()()()()()(),p.kcU(),p.TgZ(141,"div",85)(142,"a",86),p.O4$(),p.TgZ(143,"svg",87),p._UZ(144,"path",48)(145,"circle",88)(146,"path",89),p.qZA()()(),p.kcU(),p.TgZ(147,"div",90)(148,"a",91),p.O4$(),p.TgZ(149,"svg",47),p._UZ(150,"path",48)(151,"path",92)(152,"path",93),p.qZA(),p.kcU(),p._UZ(153,"span",94),p.qZA(),p.TgZ(154,"div",58)(155,"div",95)(156,"a",96)(157,"span",97),p._UZ(158,"i",98),p.qZA(),p.TgZ(159,"div")(160,"span",99),p._uU(161," Commented on your post "),p.qZA(),p.TgZ(162,"div",100),p._uU(163,"3 hours ago"),p.qZA()()(),p.TgZ(164,"a",96)(165,"span",101),p._UZ(166,"i",102),p.qZA(),p.TgZ(167,"div")(168,"span",99),p._uU(169," New file has been Uploaded "),p.qZA(),p.TgZ(170,"div",100),p._uU(171,"5 hour ago"),p.qZA()()(),p.TgZ(172,"a",96)(173,"span",103),p._UZ(174,"i",104),p.qZA(),p.TgZ(175,"div")(176,"span",99),p._uU(177," User account has Updated"),p.qZA(),p.TgZ(178,"div",100),p._uU(179,"20 mins ago"),p.qZA()()(),p.TgZ(180,"a",96)(181,"span",105),p._UZ(182,"i",106),p.qZA(),p.TgZ(183,"div")(184,"span",99),p._uU(185," New Order Recevied"),p.qZA(),p.TgZ(186,"div",100),p._uU(187,"1 hour ago"),p.qZA()()(),p.TgZ(188,"a",96)(189,"span",107),p._UZ(190,"i",108),p.qZA(),p.TgZ(191,"div")(192,"span",99),p._uU(193," 3 New Comments"),p.qZA(),p.TgZ(194,"div",100),p._uU(195,"1 day ago"),p.qZA()()(),p.TgZ(196,"a",96)(197,"span",109),p._UZ(198,"i",110),p.qZA(),p.TgZ(199,"div")(200,"span",99),p._uU(201,"Server Rebooted"),p.qZA(),p.TgZ(202,"div",100),p._uU(203,"2 hour ago"),p.qZA()()()(),p._UZ(204,"div",63),p.TgZ(205,"a",64),p._uU(206,"View all Notification"),p.qZA()()(),p.TgZ(207,"div",111)(208,"a",112),p.O4$(),p.TgZ(209,"svg",47),p._UZ(210,"path",48)(211,"path",113)(212,"path",114),p.qZA(),p.kcU(),p.TgZ(213,"span",115),p._uU(214,"78"),p.qZA()(),p.TgZ(215,"div",58)(216,"div",59)(217,"a",60),p._UZ(218,"span",61),p.TgZ(219,"div")(220,"strong"),p._uU(221,"Madeleine"),p.qZA(),p._uU(222," Hey! there I' am available.... "),p.TgZ(223,"div",62),p._uU(224,"3 hours ago"),p.qZA()()(),p.TgZ(225,"a",60),p._UZ(226,"span",116),p.TgZ(227,"div")(228,"strong"),p._uU(229,"Anthony"),p.qZA(),p._uU(230," New product Launching... "),p.TgZ(231,"div",62),p._uU(232,"5 hour ago"),p.qZA()()(),p.TgZ(233,"a",60),p._UZ(234,"span",117),p.TgZ(235,"div")(236,"strong"),p._uU(237,"Olivia"),p.qZA(),p._uU(238," New Schedule Realease...... "),p.TgZ(239,"div",62),p._uU(240,"45 mintues ago"),p.qZA()()(),p.TgZ(241,"a",60),p._UZ(242,"span",118),p.TgZ(243,"div")(244,"strong"),p._uU(245,"Sanderson"),p.qZA(),p._uU(246," New Schedule Realease...... "),p.TgZ(247,"div",62),p._uU(248,"2 days ago"),p.qZA()()()(),p._UZ(249,"div",63),p.TgZ(250,"a",64),p._uU(251,"See all Messages"),p.qZA()()(),p.TgZ(252,"div",119)(253,"a",120),p._UZ(254,"img",121),p.TgZ(255,"div")(256,"strong",122),p._uU(257,"English"),p.qZA()()(),p.TgZ(258,"div",58)(259,"a",60),p._UZ(260,"img",123),p.TgZ(261,"div")(262,"strong"),p._uU(263,"French"),p.qZA()()()()()()()()(),p._UZ(264,"div",124),p.qZA()),2&ae&&(p.xp6(13),p.Q6J("ngIf",ye.toggle),p.xp6(4),p.Q6J("ngIf",ye.toggle),p.xp6(4),p.Q6J("ngIf",ye.toggle),p.xp6(4),p.Q6J("ngIf",ye.toggle),p.xp6(6),p.Q6J("ngIf",ye.toggle),p.xp6(5),p.Q6J("ngIf",ye.toggle),p.xp6(5),p.Q6J("ngIf",ye.toggle),p.xp6(5),p.Q6J("ngIf",ye.toggle),p.xp6(8),p.Q6J("ngIf",ye.toggle),p.xp6(4),p.Q6J("ngIf",ye.toggle),p.xp6(4),p.Q6J("ngIf",ye.toggle),p.xp6(4),p.Q6J("ngIf",ye.toggle),p.xp6(4),p.Q6J("ngIf",ye.toggle))},directives:[Ie.yS,Ie.Od,z.O5,R._Y,R.JL,R.F],styles:[".sidebar-logo-img[_ngcontent-%COMP%]{width:50%}.sm-sidebar-logo-img[_ngcontent-%COMP%]{width:30%;float:left;height:auto}.profile-1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{text-transform:capitalize}ul.sidemenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#14abef!important}.active-link[_ngcontent-%COMP%]{background-color:#00547a!important}.marquee[_ngcontent-%COMP%]{font-weight:700;font-size:15px}.acc-text[_ngcontent-%COMP%]{color:red;font-weight:700;font-size:12px}.profile-icon[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;background:#1051b94b;color:#00000087;text-align:center;align-items:center;display:flex;justify-content:center;font-size:30px;font-weight:700;font-family:Arimo,sans-serif;text-transform:uppercase}.profile-icon-ctn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background-color:#265eb9;display:block;margin-top:32px;margin-left:-15px}.profile-icon-ctn[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;margin-right:15px}.location-text[_ngcontent-%COMP%]{font-style:italic;font-size:12px}.name-text[_ngcontent-%COMP%]{font-weight:700;font-size:15px;text-transform:capitalize}.slide[_ngcontent-%COMP%]   .active-item[_ngcontent-%COMP%]{background-color:#00547a!important}.slide[_ngcontent-%COMP%]   .side-menu_item[_ngcontent-%COMP%]:focus, .side-menu_item[_ngcontent-%COMP%]:not(:hover){background-color:#00547a!important}.app-sidebar[_ngcontent-%COMP%]{overflow-y:scroll;background-color:#14abef!important}.app-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.app-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#ddd8d8}.app-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{box-shadow:inset 0 0 3px #b8b5b54d}.active-item[_ngcontent-%COMP%]:not(:hover){background-color:#00547a!important}.side-menu__item.active[_ngcontent-%COMP%], .side-menu__item[_ngcontent-%COMP%]:hover, .side-menu__item[_ngcontent-%COMP%]:focus{background-color:#00547a;cursor:pointer!important}.nohover[_ngcontent-%COMP%]{background-color:#14abef!important;cursor:pointer!important}.nohover.active[_ngcontent-%COMP%], .nohover[_ngcontent-%COMP%]:hover, .nohover[_ngcontent-%COMP%]:focus{background-color:#14abef!important}.img-flag[_ngcontent-%COMP%]{height:20px;width:30px;margin-top:-15px}.language-text[_ngcontent-%COMP%]{font-size:12px}.nav-unread[_ngcontent-%COMP%]{position:absolute;top:0px}.sm-dealer-img[_ngcontent-%COMP%]{height:20px;width:30px}.sm-dealer-text[_ngcontent-%COMP%]{font-size:14px}.navbar-icons[_ngcontent-%COMP%]{padding-right:25px;display:inline-block;font-size:17px;width:40px}.header-top-sidebar-icons[_ngcontent-%COMP%]{font-size:19px;display:inline-block;padding-right:20px}.app-sidebar__toggle[_ngcontent-%COMP%]{padding-left:35px}.sub-header-text[_ngcontent-%COMP%]{padding-left:260px;padding-top:10px;background-color:#14abef}.side-menu__label[_ngcontent-%COMP%]{white-space:break-spaces}.app-header[_ngcontent-%COMP%]{padding-bottom:0!important}.navbar-icons[_ngcontent-%COMP%], .side-menu__label[_ngcontent-%COMP%]{font-size:17px;color:#fff}.navbar-icons[_ngcontent-%COMP%]{color:#fff}.side-menu[_ngcontent-%COMP%]{background-color:#14abef!important;padding-top:75px}.side-menu[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.side-menu[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#00547a}.side-menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:#fff}.app-sidebar[_ngcontent-%COMP%]{width:290px;padding-top:0!important}.app-sidebar[_ngcontent-%COMP%]{border:0px!important}.subheader-bar[_ngcontent-%COMP%]{font-size:13px;color:#fff;overflow:hidden;cursor:pointer}li.slide[_ngcontent-%COMP%]{overflow:hidden}.side-menu__label[_ngcontent-%COMP%]{display:flex}@media screen and (max-width: 762px){.sub-header-text[_ngcontent-%COMP%]{padding-left:20px;padding-top:10px}}.over-layer-header[_ngcontent-%COMP%]{height:50px}.leading-none[_ngcontent-%COMP%]{margin-top:-8px;padding:5px}.google_translate_element[_ngcontent-%COMP%]{margin-top:50px}a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.cart-num[_ngcontent-%COMP%]{position:absolute;background-color:#00547a;color:#fff;font-size:13px;font-weight:700;border-radius:50%;width:25px;height:25px;text-align:center;left:25px;top:5px}"]}),$})();const he=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"",component:(()=>{class ${constructor(){}ngOnInit(){}}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275cmp=p.Xpm({type:$,selectors:[["app-dealers"]],decls:6,vars:0,consts:[[1,"page",2,"height","100%"],[1,"page-main","dealer-side","pb-3",2,"overflow-y","scroll","height","100%"],[1,"app-content"],[1,"side-app","dealer-side2"]],template:function(ae,ye){1&ae&&(p.TgZ(0,"div",0)(1,"div",1),p._UZ(2,"app-dealer-navbar"),p.TgZ(3,"div",2)(4,"div",3),p._UZ(5,"router-outlet"),p.qZA()()()())},directives:[xe,Ie.lC],styles:[""]}),$})(),children:[{path:"dashboard",component:P},{path:"quick-order",component:(()=>{class ${constructor(){}ngOnInit(){}}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275cmp=p.Xpm({type:$,selectors:[["app-quick-order"]],decls:2,vars:0,template:function(ae,ye){1&ae&&(p.TgZ(0,"p"),p._uU(1,"quick-order works!"),p.qZA())},styles:[""]}),$})()},{path:"flyer",component:(()=>{class ${constructor(){}ngOnInit(){}}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275cmp=p.Xpm({type:$,selectors:[["app-flyers"]],decls:2,vars:0,template:function(ae,ye){1&ae&&(p.TgZ(0,"p"),p._uU(1,"flyers works!"),p.qZA())},styles:[""]}),$})()},{path:"help",component:(()=>{class ${constructor(){}ngOnInit(){}}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275cmp=p.Xpm({type:$,selectors:[["app-help"]],decls:2,vars:0,template:function(ae,ye){1&ae&&(p.TgZ(0,"p"),p._uU(1,"help works!"),p.qZA())},styles:[""]}),$})()},{path:"order-summary",component:(()=>{class ${constructor(){}ngOnInit(){}}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275cmp=p.Xpm({type:$,selectors:[["app-order-summary"]],decls:2,vars:0,template:function(ae,ye){1&ae&&(p.TgZ(0,"p"),p._uU(1,"order-summary works!"),p.qZA())},styles:[""]}),$})()},{path:"orders-remaining",component:(()=>{class ${constructor(){}ngOnInit(){}}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275cmp=p.Xpm({type:$,selectors:[["app-orders-remaining"]],decls:2,vars:0,template:function(ae,ye){1&ae&&(p.TgZ(0,"p"),p._uU(1,"orders-remaining works!"),p.qZA())},styles:[""]}),$})()},{path:"product-seminars",component:(()=>{class ${constructor(){}ngOnInit(){}}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275cmp=p.Xpm({type:$,selectors:[["app-product-seminiars"]],decls:2,vars:0,template:function(ae,ye){1&ae&&(p.TgZ(0,"p"),p._uU(1,"product-seminiars works!"),p.qZA())},styles:[""]}),$})()},{path:"show-orders",component:(()=>{class ${constructor(){}ngOnInit(){}}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275cmp=p.Xpm({type:$,selectors:[["app-show-orders"]],decls:2,vars:0,template:function(ae,ye){1&ae&&(p.TgZ(0,"p"),p._uU(1,"show-orders works!"),p.qZA())},styles:[""]}),$})()},{path:"special-order",component:(()=>{class ${constructor(){}ngOnInit(){}}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275cmp=p.Xpm({type:$,selectors:[["app-special-order"]],decls:2,vars:0,template:function(ae,ye){1&ae&&(p.TgZ(0,"p"),p._uU(1,"special-order works!"),p.qZA())},styles:[""]}),$})()}]}];let N=(()=>{class ${}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275mod=p.oAB({type:$}),$.\u0275inj=p.cJS({imports:[[Ie.Bz.forChild(he)],Ie.Bz]}),$})();var fe=Ee(6036),Ae=Ee.t(fe,2);Ee(2813),function He(){return"undefined"==typeof window}()||function Fe($,be,ae){$[be]=ae}(Ae,"verbosity",fe.VerbosityLevel.INFOS);let Pe=(()=>{class ${}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275mod=p.oAB({type:$}),$.\u0275inj=p.cJS({}),$})(),ve=(()=>{class ${}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275mod=p.oAB({type:$}),$.\u0275inj=p.cJS({imports:[[z.ez,N,R.u5,b,Pe]]}),$})()},3597:(Ne,ee,Ee)=>{"use strict";var z;function Ie(W,e){var t=Object.keys(W);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(W);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(W,s).enumerable})),t.push.apply(t,i)}return t}function p(W){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(t),!0).forEach(function(i){k(W,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(t)):Ie(Object(t)).forEach(function(i){Object.defineProperty(W,i,Object.getOwnPropertyDescriptor(t,i))})}return W}function Me(W){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(W)}function ue(W,e){if(!(W instanceof e))throw new TypeError("Cannot call a class as a function")}function K(W,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(W,i.key,i)}}function u(W,e,t){return e&&K(W.prototype,e),t&&K(W,t),W}function k(W,e,t){return e in W?Object.defineProperty(W,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):W[e]=t,W}function b(W,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(e&&e.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),e&&R(W,e)}function P(W){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(W)}function R(W,e){return(R=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(W,e)}function J(W,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(W)}function O(W){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=P(W);if(e){var s=P(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return J(this,t)}}function G(W){return function(e){if(Array.isArray(e))return B(e)}(W)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(W)||te(W)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(W,e){if(W){if("string"==typeof W)return B(W,e);var t=Object.prototype.toString.call(W).slice(8,-1);return"Object"===t&&W.constructor&&(t=W.constructor.name),"Map"===t||"Set"===t?Array.from(W):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?B(W,e):void 0}}function B(W,e){(null==e||e>W.length)&&(e=W.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=W[t];return i}var w=function(){function W(){ue(this,W)}return u(W,[{key:"shadeRGBColor",value:function(e,t){var i=t.split(","),s=e<0?0:255,a=e<0?-1*e:e,r=parseInt(i[0].slice(4),10),n=parseInt(i[1],10),o=parseInt(i[2],10);return"rgb("+(Math.round((s-r)*a)+r)+","+(Math.round((s-n)*a)+n)+","+(Math.round((s-o)*a)+o)+")"}},{key:"shadeHexColor",value:function(e,t){var i=parseInt(t.slice(1),16),s=e<0?0:255,a=e<0?-1*e:e,r=i>>16,n=i>>8&255,o=255&i;return"#"+(16777216+65536*(Math.round((s-r)*a)+r)+256*(Math.round((s-n)*a)+n)+(Math.round((s-o)*a)+o)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return W.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&"object"===Me(e)&&!Array.isArray(e)&&null!=e}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,i=[];for(t=0;t<e.length;t++)i[t]=e[t];return i}},{key:"extend",value:function(e,t){var i=this;"function"!=typeof Object.assign&&(Object.assign=function(a){if(null==a)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(a),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var l in o)o.hasOwnProperty(l)&&(r[l]=o[l])}return r});var s=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(a){i.isObject(t[a])&&a in e?s[a]=i.extend(e[a],t[a]):Object.assign(s,k({},a,t[a]))}),s}},{key:"extendArray",value:function(e,t){var i=[];return e.map(function(s){i.push(W.extend(t,s))}),i}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){if(W.is("Array",e)){for(var t=[],i=0;i<e.length;i++)t[i]=this.clone(e[i]);return t}if(W.is("Null",e))return null;if(W.is("Date",e))return e;if("object"===Me(e)){var s={};for(var a in e)e.hasOwnProperty(a)&&(s[a]=this.clone(e[a]));return s}return e}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return null===e?e:parseFloat(e)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){var t=String(e).split(/[eE]/);if(1===t.length)return t[0];var i="",s=e<0?"-":"",a=t[0].replace(".",""),r=Number(t[1])+1;if(r<0){for(i=s+"0.";r++;)i+="0";return i+a.replace(/^-/,"")}for(r-=a.length;r--;)i+="0";return a+i}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),i=e.clientHeight,s=e.clientWidth;return i-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[s-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),i]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,i){return Array.isArray(i)&&(i=i.reduce(function(s,a){return s.length>a.length?s:a})),t.length>i.length?t:i},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==e.substring(0,1)&&(e="#999999");var i=e.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var s=0;s<i.length;s++)i[s]=parseInt(1===i[s].length?i[s]+i[s]:i[s],16);return void 0!==t&&i.push(t),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var i=[],s=2*Math.PI/t,a=0;a<t;a++){var r={};r.x=e*Math.sin(a*s),r.y=-e*Math.cos(a*s),i.push(r)}return i}},{key:"polarToCartesian",value:function(e,t,i,s){var a=(s-90)*Math.PI/180;return{x:e+i*Math.cos(a),y:t+i*Math.sin(a)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",i=e.toString().slice();return i.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,i){if(i>=e.length)for(var s=i-e.length+1;s--;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e.style.key=t[i])}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var s=e.indexOf("Edge/");return s>0&&parseInt(e.substring(s+5,e.indexOf(".",s)),10)}}]),W}(),m=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.setEasingFunctions()}return u(W,[{key:"setEasingFunctions",value:function(){var e;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":e="-";break;case"easein":e="<";break;case"easeout":e=">";break;case"easeinout":default:e="<>";break;case"swing":e=function(t){var i=1.70158;return(t-=1)*t*((i+1)*t+i)+1};break;case"bounce":e=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":e=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=e}}},{key:"animateLine",value:function(e,t,i,s){e.attr(t).animate(s).attr(i)}},{key:"animateMarker",value:function(e,t,i,s,a,r){t||(t=0),e.attr({r:t,width:t,height:t}).animate(s,a).attr({r:i,width:i.width,height:i.height}).afterAll(function(){r()})}},{key:"animateCircle",value:function(e,t,i,s,a){e.attr({r:t.r,cx:t.cx,cy:t.cy}).animate(s,a).attr({r:i.r,cx:i.cx,cy:i.cy})}},{key:"animateRect",value:function(e,t,i,s,a){e.attr(t).animate(s).attr(i).afterAll(function(){return a()})}},{key:"animatePathsGradually",value:function(e){var h=this.w,d=0;h.config.chart.animations.animateGradually.enabled&&(d=h.config.chart.animations.animateGradually.delay),h.config.chart.animations.dynamicAnimation.enabled&&h.globals.dataChanged&&"bar"!==h.config.chart.type&&(d=0),this.morphSVG(e.el,e.realIndex,e.j,"line"!==h.config.chart.type||h.globals.comboCharts?e.fill:"stroke",e.pathFrom,e.pathTo,e.speed,e.delay*d)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){e.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof t.config.chart.events.animationEnd&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,i,s,a,r,n,o){var l=this,h=this.w;a||(a=e.attr("pathFrom")),r||(r=e.attr("pathTo"));var d=function(g){return"radar"===h.config.chart.type&&(n=1),"M 0 ".concat(h.globals.gridHeight)};(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=d()),(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=d()),h.globals.shouldAnimate||(n=1),e.plot(a).animate(1,h.globals.easing,o).plot(a).animate(n,h.globals.easing,o).plot(r).afterAll(function(){w.isNumber(i)?i===h.globals.series[h.globals.maxValsInArrayIndex].length-2&&h.globals.shouldAnimate&&l.animationCompleted(e):"none"!==s&&h.globals.shouldAnimate&&(!h.globals.comboCharts&&t===h.globals.series.length-1||h.globals.comboCharts)&&l.animationCompleted(e),l.showDelayedElements()})}}]),W}(),v=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"getDefaultFilter",value:function(e,t){var i=this.w;e.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==i.config.states.normal.filter?this.applyFilter(e,t,i.config.states.normal.filter.type,i.config.states.normal.filter.value):i.config.chart.dropShadow.enabled&&this.dropShadow(e,i.config.chart.dropShadow,t)}},{key:"addNormalFilter",value:function(e,t){var i=this.w;i.config.chart.dropShadow.enabled&&!e.node.classList.contains("apexcharts-marker")&&this.dropShadow(e,i.config.chart.dropShadow,t)}},{key:"addLightenFilter",value:function(e,t,i){var s=this,a=this.w,r=i.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter(function(n){var o=a.config.chart.dropShadow;(o.enabled?s.addShadow(n,t,o):n).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:r}})}),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"addDarkenFilter",value:function(e,t,i){var s=this,a=this.w,r=i.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter(function(n){var o=a.config.chart.dropShadow;(o.enabled?s.addShadow(n,t,o):n).componentTransfer({rgb:{type:"linear",slope:r}})}),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"applyFilter",value:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(i){case"none":this.addNormalFilter(e,t);break;case"lighten":this.addLightenFilter(e,t,{intensity:s});break;case"darken":this.addDarkenFilter(e,t,{intensity:s})}}},{key:"addShadow",value:function(e,t,i){var s=i.blur,a=i.top,r=i.left,n=i.color,o=i.opacity,l=e.flood(Array.isArray(n)?n[t]:n,o).composite(e.sourceAlpha,"in").offset(r,a).gaussianBlur(s).merge(e.source);return e.blend(e.source,l)}},{key:"dropShadow",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=t.top,a=t.left,r=t.blur,n=t.color,o=t.opacity,l=t.noUserSpaceOnUse,h=this.w;return e.unfilter(!0),w.isIE()&&"radialBar"===h.config.chart.type||(n=Array.isArray(n)?n[i]:n,e.filter(function(d){var g;g=w.isSafari()||w.isFirefox()||w.isIE()?d.flood(n,o).composite(d.sourceAlpha,"in").offset(a,s).gaussianBlur(r):d.flood(n,o).composite(d.sourceAlpha,"in").offset(a,s).gaussianBlur(r).merge(d.source),d.blend(d.source,g)}),l||e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)),e}},{key:"setSelectionFilter",value:function(e,t,i){var s=this.w;if(void 0!==s.globals.selectedDataPoints[t]&&s.globals.selectedDataPoints[t].indexOf(i)>-1){e.node.setAttribute("selected",!0);var a=s.config.states.active.filter;"none"!==a&&this.applyFilter(e,t,a.type,a.value)}}},{key:"_scaleFilterSize",value:function(e){!function(t){for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),W}(),T=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"drawLine",value:function(e,t,i,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",l=this.w,h=l.globals.dom.Paper.line().attr({x1:e,y1:t,x2:i,y2:s,stroke:a,"stroke-dasharray":r,"stroke-width":n,"stroke-linecap":o});return h}},{key:"drawRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=this.w,g=d.globals.dom.Paper.rect();return g.attr({x:e,y:t,width:i>0?i:0,height:s>0?s:0,rx:a,ry:a,opacity:n,"stroke-width":null!==o?o:0,stroke:null!==l?l:"none","stroke-dasharray":h}),g.node.setAttribute("fill",r),g}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",a=this.w,r=a.globals.dom.Paper.polygon(e).attr({fill:s,stroke:t,"stroke-width":i});return r}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;e<0&&(e=0);var s=i.globals.dom.Paper.circle(2*e);return null!==t&&s.attr(t),s}},{key:"drawPath",value:function(e){var t=e.d,i=void 0===t?"":t,s=e.stroke,a=void 0===s?"#a8a8a8":s,r=e.strokeWidth,n=void 0===r?1:r,o=e.fill,l=e.fillOpacity,h=void 0===l?1:l,d=e.strokeOpacity,g=void 0===d?1:d,x=e.classes,C=e.strokeLinecap,S=void 0===C?null:C,I=e.strokeDashArray,U=void 0===I?0:I,Q=this.w;return null===S&&(S=Q.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(Q.globals.gridHeight)),Q.globals.dom.Paper.path(i).attr({fill:o,"fill-opacity":h,stroke:a,"stroke-opacity":g,"stroke-linecap":S,"stroke-width":n,"stroke-dasharray":U,class:x})}},{key:"group",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,i=t.globals.dom.Paper.group();return null!==e&&i.attr(e),i}},{key:"move",value:function(e,t){return["M",e,t].join(" ")}},{key:"line",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=null;return null===i?s=["L",e,t].join(" "):"H"===i?s=["H",e].join(" "):"V"===i&&(s=["V",t].join(" ")),s}},{key:"curve",value:function(e,t,i,s,a,r){return["C",e,t,i,s,a,r].join(" ")}},{key:"quadraticCurve",value:function(e,t,i,s){return["Q",e,t,i,s].join(" ")}},{key:"arc",value:function(e,t,i,s,a,r,n){var o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l="A";o&&(l="a");var h=[l,e,t,i,s,a,r,n].join(" ");return h}},{key:"renderPaths",value:function(e){var t,i=e.j,s=e.realIndex,a=e.pathFrom,r=e.pathTo,n=e.stroke,o=e.strokeWidth,l=e.strokeLinecap,h=e.fill,d=e.animationDelay,g=e.initialSpeed,x=e.dataChangeSpeed,C=e.className,S=e.shouldClipToGrid,I=void 0===S||S,U=e.bindEventsOnPaths,Q=void 0===U||U,se=e.drawShadow,c=void 0===se||se,f=this.w,M=new v(this.ctx),X=new m(this.ctx),me=this.w.config.chart.animations.enabled,Le=me&&this.w.config.chart.animations.dynamicAnimation.enabled,we=!!(me&&!f.globals.resized||Le&&f.globals.dataChanged&&f.globals.shouldAnimate);we?t=a:(t=r,f.globals.animationEnded=!0);var ze,Be=f.config.stroke.dashArray;ze=Array.isArray(Be)?Be[s]:f.config.stroke.dashArray;var Ve=this.drawPath({d:t,stroke:n,strokeWidth:o,fill:h,fillOpacity:1,classes:C,strokeLinecap:l,strokeDashArray:ze});Ve.attr("index",s),I&&Ve.attr({"clip-path":"url(#gridRectMask".concat(f.globals.cuid,")")}),"none"!==f.config.states.normal.filter.type?M.getDefaultFilter(Ve,s):f.config.chart.dropShadow.enabled&&c&&(!f.config.chart.dropShadow.enabledOnSeries||f.config.chart.dropShadow.enabledOnSeries&&-1!==f.config.chart.dropShadow.enabledOnSeries.indexOf(s))&&M.dropShadow(Ve,f.config.chart.dropShadow,s),Q&&(Ve.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Ve)),Ve.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Ve)),Ve.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Ve))),Ve.attr({pathTo:r,pathFrom:a});var it={el:Ve,j:i,realIndex:s,pathFrom:a,pathTo:r,fill:h,strokeWidth:o,delay:d};return!me||f.globals.resized||f.globals.dataChanged?!f.globals.resized&&f.globals.dataChanged||X.showDelayedElements():X.animatePathsGradually(p(p({},it),{},{speed:g})),f.globals.dataChanged&&Le&&we&&X.animatePathsGradually(p(p({},it),{},{speed:x})),Ve}},{key:"drawPattern",value:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=this.w,n=r.globals.dom.Paper.pattern(t,i,function(o){"horizontalLines"===e?o.line(0,0,i,0).stroke({color:s,width:a+1}):"verticalLines"===e?o.line(0,0,0,t).stroke({color:s,width:a+1}):"slantedLines"===e?o.line(0,0,t,i).stroke({color:s,width:a}):"squares"===e?o.rect(t,i).fill("none").stroke({color:s,width:a}):"circles"===e&&o.circle(t).fill("none").stroke({color:s,width:a})});return n}},{key:"drawGradient",value:function(e,t,i,s,a){var r,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=this.w;t.length<9&&0===t.indexOf("#")&&(t=w.hexToRgba(t,s)),i.length<9&&0===i.indexOf("#")&&(i=w.hexToRgba(i,a));var g=0,x=1,C=1,S=null;null!==o&&(g=void 0!==o[0]?o[0]/100:0,x=void 0!==o[1]?o[1]/100:1,C=void 0!==o[2]?o[2]/100:1,S=void 0!==o[3]?o[3]/100:null);var I=!("donut"!==d.config.chart.type&&"pie"!==d.config.chart.type&&"polarArea"!==d.config.chart.type&&"bubble"!==d.config.chart.type);if(r=d.globals.dom.Paper.gradient(I?"radial":"linear",null===l||0===l.length?function(se){se.at(g,t,s),se.at(x,i,a),se.at(C,i,a),null!==S&&se.at(S,t,s)}:function(se){(Array.isArray(l[h])?l[h]:l).forEach(function(c){se.at(c.offset/100,c.color,c.opacity)})}),I){var U=d.globals.gridWidth/2,Q=d.globals.gridHeight/2;r.attr("bubble"!==d.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:U,cy:Q,r:n}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===e?r.from(0,0).to(0,1):"diagonal"===e?r.from(0,0).to(1,1):"horizontal"===e?r.from(0,1).to(1,1):"diagonal2"===e&&r.from(1,0).to(0,1);return r}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,i=e.maxWidth,r=this.getTextRects(t,e.fontSize,e.fontFamily),o=Math.floor(i/(r.width/t.length));return i<r.width?t.slice(0,o-3)+"...":t}},{key:"drawText",value:function(e){var t=this,i=e.x,s=e.y,a=e.text,r=e.textAnchor,n=e.fontSize,o=e.fontFamily,l=e.fontWeight,h=e.foreColor,d=e.opacity,g=e.maxWidth,x=e.cssClass,C=void 0===x?"":x,S=e.isPlainText,I=void 0===S||S,U=this.w;void 0===a&&(a="");var Q=a;r||(r="start"),h&&h.length||(h=U.config.chart.foreColor),l=l||"regular";var se,c={maxWidth:g,fontSize:n=n||"11px",fontFamily:o=o||U.config.chart.fontFamily};return Array.isArray(a)?se=U.globals.dom.Paper.text(function(f){for(var M=0;M<a.length;M++)Q=a[M],g&&(Q=t.getTextBasedOnMaxWidth(p({text:a[M]},c))),0===M?f.tspan(Q):f.tspan(Q).newLine()}):(g&&(Q=this.getTextBasedOnMaxWidth(p({text:a},c))),se=I?U.globals.dom.Paper.plain(a):U.globals.dom.Paper.text(function(f){return f.tspan(Q)})),se.attr({x:i,y:s,"text-anchor":r,"dominant-baseline":"auto","font-size":n,"font-family":o,"font-weight":l,fill:h,class:"apexcharts-text "+C}),se.node.style.fontFamily=o,se.node.style.opacity=d,se}},{key:"drawMarker",value:function(e,t,i){e=e||0;var s=i.pSize||0,a=null;if("square"===i.shape||"rect"===i.shape){var r=void 0===i.pRadius?s/2:i.pRadius;null!==t&&s||(s=0,r=0);var n=1.2*s+r,o=this.drawRect(n,n,n,n,r);o.attr({x:e-n/2,y:t-n/2,cx:e,cy:t,class:i.class?i.class:"",fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,stroke:i.pointStrokeColor,"stroke-width":i.pointStrokeWidth?i.pointStrokeWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}),a=o}else"circle"!==i.shape&&i.shape||(w.isNumber(t)||(s=0,t=0),a=this.drawCircle(s,{cx:e,cy:t,class:i.class?i.class:"",stroke:i.pointStrokeColor,fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,"stroke-width":i.pointStrokeWidth?i.pointStrokeWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}));return a}},{key:"pathMouseEnter",value:function(e,t){var i=this.w,s=new v(this.ctx),a=parseInt(e.node.getAttribute("index"),10),r=parseInt(e.node.getAttribute("j"),10);if("function"==typeof i.config.chart.events.dataPointMouseEnter&&i.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:a,dataPointIndex:r,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:a,dataPointIndex:r,w:i}]),("none"===i.config.states.active.filter.type||"true"!==e.node.getAttribute("selected"))&&"none"!==i.config.states.hover.filter.type&&!i.globals.isTouchDevice){var n=i.config.states.hover.filter;s.applyFilter(e,a,n.type,n.value)}}},{key:"pathMouseLeave",value:function(e,t){var i=this.w,s=new v(this.ctx),a=parseInt(e.node.getAttribute("index"),10),r=parseInt(e.node.getAttribute("j"),10);"function"==typeof i.config.chart.events.dataPointMouseLeave&&i.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:a,dataPointIndex:r,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:a,dataPointIndex:r,w:i}]),"none"!==i.config.states.active.filter.type&&"true"===e.node.getAttribute("selected")||"none"!==i.config.states.hover.filter.type&&s.getDefaultFilter(e,a)}},{key:"pathMouseDown",value:function(e,t){var i=this.w,s=new v(this.ctx),a=parseInt(e.node.getAttribute("index"),10),r=parseInt(e.node.getAttribute("j"),10),n="false";if("true"===e.node.getAttribute("selected")){if(e.node.setAttribute("selected","false"),i.globals.selectedDataPoints[a].indexOf(r)>-1){var o=i.globals.selectedDataPoints[a].indexOf(r);i.globals.selectedDataPoints[a].splice(o,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var l=i.globals.dom.Paper.select(".apexcharts-series path").members,h=i.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,d=function(C){Array.prototype.forEach.call(C,function(S){S.node.setAttribute("selected","false"),s.getDefaultFilter(S,a)})};d(l),d(h)}e.node.setAttribute("selected","true"),n="true",void 0===i.globals.selectedDataPoints[a]&&(i.globals.selectedDataPoints[a]=[]),i.globals.selectedDataPoints[a].push(r)}if("true"===n){var g=i.config.states.active.filter;if("none"!==g)s.applyFilter(e,a,g.type,g.value);else if("none"!==i.config.states.hover.filter&&!i.globals.isTouchDevice){var x=i.config.states.hover.filter;s.applyFilter(e,a,x.type,x.value)}}else"none"!==i.config.states.active.filter.type&&("none"===i.config.states.hover.filter.type||i.globals.isTouchDevice?s.getDefaultFilter(e,a):s.applyFilter(e,a,(x=i.config.states.hover.filter).type,x.value));"function"==typeof i.config.chart.events.dataPointSelection&&i.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:r,w:i}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:r,w:i}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&"function"==typeof e.getBBox&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,i,s){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=this.w,n=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:i,foreColor:"#fff",opacity:0});s&&n.attr("transform",s),r.globals.dom.Paper.add(n);var o=n.bbox();return a||(o=n.node.getBoundingClientRect()),n.remove(),{width:o.width,height:o.height}}},{key:"placeTextWithEllipsis",value:function(e,t,i){if("function"==typeof e.getComputedTextLength&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=i/1.1)){for(var s=t.length-3;s>0;s-=3)if(e.getSubStringLength(0,s)<=i/1.1)return void(e.textContent=t.substring(0,s)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])}}]),W}(),F=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"getStackedSeriesTotals",value:function(){var e=this.w,t=[];if(0===e.globals.series.length)return t;for(var i=0;i<e.globals.series[e.globals.maxValsInArrayIndex].length;i++){for(var s=0,a=0;a<e.globals.series.length;a++)void 0!==e.globals.series[a][i]&&(s+=e.globals.series[a][i]);t.push(s)}return e.globals.stackedSeriesTotals=t,t}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?this.w.config.series.reduce(function(t,i){return t+i},0):this.w.globals.series[e].reduce(function(t,i){return t+i},0)}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===e?this.w.config.series.filter(function(t){return null!==t}):this.w.config.series[e].data.filter(function(t){return null!==t})).length}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,i,s){return t===s[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,i=e.slice();return t.config.xaxis.convertedCatToNumeric&&(i=e.map(function(s,a){return t.config.xaxis.labels.formatter(s-t.globals.minX+1)})),i}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(i){t=Math.max(t,i)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(i){t=Math.max(t,i.size)}),t>0&&(t+=e.config.markers.hover.sizeOffset+1),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,i){var s=0;if(Array.isArray(t))for(var a=0;a<t.length;a++)s+=t[a];else s+=t;return s})}},{key:"getSeriesTotalsXRange",value:function(e,t){var i=this.w;return i.globals.series.map(function(s,a){for(var r=0,n=0;n<s.length;n++)i.globals.seriesX[a][n]>e&&i.globals.seriesX[a][n]<t&&(r+=s[n]);return r})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,i){var s=[];if(Array.isArray(t))for(var a=0;a<t.length;a++){var r=e.globals.stackedSeriesTotals[a],n=0;r&&(n=100*t[a]/r),s.push(n)}else{var o=100*t/e.globals.seriesTotals.reduce(function(l,h){return l+h},0);s.push(o)}return s})}},{key:"getCalculatedRatios",value:function(){var e,t,i,s,a=this.w.globals,r=[],n=0,o=[],l=.1,h=0;if(a.yRange=[],a.isMultipleYAxis)for(var d=0;d<a.minYArr.length;d++)a.yRange.push(Math.abs(a.minYArr[d]-a.maxYArr[d])),o.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var g=0;g<a.yRange.length;g++)r.push(a.yRange[g]/a.gridHeight);if(t=a.xRange/a.gridWidth,i=Math.abs(a.initialMaxX-a.initialMinX)/a.gridWidth,e=a.yRange/a.gridWidth,s=a.xRange/a.gridHeight,(n=a.zRange/a.gridHeight*16)||(n=1),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(a.hasNegs=!0),a.isMultipleYAxis){o=[];for(var x=0;x<r.length;x++)o.push(-a.minYArr[x]/r[x])}else o.push(-a.minY/r[0]),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(l=-a.minY/e,h=a.minX/t);return{yRatio:r,invertedYRatio:e,zRatio:n,xRatio:t,initialXRatio:i,invertedXRatio:s,baseLineInvertedY:l,baseLineY:o,baseLineX:h}}},{key:"getLogSeries",value:function(e){var t=this,i=this.w;return i.globals.seriesLog=e.map(function(s,a){return i.config.yaxis[a]&&i.config.yaxis[a].logarithmic?s.map(function(r){return null===r?null:t.getLogVal(i.config.yaxis[a].logBase,r,a)}):s}),i.globals.invalidLogScale?e:i.globals.seriesLog}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,i){if(0===t)return 0;var s=this.w,a=0===s.globals.minYArr[i]?-1:this.getBaseLog(e,s.globals.minYArr[i]),r=(0===s.globals.maxYArr[i]?0:this.getBaseLog(e,s.globals.maxYArr[i]))-a;return t<1?t/r:(this.getBaseLog(e,t)-a)/r}},{key:"getLogYRatios",value:function(e){var t=this,i=this.w,s=this.w.globals;return s.yLogRatio=e.slice(),s.logYRange=s.yRange.map(function(a,r){if(i.config.yaxis[r]&&t.w.config.yaxis[r].logarithmic){var n,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;return s.seriesLog.forEach(function(h,d){h.forEach(function(g){i.config.yaxis[d]&&i.config.yaxis[d].logarithmic&&(o=Math.max(g,o),l=Math.min(g,l))})}),n=Math.pow(s.yRange[r],Math.abs(l-o)/s.yRange[r]),s.yLogRatio[r]=n/s.gridHeight,n}}),s.invalidLogScale?e.slice():s.yLogRatio}}],[{key:"checkComboSeries",value:function(e){var t=!1,i=0,s=0;return e.length&&void 0!==e[0].type&&e.forEach(function(a){"bar"!==a.type&&"column"!==a.type&&"candlestick"!==a.type&&"boxPlot"!==a.type||i++,void 0!==a.type&&s++}),s>0&&(t=!0),{comboBarCount:i,comboCharts:t}}},{key:"extendArrayProps",value:function(e,t,i){return t.yaxis&&(t=e.extendYAxis(t,i)),t.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),t.annotations.xaxis&&(t=e.extendXAxisAnnotations(t)),t.annotations.points&&(t=e.extendPointAnnotations(t))),t}}]),W}(),H=function(){function W(e){ue(this,W),this.w=e.w,this.annoCtx=e}return u(W,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;if("vertical"===e.label.orientation){var s=null!==t?t:0,a=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(s,"']"));if(null!==a){var r=a.getBoundingClientRect();a.setAttribute("x",parseFloat(a.getAttribute("x"))-r.height+4),a.setAttribute("y","top"===e.label.position?parseFloat(a.getAttribute("y"))+r.width:parseFloat(a.getAttribute("y"))-r.width);var n=this.annoCtx.graphics.rotateAroundCenter(a),o=n.x,l=n.y;a.setAttribute("transform","rotate(-90 ".concat(o," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var i=this.w;if(!e||void 0===t.label.text||void 0!==t.label.text&&!String(t.label.text).trim())return null;var s=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),a=e.getBoundingClientRect(),r=t.label.style.padding.left,n=t.label.style.padding.right,o=t.label.style.padding.top,l=t.label.style.padding.bottom;"vertical"===t.label.orientation&&(o=t.label.style.padding.left,l=t.label.style.padding.right,r=t.label.style.padding.top,n=t.label.style.padding.bottom);var g=this.annoCtx.graphics.drawRect(a.left-s.left-r-i.globals.barPadForNumericAxis,a.top-s.top-o,a.width+r+n,a.height+o+l,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&g.node.classList.add(t.id),g}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,i=function(s,a,r){var n=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(a,"']"));if(n){var o=n.parentNode,l=e.addBackgroundToAnno(n,s);l&&(o.insertBefore(l.node,n),s.label.mouseEnter&&l.node.addEventListener("mouseenter",s.label.mouseEnter.bind(e,s)),s.label.mouseLeave&&l.node.addEventListener("mouseleave",s.label.mouseLeave.bind(e,s)))}};t.config.annotations.xaxis.map(function(s,a){i(s,a,"xaxis")}),t.config.annotations.yaxis.map(function(s,a){i(s,a,"yaxis")}),t.config.annotations.points.map(function(s,a){i(s,a,"point")})}},{key:"getY1Y2",value:function(e,t){var i,s="y1"===e?t.y:t.y2,a=this.w;if(this.annoCtx.invertAxis){var r=a.globals.labels.indexOf(s);a.config.xaxis.convertedCatToNumeric&&(r=a.globals.categoryLabels.indexOf(s));var n=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(r+1)+")");n&&(i=parseFloat(n.getAttribute("y")))}else{var o;o=a.config.yaxis[t.yAxisIndex].logarithmic?(s=new F(this.annoCtx.ctx).getLogVal(s,t.yAxisIndex))/a.globals.yLogRatio[t.yAxisIndex]:(s-a.globals.minYArr[t.yAxisIndex])/(a.globals.yRange[t.yAxisIndex]/a.globals.gridHeight),i=a.globals.gridHeight-o,a.config.yaxis[t.yAxisIndex]&&a.config.yaxis[t.yAxisIndex].reversed&&(i=o)}return i}},{key:"getX1X2",value:function(e,t){var i=this.w,s=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,a=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,r=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,n=(t.x-s)/(r/i.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(n=(a-t.x)/(r/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||(n=this.getStringX(t.x));var o=(t.x2-s)/(r/i.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(o=(a-t.x2)/(r/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||(o=this.getStringX(t.x2)),"x1"===e?n:o}},{key:"getStringX",value:function(e){var t=this.w,i=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var s=t.globals.labels.indexOf(e),a=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(s+1)+")");return a&&(i=parseFloat(a.getAttribute("x"))),i}}]),W}(),ce=function(){function W(e){ue(this,W),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new H(this.annoCtx)}return u(W,[{key:"addXaxisAnnotation",value:function(e,t,i){var s,a=this.w,r=this.helpers.getX1X2("x1",e),n=e.label.text,o=e.strokeDashArray;if(w.isNumber(r)){if(null==e.x2){var l=this.annoCtx.graphics.drawLine(r+e.offsetX,0+e.offsetY,r+e.offsetX,a.globals.gridHeight+e.offsetY,e.borderColor,o,e.borderWidth);t.appendChild(l.node),e.id&&l.node.classList.add(e.id)}else{if((s=this.helpers.getX1X2("x2",e))<r){var h=r;r=s,s=h}var d=this.annoCtx.graphics.drawRect(r+e.offsetX,0+e.offsetY,s-r,a.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,o);d.node.classList.add("apexcharts-annotation-rect"),d.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),t.appendChild(d.node),e.id&&d.node.classList.add(e.id)}var g="top"===e.label.position?4:a.globals.gridHeight,x=this.annoCtx.graphics.getTextRects(n,parseFloat(e.label.style.fontSize)),C=this.annoCtx.graphics.drawText({x:r+e.label.offsetX,y:g+e.label.offsetY-("vertical"===e.label.orientation?"top"===e.label.position?x.width/2-12:-x.width/2:0),text:n,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});C.attr({rel:i}),t.appendChild(C.node),this.annoCtx.helpers.setOrientations(e,i)}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(s,a){e.addXaxisAnnotation(s,i.node,a)}),i}}]),W}(),ne=function(){function W(e){ue(this,W),this.w=e.w,this.annoCtx=e,this.helpers=new H(this.annoCtx)}return u(W,[{key:"addYaxisAnnotation",value:function(e,t,i){var s,a=this.w,r=e.strokeDashArray,n=this.helpers.getY1Y2("y1",e),o=e.label.text;if(null==e.y2){var l=this.annoCtx.graphics.drawLine(0+e.offsetX,n+e.offsetY,this._getYAxisAnnotationWidth(e),n+e.offsetY,e.borderColor,r,e.borderWidth);t.appendChild(l.node),e.id&&l.node.classList.add(e.id)}else{if((s=this.helpers.getY1Y2("y2",e))>n){var h=n;n=s,s=h}var d=this.annoCtx.graphics.drawRect(0+e.offsetX,s+e.offsetY,this._getYAxisAnnotationWidth(e),n-s,0,e.fillColor,e.opacity,1,e.borderColor,r);d.node.classList.add("apexcharts-annotation-rect"),d.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),t.appendChild(d.node),e.id&&d.node.classList.add(e.id)}var x=this.annoCtx.graphics.drawText({x:("right"===e.label.position?a.globals.gridWidth:0)+e.label.offsetX,y:(null!=s?s:n)+e.label.offsetY-3,text:o,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});x.attr({rel:i}),t.appendChild(x.node)}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.map(function(s,a){e.addYaxisAnnotation(s,i.node,a)}),i}}]),W}(),de=function(){function W(e){ue(this,W),this.w=e.w,this.annoCtx=e,this.helpers=new H(this.annoCtx)}return u(W,[{key:"addPointAnnotation",value:function(e,t,i){var s=this.helpers.getX1X2("x1",e),a=this.helpers.getY1Y2("y1",e);if(w.isNumber(s)){var r={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},n=this.annoCtx.graphics.drawMarker(s+e.marker.offsetX,a+e.marker.offsetY,r);t.appendChild(n.node);var o=e.label.text?e.label.text:"",l=this.annoCtx.graphics.drawText({x:s+e.label.offsetX,y:a+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:o,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(l.attr({rel:i}),t.appendChild(l.node),e.customSVG.SVG){var h=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});h.attr({transform:"translate(".concat(s+e.customSVG.offsetX,", ").concat(a+e.customSVG.offsetY,")")}),h.node.innerHTML=e.customSVG.SVG,t.appendChild(h.node)}if(e.image.path){var d=e.image.width?e.image.width:20,g=e.image.height?e.image.height:20;n=this.annoCtx.addImage({x:s+e.image.offsetX-d/2,y:a+e.image.offsetY-g/2,width:d,height:g,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&n.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&n.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e))}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(s,a){e.addPointAnnotation(s,i.node,a)}),i}}]),W}(),ge={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},oe=function(){function W(){ue(this,W),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return u(W,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[ge],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(e){return new Date(e).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,i){return t+i},0)/e.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,i){return t+i},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return null!==e?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),W}(),le=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.graphics=new T(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new H(this),this.xAxisAnnotations=new ce(this),this.yAxisAnnotations=new ne(this),this.pointsAnnotations=new de(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return u(W,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),s=this.pointsAnnotations.drawPointAnnotations(),a=e.config.chart.animations.enabled,r=[t,i,s],n=[i.node,t.node,s.node],o=0;o<3;o++)e.globals.dom.elGraphical.add(r[o]),!a||e.globals.resized||e.globals.dataChanged||"scatter"!==e.config.chart.type&&"bubble"!==e.config.chart.type&&e.globals.dataPoints>1&&n[o].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:n[o],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,i){e.addImage(t,i)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,i){e.addText(t,i)})}},{key:"addXaxisAnnotation",value:function(e,t,i){this.xAxisAnnotations.addXaxisAnnotation(e,t,i)}},{key:"addYaxisAnnotation",value:function(e,t,i){this.yAxisAnnotations.addYaxisAnnotation(e,t,i)}},{key:"addPointAnnotation",value:function(e,t,i){this.pointsAnnotations.addPointAnnotation(e,t,i)}},{key:"addText",value:function(e,t){var a=e.text,g=e.backgroundColor,x=e.borderWidth,C=e.strokeDashArray,S=e.borderRadius,I=e.borderColor,U=e.appendTo,Q=void 0===U?".apexcharts-annotations":U,se=e.paddingLeft,c=void 0===se?4:se,f=e.paddingRight,M=void 0===f?4:f,X=e.paddingBottom,me=void 0===X?2:X,Le=e.paddingTop,we=void 0===Le?2:Le,Be=this.w,ze=this.graphics.drawText({x:e.x,y:e.y,text:a,textAnchor:e.textAnchor||"start",fontSize:e.fontSize||"12px",fontWeight:e.fontWeight||"regular",fontFamily:e.fontFamily||Be.config.chart.fontFamily,foreColor:e.foreColor||Be.config.chart.foreColor,cssClass:e.cssClass}),Ve=Be.globals.dom.baseEl.querySelector(Q);Ve&&Ve.appendChild(ze.node);var je=ze.bbox();if(a){var it=this.graphics.drawRect(je.x-c,je.y-we,je.width+c+M,je.height+me+we,S,g||"transparent",1,x,I,C);Ve.insertBefore(it.node,ze.node)}}},{key:"addImage",value:function(e,t){var i=this.w,a=e.x,r=void 0===a?0:a,n=e.y,o=void 0===n?0:n,l=e.width,h=void 0===l?20:l,d=e.height,g=void 0===d?20:d,x=e.appendTo,C=void 0===x?".apexcharts-annotations":x,S=i.globals.dom.Paper.image(e.path);S.size(h,g).move(r,o);var I=i.globals.dom.baseEl.querySelector(C);return I&&I.appendChild(S.node),S}},{key:"addXaxisAnnotationExternal",value:function(e,t,i){return this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(e,t,i){return this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(e,t,i){return void 0===this.invertAxis&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(e){var t=e.params,i=e.pushToMemory,s=e.context,a=e.type,r=e.contextMethod,n=s,o=n.w,l=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations")),h=l.childNodes.length+1,d=new oe,g=Object.assign({},"xaxis"===a?d.xAxisAnnotation:"yaxis"===a?d.yAxisAnnotation:d.pointAnnotation),x=w.extend(g,t);switch(a){case"xaxis":this.addXaxisAnnotation(x,l,h);break;case"yaxis":this.addYaxisAnnotation(x,l,h);break;case"point":this.addPointAnnotation(x,l,h)}var C=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(h,"']")),S=this.helpers.addBackgroundToAnno(C,x);return S&&l.insertBefore(S.node,C),i&&o.globals.memory.methodsToExec.push({context:n,id:x.id?x.id:w.randomId(),method:r,label:"addAnnotation",params:t}),s}},{key:"clearAnnotations",value:function(e){var t=e.w,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");t.globals.memory.methodsToExec.map(function(s,a){"addText"!==s.label&&"addAnnotation"!==s.label||t.globals.memory.methodsToExec.splice(a,1)}),i=w.listToArray(i),Array.prototype.forEach.call(i,function(s){for(;s.firstChild;)s.removeChild(s.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var i=e.w,s=i.globals.dom.baseEl.querySelectorAll(".".concat(t));s&&(i.globals.memory.methodsToExec.map(function(a,r){a.id===t&&i.globals.memory.methodsToExec.splice(r,1)}),Array.prototype.forEach.call(s,function(a){a.parentElement.removeChild(a)}))}}]),W}(),pe=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0}return u(W,[{key:"clippedImgArea",value:function(e){var t=this.w,i=t.config,s=parseInt(t.globals.gridWidth,10),a=parseInt(t.globals.gridHeight,10),r=s>a?s:a,n=e.image,o=0,l=0;void 0===e.width&&void 0===e.height?void 0!==i.fill.image.width&&void 0!==i.fill.image.height?(o=i.fill.image.width+1,l=i.fill.image.height):(o=r+1,l=r):(o=e.width,l=e.height);var h=document.createElementNS(t.globals.SVGNS,"pattern");T.setAttrs(h,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:o+"px",height:l+"px"});var d=document.createElementNS(t.globals.SVGNS,"image");h.appendChild(d),d.setAttributeNS(window.SVG.xlink,"href",n),T.setAttrs(d,{x:0,y:0,preserveAspectRatio:"none",width:o+"px",height:l+"px"}),d.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(h)}},{key:"getSeriesIndex",value:function(e){var t=this.w;return this.seriesIndex=("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||"heatmap"===t.config.chart.type||"treemap"===t.config.chart.type?e.seriesNumber:e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(e){var t=this.w;this.opts=e;var i,s,a,r=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var n=this.getFillColors()[this.seriesIndex];void 0!==t.globals.seriesColors[this.seriesIndex]&&(n=t.globals.seriesColors[this.seriesIndex]),"function"==typeof n&&(n=n({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:t}));var o=this.getFillType(this.seriesIndex),l=Array.isArray(r.fill.opacity)?r.fill.opacity[this.seriesIndex]:r.fill.opacity;e.color&&(n=e.color);var h=n;if(-1===n.indexOf("rgb")?n.length<9&&(h=w.hexToRgba(n,l)):n.indexOf("rgba")>-1&&(l=w.getOpacityFromRGBA(n)),e.opacity&&(l=e.opacity),"pattern"===o&&(s=this.handlePatternFill(s,n,l,h)),"gradient"===o&&(a=this.handleGradientFill(n,l,this.seriesIndex)),"image"===o){var d=r.fill.image.src,g=e.patternID?e.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(d)?e.seriesNumber<d.length?d[e.seriesNumber]:d[0]:d,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:"pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(g)}),i="url(#pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(g,")")}else i="gradient"===o?a:"pattern"===o?s:h;return e.solid&&(i=h),i}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,i=this.opts,s=[];return e.globals.comboCharts?"line"===e.config.series[this.seriesIndex].type?Array.isArray(e.globals.stroke.colors)?s=e.globals.stroke.colors:s.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?s=e.globals.fill.colors:s.push(e.globals.fill.colors):"line"===t.chart.type?Array.isArray(e.globals.stroke.colors)?s=e.globals.stroke.colors:s.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?s=e.globals.fill.colors:s.push(e.globals.fill.colors),void 0!==i.fillColors&&(s=[],Array.isArray(i.fillColors)?s=i.fillColors.slice():s.push(i.fillColors)),s}},{key:"handlePatternFill",value:function(e,t,i,s){var a=this.w.config,r=this.opts,n=new T(this.ctx),o=void 0===a.fill.pattern.strokeWidth?Array.isArray(a.stroke.width)?a.stroke.width[this.seriesIndex]:a.stroke.width:Array.isArray(a.fill.pattern.strokeWidth)?a.fill.pattern.strokeWidth[this.seriesIndex]:a.fill.pattern.strokeWidth,l=t;return Array.isArray(a.fill.pattern.style)?void 0!==a.fill.pattern.style[r.seriesNumber]?n.drawPattern(a.fill.pattern.style[r.seriesNumber],a.fill.pattern.width,a.fill.pattern.height,l,o,i):s:n.drawPattern(a.fill.pattern.style,a.fill.pattern.width,a.fill.pattern.height,l,o,i)}},{key:"handleGradientFill",value:function(e,t,i){var s,a=this.w.config,r=this.opts,n=new T(this.ctx),o=new w,l=a.fill.gradient.type,h=e,d=void 0===a.fill.gradient.opacityFrom?t:Array.isArray(a.fill.gradient.opacityFrom)?a.fill.gradient.opacityFrom[i]:a.fill.gradient.opacityFrom;h.indexOf("rgba")>-1&&(d=w.getOpacityFromRGBA(h));var g=void 0===a.fill.gradient.opacityTo?t:Array.isArray(a.fill.gradient.opacityTo)?a.fill.gradient.opacityTo[i]:a.fill.gradient.opacityTo;if(void 0===a.fill.gradient.gradientToColors||0===a.fill.gradient.gradientToColors.length)s=o.shadeColor("dark"===a.fill.gradient.shade?-1*parseFloat(a.fill.gradient.shadeIntensity):parseFloat(a.fill.gradient.shadeIntensity),e.indexOf("rgb")>-1?w.rgb2hex(e):e);else if(a.fill.gradient.gradientToColors[r.seriesNumber]){var x=a.fill.gradient.gradientToColors[r.seriesNumber];s=x,x.indexOf("rgba")>-1&&(g=w.getOpacityFromRGBA(x))}else s=e;if(a.fill.gradient.inverseColors){var C=h;h=s,s=C}return h.indexOf("rgb")>-1&&(h=w.rgb2hex(h)),s.indexOf("rgb")>-1&&(s=w.rgb2hex(s)),n.drawGradient(l,h,s,d,g,r.size,a.fill.gradient.stops,a.fill.gradient.colorStops,i)}}]),W}(),ie=function(){function W(e,t){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)void 0===e.globals.markers.size[t]&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(i){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e,t,i,s){var a,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=this.w,o=t,l=e,h=null,d=new T(this.ctx),g=n.config.markers.discrete&&n.config.markers.discrete.length;if((n.globals.markers.size[t]>0||r||g)&&(h=d.group({class:r||g?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(n.globals.cuid,")")),Array.isArray(l.x))for(var x=0;x<l.x.length;x++){var C=i;1===i&&0===x&&(C=0),1===i&&1===x&&(C=1);var S="apexcharts-marker";"line"!==n.config.chart.type&&"area"!==n.config.chart.type||n.globals.comboCharts||n.config.tooltip.intersect||(S+=" no-pointer-events");var I=Array.isArray(n.config.markers.size)?n.globals.markers.size[t]>0:n.config.markers.size>0;if(I||r||g){w.isNumber(l.y[x])?S+=" w".concat(w.randomId()):S="apexcharts-nullpoint";var U=this.getMarkerConfig({cssClass:S,seriesIndex:t,dataPointIndex:C});n.config.series[o].data[C]&&(n.config.series[o].data[C].fillColor&&(U.pointFillColor=n.config.series[o].data[C].fillColor),n.config.series[o].data[C].strokeColor&&(U.pointStrokeColor=n.config.series[o].data[C].strokeColor)),s&&(U.pSize=s),(a=d.drawMarker(l.x[x],l.y[x],U)).attr("rel",C),a.attr("j",C),a.attr("index",t),a.node.setAttribute("default-marker-size",U.pSize);var Q=new v(this.ctx);Q.setSelectionFilter(a,t,C),this.addEvents(a),h&&h.add(a)}else void 0===n.globals.pointsArray[t]&&(n.globals.pointsArray[t]=[]),n.globals.pointsArray[t].push([l.x[x],l.y[x]])}return h}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,i=e.seriesIndex,s=e.dataPointIndex,a=void 0===s?null:s,r=e.finishRadius,n=void 0===r?null:r,o=this.w,l=this.getMarkerStyle(i),h=o.globals.markers.size[i],d=o.config.markers;return null!==a&&d.discrete.length&&d.discrete.map(function(g){g.seriesIndex===i&&g.dataPointIndex===a&&(l.pointStrokeColor=g.strokeColor,l.pointFillColor=g.fillColor,h=g.size,l.pointShape=g.shape)}),{pSize:null===n?h:n,pRadius:d.radius,width:Array.isArray(d.width)?d.width[i]:d.width,height:Array.isArray(d.height)?d.height[i]:d.height,pointStrokeWidth:Array.isArray(d.strokeWidth)?d.strokeWidth[i]:d.strokeWidth,pointStrokeColor:l.pointStrokeColor,pointFillColor:l.pointFillColor,shape:l.pointShape||(Array.isArray(d.shape)?d.shape[i]:d.shape),class:t,pointStrokeOpacity:Array.isArray(d.strokeOpacity)?d.strokeOpacity[i]:d.strokeOpacity,pointStrokeDashArray:Array.isArray(d.strokeDashArray)?d.strokeDashArray[i]:d.strokeDashArray,pointFillOpacity:Array.isArray(d.fillOpacity)?d.fillOpacity[i]:d.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(e){var t=this.w,i=new T(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,i=t.globals.markers.colors,s=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(s)?s[e]:s,pointFillColor:Array.isArray(i)?i[e]:i}}}]),W}(),xe=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return u(W,[{key:"draw",value:function(e,t,i){var s=this.w,a=new T(this.ctx),r=i.realIndex,n=i.pointsPos,o=i.zRatio,l=i.elParent,h=a.group({class:"apexcharts-series-markers apexcharts-series-".concat(s.config.chart.type)});if(h.attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(n.x))for(var d=0;d<n.x.length;d++){var g=t+1,x=!0;0===t&&0===d&&(g=0),0===t&&1===d&&(g=1);var C=0,S=s.globals.markers.size[r];if(o!==1/0){S=s.globals.seriesZ[r][g]/o;var I=s.config.plotOptions.bubble;I.minBubbleRadius&&S<I.minBubbleRadius&&(S=I.minBubbleRadius),I.maxBubbleRadius&&S>I.maxBubbleRadius&&(S=I.maxBubbleRadius)}s.config.chart.animations.enabled||(C=S);var Q=n.y[d];if(C=C||0,null!==Q&&void 0!==s.globals.series[r][g]||(x=!1),x){var se=this.drawPoint(n.x[d],Q,C,S,r,g,t);h.add(se)}l.add(h)}}},{key:"drawPoint",value:function(e,t,i,s,a,r,n){var o=this.w,l=a,h=new m(this.ctx),d=new v(this.ctx),g=new pe(this.ctx),x=new ie(this.ctx),C=new T(this.ctx),S=x.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:r,finishRadius:"bubble"===o.config.chart.type||o.globals.comboCharts&&o.config.series[a]&&"bubble"===o.config.series[a].type?s:null});s=S.pSize;var I,U=g.fillPath({seriesNumber:a,dataPointIndex:r,color:S.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[a][n]});if("circle"===S.shape?I=C.drawCircle(i):"square"!==S.shape&&"rect"!==S.shape||(I=C.drawRect(0,0,S.width-S.pointStrokeWidth/2,S.height-S.pointStrokeWidth/2,S.pRadius)),o.config.series[l].data[r]&&o.config.series[l].data[r].fillColor&&(U=o.config.series[l].data[r].fillColor),I.attr({x:e-S.width/2-S.pointStrokeWidth/2,y:t-S.height/2-S.pointStrokeWidth/2,cx:e,cy:t,fill:U,"fill-opacity":S.pointFillOpacity,stroke:S.pointStrokeColor,r:s,"stroke-width":S.pointStrokeWidth,"stroke-dasharray":S.pointStrokeDashArray,"stroke-opacity":S.pointStrokeOpacity}),o.config.chart.dropShadow.enabled&&d.dropShadow(I,o.config.chart.dropShadow,a),!this.initialAnim||o.globals.dataChanged||o.globals.resized?o.globals.animationEnded=!0:h.animateMarker(I,0,"circle"===S.shape?s:{width:S.width,height:S.height},o.config.chart.animations.speed,o.globals.easing,function(){window.setTimeout(function(){h.animationCompleted(I)},100)}),o.globals.dataChanged&&"circle"===S.shape)if(this.dynamicAnim){var c,f,M,X,me=o.config.chart.animations.dynamicAnimation.speed;null!=(X=o.globals.previousPaths[a]&&o.globals.previousPaths[a][n])&&(c=X.x,f=X.y,M=void 0!==X.r?X.r:s);for(var Le=0;Le<o.globals.collapsedSeries.length;Le++)o.globals.collapsedSeries[Le].index===a&&(me=1,s=0);0===e&&0===t&&(s=0),h.animateCircle(I,{cx:c,cy:f,r:M},{cx:e,cy:t,r:s},me,o.globals.easing)}else I.attr({r:s});return I.attr({rel:r,j:r,index:a,"default-marker-size":s}),d.setSelectionFilter(I,a,r),x.addEvents(I),I.node.classList.add("apexcharts-marker"),I}},{key:"centerTextInBubble",value:function(e){return{y:e+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),W}(),V=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"dataLabelsCorrection",value:function(e,t,i,s,a,r,n){var o=this.w,l=!1,h=new T(this.ctx).getTextRects(i,n),d=h.width,g=h.height;if(t<0&&(t=0),t>o.globals.gridHeight+g&&(t=o.globals.gridHeight+g/2),void 0===o.globals.dataLabelsRects[s]&&(o.globals.dataLabelsRects[s]=[]),o.globals.dataLabelsRects[s].push({x:e,y:t,width:d,height:g}),void 0!==o.globals.dataLabelsRects[s][o.globals.dataLabelsRects[s].length-2]){var S=o.globals.dataLabelsRects[s][void 0!==o.globals.lastDrawnDataLabelsIndexes[s]?o.globals.lastDrawnDataLabelsIndexes[s][o.globals.lastDrawnDataLabelsIndexes[s].length-1]:0];(e>S.x+S.width+2||t>S.y+S.height+2||e+d<S.x)&&(l=!0)}return(0===a||r)&&(l=!0),{x:e,y:t,textRects:h,drawnextLabel:l}}},{key:"drawDataLabel",value:function(e,t,i){var s=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,r=this.w,n=new T(this.ctx),o=r.config.dataLabels,l=0,h=0,d=i,g=null;if(!o.enabled||!Array.isArray(e.x))return g;g=n.group({class:"apexcharts-data-labels"});for(var x=0;x<e.x.length;x++)if(l=e.x[x]+o.offsetX,h=e.y[x]+o.offsetY+a,!isNaN(l)){1===i&&0===x&&(d=0),1===i&&1===x&&(d=1);var C=r.globals.series[t][d],S="",I=function(se){return r.config.dataLabels.formatter(se,{ctx:s.ctx,seriesIndex:t,dataPointIndex:d,w:r})};if("bubble"===r.config.chart.type){S=I(C=r.globals.seriesZ[t][d]),h=e.y[x];var U=new xe(this.ctx),Q=U.centerTextInBubble(h,t,d);h=Q.y}else void 0!==C&&(S=I(C));this.plotDataLabelsText({x:l,y:h,text:S,i:t,j:d,parent:g,offsetCorrection:!0,dataLabelsConfig:r.config.dataLabels})}return g}},{key:"plotDataLabelsText",value:function(e){var t=this.w,i=new T(this.ctx),s=e.x,a=e.y,r=e.i,n=e.j,o=e.text,l=e.textAnchor,h=e.fontSize,d=e.parent,g=e.dataLabelsConfig,x=e.color,C=e.alwaysDrawDataLabel,S=e.offsetCorrection;if(!(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(r)<0)){var I={x:s,y:a,drawnextLabel:!0,textRects:null};S&&(I=this.dataLabelsCorrection(s,a,o,r,n,C,parseInt(g.style.fontSize,10))),t.globals.zoomed||(s=I.x,a=I.y),I.textRects&&(s<-10-I.textRects.width||s>t.globals.gridWidth+I.textRects.width+10)&&(o="");var U=t.globals.dataLabels.style.colors[r];(("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(U=t.globals.dataLabels.style.colors[n]),"function"==typeof U&&(U=U({series:t.globals.series,seriesIndex:r,dataPointIndex:n,w:t})),x&&(U=x);var Q=g.offsetX,se=g.offsetY;if("bar"!==t.config.chart.type&&"rangeBar"!==t.config.chart.type||(Q=0,se=0),I.drawnextLabel){var c=i.drawText({width:100,height:parseInt(g.style.fontSize,10),x:s+Q,y:a+se,foreColor:U,textAnchor:l||g.textAnchor,text:o,fontSize:h||g.style.fontSize,fontFamily:g.style.fontFamily,fontWeight:g.style.fontWeight||"normal"});if(c.attr({class:"apexcharts-datalabel",cx:s,cy:a}),g.dropShadow.enabled){var f=g.dropShadow;new v(this.ctx).dropShadow(c,f)}d.add(c),void 0===t.globals.lastDrawnDataLabelsIndexes[r]&&(t.globals.lastDrawnDataLabelsIndexes[r]=[]),t.globals.lastDrawnDataLabelsIndexes[r].push(n)}}}},{key:"addBackgroundToDataLabel",value:function(e,t){var i=this.w,s=i.config.dataLabels.background,a=s.padding,r=s.padding/2,n=t.width,o=t.height,l=new T(this.ctx).drawRect(t.x-a,t.y-r/2,n+2*a,o+r,s.borderRadius,"transparent"===i.config.chart.background?"#fff":i.config.chart.background,s.opacity,s.borderWidth,s.borderColor);return s.dropShadow.enabled&&new v(this.ctx).dropShadow(l,s.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var e=this.w;if("bubble"!==e.config.chart.type)for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<t.length;i++){var s=t[i],a=s.getBBox(),r=null;if(a.width&&a.height&&(r=this.addBackgroundToDataLabel(s,a)),r){s.parentNode.insertBefore(r.node,s);var n=s.getAttribute("fill");!e.config.chart.animations.enabled||e.globals.resized||e.globals.dataChanged?r.attr({fill:n}):r.animate().attr({fill:n}),s.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),s=0;s<t.length;s++)i&&i.insertBefore(t[s],i.nextSibling)}}]),W}(),E=function(){function W(e){ue(this,W),this.w=e.w,this.barCtx=e}return u(W,[{key:"handleBarDataLabels",value:function(e){var t=e.x,i=e.y,s=e.y1,a=e.y2,r=e.i,n=e.j,o=e.realIndex,l=e.series,h=e.barHeight,d=e.barWidth,g=e.barYPosition,x=e.visibleSeries,C=e.renderedPath,S=this.w,I=new T(this.barCtx.ctx),U=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[o]:this.barCtx.strokeWidth,Q=t+parseFloat(d*x),se=i+parseFloat(h*x);S.globals.isXNumeric&&!S.globals.isBarHorizontal&&(Q=t+parseFloat(d*(x+1)),se=i+parseFloat(h*(x+1))-U);var M,c=t,f=i,X=S.config.dataLabels,me=this.barCtx.barOptions.dataLabels;void 0!==g&&this.barCtx.isRangeBar&&(se=g,f=g);var Le=X.offsetX,we=X.offsetY,Be={width:0,height:0};S.config.dataLabels.enabled&&(Be=I.getTextRects(S.globals.yLabelFormatters[0](this.barCtx.series[r][n]),parseFloat(X.style.fontSize)));var Ve={x:t,y:i,i:r,j:n,renderedPath:C,bcx:Q,bcy:se,barHeight:h,barWidth:d,textRects:Be,strokeWidth:U,dataLabelsX:c,dataLabelsY:f,barDataLabelsConfig:me,offX:Le,offY:we};return M=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Ve):this.calculateColumnsDataLabelsPosition(Ve),C.attr({cy:M.bcy,cx:M.bcx,j:n,val:l[r][n],barHeight:h,barWidth:d}),this.drawCalculatedDataLabels({x:M.dataLabelsX,y:M.dataLabelsY,val:this.barCtx.isRangeBar?[s,a]:l[r][n],i:o,j:n,barWidth:d,barHeight:h,textRects:Be,dataLabelsConfig:X})}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t,i=this.w,s=e.i,a=e.j,r=e.y,n=e.bcx,o=e.barWidth,l=e.barHeight,h=e.textRects,d=e.dataLabelsY,g=e.barDataLabelsConfig,x=e.strokeWidth,C=e.offX,S=e.offY;l=Math.abs(l);var I="vertical"===i.config.plotOptions.bar.dataLabels.orientation;n-=x/2,t=i.globals.isXNumeric?n-o/2+C:n-i.globals.gridWidth/i.globals.dataPoints+o/2+C,I&&(t=t+h.height/2-x/2-2);var Q=this.barCtx.series[s][a]<0,se=r;switch(this.barCtx.isReversed&&(se=r-l+(Q?2*l:0),r-=l),g.position){case"center":d=I?Q?se+l/2+S:se+l/2-S:Q?se-l/2+h.height/2+S:se+l/2+h.height/2-S;break;case"bottom":d=I?Q?se+l+S:se+l-S:Q?se-l+h.height+x+S:se+l-h.height/2+x-S;break;case"top":d=I?Q?se+S:se-S:Q?se-h.height/2-S:se+h.height+S}return i.config.chart.stacked||(d<0?d=0+x:d+h.height/3>i.globals.gridHeight&&(d=i.globals.gridHeight-x)),{bcx:n,bcy:r,dataLabelsX:t,dataLabelsY:d}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this.w,i=e.x,s=e.i,a=e.j,r=e.bcy,n=e.barHeight,o=e.barWidth,l=e.textRects,h=e.dataLabelsX,d=e.strokeWidth,g=e.barDataLabelsConfig,x=e.offX,C=e.offY,S=t.globals.gridHeight/t.globals.dataPoints;o=Math.abs(o);var I=r-(this.barCtx.isRangeBar?0:S)+n/2+l.height/2+C-3,U=this.barCtx.series[s][a]<0,Q=i;switch(this.barCtx.isReversed&&(Q=i+o-(U?2*o:0),i=t.globals.gridWidth-o),g.position){case"center":h=U?Q+o/2-x:Math.max(l.width/2,Q-o/2)+x;break;case"bottom":h=U?Q+o-d-Math.round(l.width/2)-x:Q-o+d+Math.round(l.width/2)+x;break;case"top":h=U?Q-d+Math.round(l.width/2)-x:Q-d-Math.round(l.width/2)+x}return t.config.chart.stacked||(h<0?h=h+l.width+d:h+l.width/2>t.globals.gridWidth&&(h=t.globals.gridWidth-l.width-d)),{bcx:i,bcy:r,dataLabelsX:h,dataLabelsY:I}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,i=e.y,s=e.val,a=e.i,r=e.j,n=e.textRects,o=e.barHeight,l=e.barWidth,h=e.dataLabelsConfig,d=this.w,g="rotate(0)";"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&(g="rotate(-90, ".concat(t,", ").concat(i,")"));var x=new V(this.barCtx.ctx),C=new T(this.barCtx.ctx),S=h.formatter,I=null,U=d.globals.collapsedSeriesIndices.indexOf(a)>-1;if(h.enabled&&!U){I=C.group({class:"apexcharts-data-labels",transform:g});var Q="";void 0!==s&&(Q=S(s,{seriesIndex:a,dataPointIndex:r,w:d}));var se=d.globals.series[a][r]<0,c=d.config.plotOptions.bar.dataLabels.position;"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&("top"===c&&(h.textAnchor=se?"end":"start"),"center"===c&&(h.textAnchor="middle"),"bottom"===c&&(h.textAnchor=se?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&l<C.getTextRects(Q,parseFloat(h.style.fontSize)).width&&(Q=""),d.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?n.width/1.6>Math.abs(l)&&(Q=""):n.height/1.6>Math.abs(o)&&(Q=""));var f=p({},h);this.barCtx.isHorizontal&&s<0&&("start"===h.textAnchor?f.textAnchor="end":"end"===h.textAnchor&&(f.textAnchor="start")),x.plotDataLabelsText({x:t,y:i,text:Q,i:a,j:r,parent:I,dataLabelsConfig:f,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return I}}]),W}(),_=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return u(W,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(w.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),i=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(e,t){var i=this.w;function s(a){for(var r=0;r<a.length;r++)a[r].index===t&&e.node.classList.add("apexcharts-series-collapsed")}s(i.globals.collapsedSeries),s(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.w,a=w.clone(s.globals.initialSeries);s.globals.previousPaths=[],i?(s.globals.collapsedSeries=[],s.globals.ancillaryCollapsedSeries=[],s.globals.collapsedSeriesIndices=[],s.globals.ancillaryCollapsedSeriesIndices=[]):a=this.emptyCollapsedSeries(a),s.config.series=a,e&&(t&&(s.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,i=0;i<e.length;i++)t.globals.collapsedSeriesIndices.indexOf(i)>-1&&(e[i].data=[]);return e}},{key:"toggleSeriesOnHover",value:function(e,t){var i=this.w;t||(t=e.target);var s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===e.type){var a=parseInt(t.getAttribute("rel"),10)-1,r=null,n=null;i.globals.axisCharts||"radialBar"===i.config.chart.type?i.globals.axisCharts?(r=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),n=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"))):r=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")):r=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var o=0;o<s.length;o++)s[o].classList.add(this.legendInactiveClass);null!==r&&(i.globals.axisCharts||r.parentNode.classList.remove(this.legendInactiveClass),r.classList.remove(this.legendInactiveClass),null!==n&&n.classList.remove(this.legendInactiveClass))}else if("mouseout"===e.type)for(var l=0;l<s.length;l++)s[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var i=this,s=this.w,a=s.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),r=function(o){for(var l=0;l<a.length;l++)a[l].classList[o](i.legendInactiveClass)};if("mousemove"===e.type){var n=parseInt(t.getAttribute("rel"),10)-1;r("add"),function(o){for(var l=0;l<a.length;l++){var h=parseInt(a[l].getAttribute("val"),10);h>=o.from&&h<=o.to&&a[l].classList.remove(i.legendInactiveClass)}}(s.config.plotOptions.heatmap.colorScale.ranges[n])}else"mouseout"===e.type&&r("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",i=this.w,s=0;if(i.config.series.length>1)for(var a=i.config.series.map(function(n,o){var l=!1;return e&&(l="bar"===i.config.series[o].type||"column"===i.config.series[o].type),n.data&&n.data.length>0&&!l?o:-1}),r="asc"===t?0:a.length-1;"asc"===t?r<a.length:r>=0;"asc"===t?r++:r--)if(-1!==a[r]){s=a[r];break}return s}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(r,n,o){for(var l=r[n].childNodes,h={type:o,paths:[],realIndex:r[n].getAttribute("data:realIndex")},d=0;d<l.length;d++)if(l[d].hasAttribute("pathTo")){var g=l[d].getAttribute("pathTo");h.paths.push({d:g})}e.globals.previousPaths.push(h)}e.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach(function(r){for(var o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(r,"-series .apexcharts-series")),l=0;l<o.length;l++)t(o,l,r)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(i.length>0)for(var s=function(r){for(var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(r,"'] rect")),o=[],l=function(d){var g=function(C){return n[d].getAttribute(C)},x={x:parseFloat(g("x")),y:parseFloat(g("y")),width:parseFloat(g("width")),height:parseFloat(g("height"))};o.push({rect:x,color:n[d].getAttribute("color")})},h=0;h<n.length;h++)l(h);e.globals.previousPaths.push(o)},a=0;a<i.length;a++)s(a);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(e){var t=this.w,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series"));if(i.length>0)for(var s=0;s<i.length;s++){for(var a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series[data\\:realIndex='").concat(s,"'] circle")),r=[],n=0;n<a.length;n++)r.push({x:a[n].getAttribute("cx"),y:a[n].getAttribute("cy"),r:a[n].getAttribute("r")});t.globals.previousPaths.push(r)}}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,i=new T(this.ctx),s=e.globals.svgWidth/2,a=e.globals.svgHeight/2,r="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,"left"===t.align?(s=10,r="start"):"right"===t.align&&(s=e.globals.svgWidth-10,r="end"),"top"===t.verticalAlign?a=50:"bottom"===t.verticalAlign&&(a=e.globals.svgHeight-50),s+=t.offsetX,a=a+parseInt(t.style.fontSize,10)+2+t.offsetY,void 0!==t.text&&""!==t.text){var n=i.drawText({x:s,y:a,text:t.text,textAnchor:r,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(n)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,i=0;i<e.length;i++)if(0===e[i].length)for(var s=0;s<e[t.globals.maxValsInArrayIndex].length;s++)e[i].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,i=this.filteredSeriesX(),s=0;s<i.length-1;s++)if(i[s][0]!==i[s+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(t){return t.length>0?t:[]})}}]),W}(),Y=function(){function W(e){ue(this,W),this.w=e.w,this.barCtx=e}return u(W,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<e.length;i++)if(e[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[i].length),t.globals.isXNumeric)for(var s=0;s<e[i].length;s++)t.globals.seriesX[i][s]>t.globals.minX&&t.globals.seriesX[i][s]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=e.length-1,t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(){var e,t,i,s,a,r,n,o,l=this.w,h=l.globals.dataPoints;this.barCtx.isRangeBar&&(h=l.globals.labels.length);var d=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(d=1),this.barCtx.isHorizontal)a=(i=l.globals.gridHeight/h)/d,l.globals.isXNumeric&&(a=(i=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,o=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),t=(i-a*this.barCtx.seriesLen)/2;else{if(s=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(s=l.globals.gridWidth/l.globals.dataPoints),r=s/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var g=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(g=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/g>0&&(s=l.globals.minXDiff/g),(r=s/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(r=1)}n=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),e=l.globals.padHorizontal+(s-r*this.barCtx.seriesLen)/2}return{x:e,y:t,yDivision:i,xDivision:s,barHeight:a,barWidth:r,zeroH:n,zeroW:o}}},{key:"getPathFillColor",value:function(e,t,i,s){var a=this.w,r=new pe(this.barCtx.ctx),n=null,o=this.barCtx.barOptions.distributed?i:t;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(l){e[t][i]>=l.from&&e[t][i]<=l.to&&(n=l.color)}),a.config.series[t].data[i]&&a.config.series[t].data[i].fillColor&&(n=a.config.series[t].data[i].fillColor),r.fillPath({seriesNumber:this.barCtx.barOptions.distributed?o:s,dataPointIndex:i,color:n,value:e[t][i]})}},{key:"getStrokeWidth",value:function(e,t,i){var s=0,a=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[e][t],a.config.stroke.show&&(this.barCtx.isNullValue||(s=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),s}},{key:"barBackground",value:function(e){var t=e.j,i=e.i,s=e.x1,a=e.x2,r=e.y1,n=e.y2,o=e.elSeries,l=this.w,h=new T(this.barCtx.ctx),d=new _(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&d===i){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var x=h.drawRect(void 0!==s?s:0,void 0!==r?r:0,void 0!==a?a:l.globals.gridWidth,void 0!==n?n:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[t],this.barCtx.barOptions.colors.backgroundBarOpacity);o.add(x),x.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t=e.barWidth,i=e.barXPosition,s=e.yRatio,a=e.y1,r=e.y2,n=e.strokeWidth,o=e.series,l=e.realIndex,h=e.i,d=e.j,g=e.w,x=new T(this.barCtx.ctx);(n=Array.isArray(n)?n[l]:n)||(n=0);var S=this.getRoundedBars(g,{barWidth:t,strokeWidth:n,yRatio:s,barXPosition:i,y1:a,y2:r},o,h,d),I=i,U=i+t,Q=x.move(I,a),se=x.move(I,a),c=x.line(U-n,a);return g.globals.previousPaths.length>0&&(se=this.barCtx.getPreviousPath(l,d,!1)),Q=Q+x.line(I,S.y2)+S.pathWithRadius+x.line(U-n,S.y2)+c+c+"z",se=se+x.line(I,a)+c+c+c+c+c+x.line(I,a),g.config.chart.stacked&&(this.barCtx.yArrj.push(S.y2),this.barCtx.yArrjF.push(Math.abs(a-S.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[h][d])),{pathTo:Q,pathFrom:se}}},{key:"getBarpaths",value:function(e){var t=e.barYPosition,i=e.barHeight,s=e.x1,a=e.x2,r=e.strokeWidth,n=e.series,o=e.realIndex,l=e.i,h=e.j,d=e.w,g=new T(this.barCtx.ctx);(r=Array.isArray(r)?r[o]:r)||(r=0);var C=this.getRoundedBars(d,{barHeight:i,strokeWidth:r,barYPosition:t,x2:a,x1:s},n,l,h),S=g.move(s,t),I=g.move(s,t);d.globals.previousPaths.length>0&&(I=this.barCtx.getPreviousPath(o,h,!1));var U=t,Q=t+i,se=g.line(s,Q-r);return S=S+g.line(C.x2,U)+C.pathWithRadius+g.line(C.x2,Q-r)+se+se+"z",I=I+g.line(s,U)+se+se+se+se+se+g.line(s,U),d.config.chart.stacked&&(this.barCtx.xArrj.push(C.x2),this.barCtx.xArrjF.push(Math.abs(s-C.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[l][h])),{pathTo:S,pathFrom:I}}},{key:"getRoundedBars",value:function(e,t,i,s,a){var r=new T(this.barCtx.ctx),n=0,o=e.config.plotOptions.bar.borderRadius,l=Array.isArray(o);if(n=l?o[s>o.length-1?o.length-1:s]:o,e.config.chart.stacked&&i.length>1&&s!==this.barCtx.radiusOnSeriesNumber&&!l&&(n=0),this.barCtx.isHorizontal){var h="",d=t.x2;if(Math.abs(t.x1-t.x2)<n&&(n=Math.abs(t.x1-t.x2)),void 0!==i[s][a]||null!==i[s][a]){var g=this.barCtx.isReversed?i[s][a]>0:i[s][a]<0;g&&(n*=-1),h=r.quadraticCurve((d-=n)+n,t.barYPosition,d+n,t.barYPosition+(g?-1*n:n))+r.line(d+n,t.barYPosition+t.barHeight-t.strokeWidth-(g?-1*n:n))+r.quadraticCurve(d+n,t.barYPosition+t.barHeight-t.strokeWidth,d,t.barYPosition+t.barHeight-t.strokeWidth)}return{pathWithRadius:h,x2:d}}var x="",C=t.y2;if(Math.abs(t.y1-t.y2)<n&&(n=Math.abs(t.y1-t.y2)),void 0!==i[s][a]||null!==i[s][a]){var S=i[s][a]<0;S&&(n*=-1),x=r.quadraticCurve(t.barXPosition,(C+=n)-n,t.barXPosition+(S?-1*n:n),C-n)+r.line(t.barXPosition+t.barWidth-t.strokeWidth-(S?-1*n:n),C-n)+r.quadraticCurve(t.barXPosition+t.barWidth-t.strokeWidth,C-n,t.barXPosition+t.barWidth-t.strokeWidth,C)}return{pathWithRadius:x,y2:C}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,i=this.w,s=0;s<t.length;s++){for(var a=0,r=0;r<t[i.globals.maxValsInArrayIndex].length;r++)a+=t[s][r];0===a&&this.barCtx.zeroSerieses.push(s)}for(var n=t.length-1;n>=0;n--)this.barCtx.zeroSerieses.indexOf(n)>-1&&n===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var o=t.length-1;o>=0;o--)i.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=i?t:null;return null!=e&&(s=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=i?t:null;return null!=e&&(s=t-e/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),s}},{key:"getGoalValues",value:function(e,t,i,s,a){var r=this,n=this.w,o=[];return n.globals.seriesGoals[s]&&n.globals.seriesGoals[s][a]&&Array.isArray(n.globals.seriesGoals[s][a])&&n.globals.seriesGoals[s][a].forEach(function(l){var h;o.push((k(h={},e,"x"===e?r.getXForValue(l.value,t,!1):r.getYForValue(l.value,i,!1)),k(h,"attrs",l),h))}),o}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,i=e.barYPosition,s=e.goalX,a=e.goalY,r=e.barWidth,n=e.barHeight,o=new T(this.barCtx.ctx),l=o.group({className:"apexcharts-bar-goals-groups"}),h=null;return this.barCtx.isHorizontal?Array.isArray(s)&&s.forEach(function(d){var g=void 0!==d.attrs.strokeHeight?d.attrs.strokeHeight:n/2,x=i+g+n/2;h=o.drawLine(d.x,x-2*g,d.x,x,d.attrs.strokeColor?d.attrs.strokeColor:void 0,d.attrs.strokeDashArray,d.attrs.strokeWidth?d.attrs.strokeWidth:2,d.attrs.strokeLineCap),l.add(h)}):Array.isArray(a)&&a.forEach(function(d){var g=void 0!==d.attrs.strokeWidth?d.attrs.strokeWidth:r/2,x=t+g+r/2;h=o.drawLine(x-2*g,d.y,x,d.y,d.attrs.strokeColor?d.attrs.strokeColor:void 0,d.attrs.strokeDashArray,d.attrs.strokeHeight?d.attrs.strokeHeight:2,d.attrs.strokeLineCap),l.add(h)}),l}}]),W}(),D=function(){function W(e,t){ue(this,W),this.ctx=e,this.w=e.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRangeBar.length&&this.isHorizontal,this.xyRatios=t,null!==this.xyRatios&&(this.xRatio=t.xRatio,this.initialXRatio=t.initialXRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new Y(this)}return u(W,[{key:"draw",value:function(e,t){var i=this.w,s=new T(this.ctx),a=new F(this.ctx,i);e=a.getLogSeries(e),this.series=e,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var r=s.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var n=0,o=0;n<e.length;n++,o++){var l,h,d,g,x=void 0,C=void 0,S=[],I=[],U=i.globals.comboCharts?t[n]:n,Q=s.group({class:"apexcharts-series",rel:n+1,seriesName:w.escapeString(i.globals.seriesNames[U]),"data:realIndex":U});this.ctx.series.addCollapsedClassToSeries(Q,U),e[n].length>0&&(this.visibleI=this.visibleI+1);var se=0,c=0;this.yRatio.length>1&&(this.yaxisIndex=U),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var f=this.barHelpers.initialPositions();C=f.y,se=f.barHeight,h=f.yDivision,g=f.zeroW,x=f.x,c=f.barWidth,l=f.xDivision,d=f.zeroH,this.horizontal||I.push(x+c/2);for(var M=s.group({class:"apexcharts-datalabels","data:realIndex":U}),X=s.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),me=0;me<i.globals.dataPoints;me++){var Le=this.barHelpers.getStrokeWidth(n,me,U),we=null,Be={indexes:{i:n,j:me,realIndex:U,bc:o},x,y:C,strokeWidth:Le,elSeries:Q};this.isHorizontal?(we=this.drawBarPaths(p(p({},Be),{},{barHeight:se,zeroW:g,yDivision:h})),c=this.series[n][me]/this.invertedYRatio):(we=this.drawColumnPaths(p(p({},Be),{},{xDivision:l,barWidth:c,zeroH:d})),se=this.series[n][me]/this.yRatio[this.yaxisIndex]);var ze=this.barHelpers.drawGoalLine({barXPosition:we.barXPosition,barYPosition:we.barYPosition,goalX:we.goalX,goalY:we.goalY,barHeight:se,barWidth:c});ze&&X.add(ze),C=we.y,x=we.x,me>0&&I.push(x+c/2),S.push(C);var Ve=this.barHelpers.getPathFillColor(e,n,me,U);this.renderSeries({realIndex:U,pathFill:Ve,j:me,i:n,pathFrom:we.pathFrom,pathTo:we.pathTo,strokeWidth:Le,elSeries:Q,x,y:C,series:e,barHeight:se,barWidth:c,elDataLabelsWrap:M,elGoalsMarkers:X,visibleSeries:this.visibleI,type:"bar"})}i.globals.seriesXvalues[U]=I,i.globals.seriesYvalues[U]=S,r.add(Q)}return r}},{key:"renderSeries",value:function(e){var t=e.realIndex,i=e.pathFill,s=e.lineFill,a=e.j,r=e.i,n=e.pathFrom,o=e.pathTo,l=e.strokeWidth,h=e.elSeries,d=e.x,g=e.y,x=e.y1,C=e.y2,S=e.series,I=e.barHeight,U=e.barWidth,Q=e.barYPosition,se=e.elDataLabelsWrap,c=e.elGoalsMarkers,f=e.visibleSeries,M=e.type,X=this.w,me=new T(this.ctx);s||(s=this.barOptions.distributed?X.globals.stroke.colors[a]:X.globals.stroke.colors[t]),X.config.series[r].data[a]&&X.config.series[r].data[a].strokeColor&&(s=X.config.series[r].data[a].strokeColor),this.isNullValue&&(i="none");var we=me.renderPaths({i:r,j:a,realIndex:t,pathFrom:n,pathTo:o,stroke:s,strokeWidth:l,strokeLineCap:X.config.stroke.lineCap,fill:i,animationDelay:a/X.config.chart.animations.animateGradually.delay*(X.config.chart.animations.speed/X.globals.dataPoints)/2.4,initialSpeed:X.config.chart.animations.speed,dataChangeSpeed:X.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(M,"-area")});we.attr("clip-path","url(#gridRectMask".concat(X.globals.cuid,")"));var Be=X.config.forecastDataPoints;Be.count>0&&a>=X.globals.dataPoints-Be.count&&(we.node.setAttribute("stroke-dasharray",Be.dashArray),we.node.setAttribute("stroke-width",Be.strokeWidth),we.node.setAttribute("fill-opacity",Be.fillOpacity)),void 0!==x&&void 0!==C&&(we.attr("data-range-y1",x),we.attr("data-range-y2",C)),new v(this.ctx).setSelectionFilter(we,t,a),h.add(we);var ze=new E(this).handleBarDataLabels({x:d,y:g,y1:x,y2:C,i:r,j:a,series:S,realIndex:t,barHeight:I,barWidth:U,barYPosition:Q,renderedPath:we,visibleSeries:f});return null!==ze&&se.add(ze),h.add(se),c&&h.add(c),h}},{key:"drawBarPaths",value:function(e){var r,t=e.indexes,i=e.barHeight,s=e.strokeWidth,a=e.zeroW,n=e.y,o=e.yDivision,l=e.elSeries,h=this.w,d=t.i,g=t.j;h.globals.isXNumeric&&(n=(h.globals.seriesX[d][g]-h.globals.minX)/this.invertedXRatio-i);var x=n+i*this.visibleI;r=this.barHelpers.getXForValue(this.series[d][g],a);var C=this.barHelpers.getBarpaths({barYPosition:x,barHeight:i,x1:a,x2:r,strokeWidth:s,series:this.series,realIndex:t.realIndex,i:d,j:g,w:h});return h.globals.isXNumeric||(n+=o),this.barHelpers.barBackground({j:g,i:d,y1:x-i*this.visibleI,y2:i*this.seriesLen,elSeries:l}),{pathTo:C.pathTo,pathFrom:C.pathFrom,x:r,y:n,goalX:this.barHelpers.getGoalValues("x",a,null,d,g),barYPosition:x}}},{key:"drawColumnPaths",value:function(e){var s,t=e.indexes,i=e.x,a=e.xDivision,r=e.barWidth,n=e.zeroH,o=e.strokeWidth,l=e.elSeries,h=this.w,d=t.realIndex,g=t.i,x=t.j,C=t.bc;if(h.globals.isXNumeric){var S=d;h.globals.seriesX[d].length||(S=h.globals.maxValsInArrayIndex),i=(h.globals.seriesX[S][x]-h.globals.minX)/this.xRatio-r*this.seriesLen/2}var I=i+r*this.visibleI;s=this.barHelpers.getYForValue(this.series[g][x],n);var U=this.barHelpers.getColumnPaths({barXPosition:I,barWidth:r,y1:n,y2:s,strokeWidth:o,series:this.series,realIndex:t.realIndex,i:g,j:x,w:h});return h.globals.isXNumeric||(i+=a),this.barHelpers.barBackground({bc:C,j:x,i:g,x1:I-o/2-r*this.visibleI,x2:r*this.seriesLen+o/2,elSeries:l}),{pathTo:U.pathTo,pathFrom:U.pathFrom,x:i,y:s,goalY:this.barHelpers.getGoalValues("y",null,n,g,x),barXPosition:I}}},{key:"getPreviousPath",value:function(e,t){for(var i,s=this.w,a=0;a<s.globals.previousPaths.length;a++){var r=s.globals.previousPaths[a];r.paths&&r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(e,10)&&void 0!==s.globals.previousPaths[a].paths[t]&&(i=s.globals.previousPaths[a].paths[t].d)}return i}}]),W}(),Z=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return u(W,[{key:"isValidDate",value:function(e){return!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var i=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var i=this.w.globals.locale,s=this.w.config.xaxis.labels.datetimeUTC,a=["\0"].concat(G(i.months)),r=["\x01"].concat(G(i.shortMonths)),n=["\x02"].concat(G(i.days)),o=["\x03"].concat(G(i.shortDays));function l(me,Le){var we=me+"";for(Le=Le||2;we.length<Le;)we="0"+we;return we}var h=s?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+h)).replace(/(^|[^\\])yy/g,"$1"+h.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+h);var d=(s?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+a[0])).replace(/(^|[^\\])MMM/g,"$1"+r[0])).replace(/(^|[^\\])MM/g,"$1"+l(d))).replace(/(^|[^\\])M/g,"$1"+d);var g=s?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+n[0])).replace(/(^|[^\\])ddd/g,"$1"+o[0])).replace(/(^|[^\\])dd/g,"$1"+l(g))).replace(/(^|[^\\])d/g,"$1"+g);var x=s?e.getUTCHours():e.getHours(),C=x>12?x-12:0===x?12:x;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+l(x))).replace(/(^|[^\\])H/g,"$1"+x)).replace(/(^|[^\\])hh+/g,"$1"+l(C))).replace(/(^|[^\\])h/g,"$1"+C);var S=s?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+l(S))).replace(/(^|[^\\])m/g,"$1"+S);var I=s?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+l(I))).replace(/(^|[^\\])s/g,"$1"+I);var U=s?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+l(U,3)),U=Math.round(U/10),t=t.replace(/(^|[^\\])ff/g,"$1"+l(U)),U=Math.round(U/10);var Q=x<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+U)).replace(/(^|[^\\])TT+/g,"$1"+Q)).replace(/(^|[^\\])T/g,"$1"+Q.charAt(0));var se=Q.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+se)).replace(/(^|[^\\])t/g,"$1"+se.charAt(0));var c=-e.getTimezoneOffset(),f=s||!c?"Z":c>0?"+":"-";if(!s){var M=(c=Math.abs(c))%60;f+=l(Math.floor(c/60))+":"+l(M)}t=t.replace(/(^|[^\\])K/g,"$1"+f);var X=(s?e.getUTCDay():e.getDay())+1;return(t=(t=(t=(t=t.replace(new RegExp(n[0],"g"),n[X])).replace(new RegExp(o[0],"g"),o[X])).replace(new RegExp(a[0],"g"),a[d])).replace(new RegExp(r[0],"g"),r[d])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,i){var s=this.w;void 0!==s.config.xaxis.min&&(e=s.config.xaxis.min),void 0!==s.config.xaxis.max&&(t=s.config.xaxis.max);var a=this.getDate(e),r=this.getDate(t),n=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" "),o=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(n[6],10),maxMillisecond:parseInt(o[6],10),minSecond:parseInt(n[5],10),maxSecond:parseInt(o[5],10),minMinute:parseInt(n[4],10),maxMinute:parseInt(o[4],10),minHour:parseInt(n[3],10),maxHour:parseInt(o[3],10),minDate:parseInt(n[2],10),maxDate:parseInt(o[2],10),minMonth:parseInt(n[1],10)-1,maxMonth:parseInt(o[1],10)-1,minYear:parseInt(n[0],10),maxYear:parseInt(o[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,i){return this.determineDaysOfMonths(e,t)-i}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,i){var s=this.daysCntOfYear[t]+i;return t>1&&this.isLeapYear()&&s++,s}},{key:"determineDaysOfMonths",value:function(e,t){var i=30;switch(e=w.monthMod(e),!0){case this.months30.indexOf(e)>-1:2===e&&(i=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:i=31}return i}}]),W}(),y=function(W){b(t,D);var e=O(t);function t(){return ue(this,t),e.apply(this,arguments)}return u(t,[{key:"draw",value:function(i,s){var a=this.w,r=new T(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=i,this.seriesRangeStart=a.globals.seriesRangeStart,this.seriesRangeEnd=a.globals.seriesRangeEnd,this.barHelpers.initVariables(i);for(var n=r.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),o=0;o<i.length;o++){var l,h,d,g=void 0,x=void 0,C=void 0,S=a.globals.comboCharts?s[o]:o,I=r.group({class:"apexcharts-series",seriesName:w.escapeString(a.globals.seriesNames[S]),rel:o+1,"data:realIndex":S});this.ctx.series.addCollapsedClassToSeries(I,S),i[o].length>0&&(this.visibleI=this.visibleI+1);var U=0,Q=0;this.yRatio.length>1&&(this.yaxisIndex=S);var se=this.barHelpers.initialPositions();x=se.y,d=se.zeroW,g=se.x,Q=se.barWidth,l=se.xDivision,h=se.zeroH;for(var c=r.group({class:"apexcharts-datalabels","data:realIndex":S}),f=r.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),M=0;M<a.globals.dataPoints;M++){var X=this.barHelpers.getStrokeWidth(o,M,S),me=this.seriesRangeStart[o][M],Le=this.seriesRangeEnd[o][M],we=null,Be=null,ze={x:g,y:x,strokeWidth:X,elSeries:I};if(C=se.yDivision,U=se.barHeight,this.isHorizontal){Be=x+U*this.visibleI;var Ve=this.seriesLen;a.config.plotOptions.bar.rangeBarGroupRows&&(Ve=1);var je=(C-U*Ve)/2;if(void 0===a.config.series[o].data[M])break;if(a.config.series[o].data[M].x){var it=this.detectOverlappingBars({i:o,j:M,barYPosition:Be,srty:je,barHeight:U,yDivision:C,initPositions:se});U=it.barHeight,Be=it.barYPosition}Q=(we=this.drawRangeBarPaths(p({indexes:{i:o,j:M,realIndex:S},barHeight:U,barYPosition:Be,zeroW:d,yDivision:C,y1:me,y2:Le},ze))).barWidth}else U=(we=this.drawRangeColumnPaths(p({indexes:{i:o,j:M,realIndex:S},zeroH:h,barWidth:Q,xDivision:l},ze))).barHeight;var Ke=this.barHelpers.drawGoalLine({barXPosition:we.barXPosition,barYPosition:Be,goalX:we.goalX,goalY:we.goalY,barHeight:U,barWidth:Q});Ke&&f.add(Ke),x=we.y,g=we.x;var ht=this.barHelpers.getPathFillColor(i,o,M,S);this.renderSeries({realIndex:S,pathFill:ht,lineFill:a.globals.stroke.colors[S],j:M,i:o,x:g,y:x,y1:me,y2:Le,pathFrom:we.pathFrom,pathTo:we.pathTo,strokeWidth:X,elSeries:I,series:i,barHeight:U,barYPosition:Be,barWidth:Q,elDataLabelsWrap:c,elGoalsMarkers:f,visibleSeries:this.visibleI,type:"rangebar"})}n.add(I)}return n}},{key:"detectOverlappingBars",value:function(i){var s=i.i,a=i.j,r=i.barYPosition,n=i.srty,o=i.barHeight,l=i.yDivision,h=i.initPositions,d=this.w,g=[],x=d.config.series[s].data[a].rangeName,C=d.config.series[s].data[a].x,S=d.globals.labels.indexOf(C),I=d.globals.seriesRangeBar[s].findIndex(function(U){return U.x===C&&U.overlaps.length>0});return r=d.config.plotOptions.bar.rangeBarGroupRows?n+l*S:n+o*this.visibleI+l*S,I>-1&&!d.config.plotOptions.bar.rangeBarOverlap&&(g=d.globals.seriesRangeBar[s][I].overlaps).indexOf(x)>-1&&(r=(o=h.barHeight/g.length)*this.visibleI+l*(100-parseInt(this.barOptions.barHeight,10))/100/2+o*(this.visibleI+g.indexOf(x))+l*S),{barYPosition:r,barHeight:o}}},{key:"drawRangeColumnPaths",value:function(i){var s=i.indexes,a=i.x,r=i.xDivision,n=i.barWidth,o=i.zeroH,l=this.w,h=s.i,d=s.j,g=this.yRatio[this.yaxisIndex],x=s.realIndex,C=this.getRangeValue(x,d),S=Math.min(C.start,C.end),I=Math.max(C.start,C.end);l.globals.isXNumeric&&(a=(l.globals.seriesX[h][d]-l.globals.minX)/this.xRatio-n/2);var U=a+n*this.visibleI;null==this.series[h][d]?S=o:(S=o-S/g,I=o-I/g);var Q=Math.abs(I-S),se=this.barHelpers.getColumnPaths({barXPosition:U,barWidth:n,y1:S,y2:I,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:s.realIndex,i:x,j:d,w:l});return l.globals.isXNumeric||(a+=r),{pathTo:se.pathTo,pathFrom:se.pathFrom,barHeight:Q,x:a,y:I,goalY:this.barHelpers.getGoalValues("y",null,o,h,d),barXPosition:U}}},{key:"drawRangeBarPaths",value:function(i){var s=i.indexes,a=i.y,o=i.yDivision,l=i.barHeight,h=i.barYPosition,d=i.zeroW,g=this.w,x=d+i.y1/this.invertedYRatio,C=d+i.y2/this.invertedYRatio,S=Math.abs(C-x),I=this.barHelpers.getBarpaths({barYPosition:h,barHeight:l,x1:x,x2:C,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:s.realIndex,realIndex:s.realIndex,j:s.j,w:g});return g.globals.isXNumeric||(a+=o),{pathTo:I.pathTo,pathFrom:I.pathFrom,barWidth:S,x:C,goalX:this.barHelpers.getGoalValues("x",d,null,s.realIndex,s.j),y:a}}},{key:"getRangeValue",value:function(i,s){var a=this.w;return{start:a.globals.seriesRangeStart[i][s],end:a.globals.seriesRangeEnd[i][s]}}},{key:"getTooltipValues",value:function(i){var s=i.ctx,a=i.seriesIndex,r=i.dataPointIndex,n=i.y1,o=i.y2,l=i.w,h=l.globals.seriesRangeStart[a][r],d=l.globals.seriesRangeEnd[a][r],g=l.globals.labels[r],x=l.config.series[a].name?l.config.series[a].name:"",C=l.config.tooltip.y.formatter,S=l.config.tooltip.y.title.formatter,I={w:l,seriesIndex:a,dataPointIndex:r,start:h,end:d};"function"==typeof S&&(x=S(x,I)),Number.isFinite(n)&&Number.isFinite(o)&&(h=n,d=o,l.config.series[a].data[r].x&&(g=l.config.series[a].data[r].x+":"),"function"==typeof C&&(g=C(g,I)));var U="",Q="",se=l.globals.colors[a];if(void 0===l.config.tooltip.x.formatter)if("datetime"===l.config.xaxis.type){var c=new Z(s);U=c.formatDate(c.getDate(h),l.config.tooltip.x.format),Q=c.formatDate(c.getDate(d),l.config.tooltip.x.format)}else U=h,Q=d;else U=l.config.tooltip.x.formatter(h),Q=l.config.tooltip.x.formatter(d);return{start:h,end:d,startVal:U,endVal:Q,ylabel:g,color:se,seriesName:x}}},{key:"buildCustomTooltipHTML",value:function(i){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+i.color+'">'+(i.seriesName||"")+'</span></div><div> <span class="category">'+i.ylabel+' </span> <span class="value start-value">'+i.start+'</span> <span class="separator">-</span> <span class="value end-value">'+i.end+"</span></div></div>"}}]),t}(),j=function(){function W(e){ue(this,W),this.opts=e}return u(W,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,w.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){return e._getBoxTooltip(t.w,t.seriesIndex,t.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){return e._getBoxTooltip(t.w,t.seriesIndex,t.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){var i=t.seriesIndex,s=t.dataPointIndex,a=t.w;return a.globals.seriesRangeEnd[i][s]-a.globals.seriesRangeStart[i][s]},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?(s=(i=new y((t=e).ctx,null)).getTooltipValues(t),i.buildCustomTooltipHTML({color:s.color,seriesName:s.seriesName,ylabel:s.ylabel,start:s.startVal,end:s.endVal})):function(t){var i=new y(t.ctx,null),s=i.getTooltipValues(t);return i.buildCustomTooltipHTML({color:s.color,seriesName:s.seriesName,ylabel:s.ylabel,start:s.start,end:s.end})}(e);var t,i,s}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(e){return w.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(i,s){e.yaxis[s].min=0,e.yaxis[s].max=100}),"bar"===e.chart.type&&(e.dataLabels.formatter=t||function(i){return"number"==typeof i&&i?i.toFixed(0)+"%":i}),e}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,i){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(r){return w.isNumber(r)?Math.floor(r):r};var s=e.xaxis.labels.formatter,a=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return i&&i.length&&(a=i.map(function(r){return Array.isArray(r)?r:String(r)})),a&&a.length&&(e.xaxis.labels.formatter=function(r){return w.isNumber(r)?s(a[Math.floor(r)-1]):s(r)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(e,t,i,s,a){var r=e.globals.seriesCandleO[t][i],n=e.globals.seriesCandleH[t][i],o=e.globals.seriesCandleM[t][i],l=e.globals.seriesCandleL[t][i],h=e.globals.seriesCandleC[t][i];return e.config.series[t].type&&e.config.series[t].type!==a?'<div class="apexcharts-custom-tooltip">\n          '.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][i],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(s[0],': <span class="value">')+r+"</span></div>"+"<div>".concat(s[1],': <span class="value">')+n+"</span></div>"+(o?"<div>".concat(s[2],': <span class="value">')+o+"</span></div>":"")+"<div>".concat(s[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(s[4],': <span class="value">')+h+"</span></div></div>"}}]),W}(),q=function(){function W(e){ue(this,W),this.opts=e}return u(W,[{key:"init",value:function(e){var t=e.responsiveOverride,i=this.opts,s=new oe,a=new j(i);this.chartType=i.chart.type,"histogram"===this.chartType&&(i.chart.type="bar",i=w.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},i)),i=this.extendYAxis(i),i=this.extendAnnotations(i);var r=s.init(),n={};if(i&&"object"===Me(i)){var o={};o=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)?a[i.chart.type]():a.line(),i.chart.brush&&i.chart.brush.enabled&&(o=a.brush(o)),i.chart.stacked&&"100%"===i.chart.stackType&&(i=a.stacked100(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},t||(i.xaxis.convertedCatToNumeric=!1),((i=this.checkForCatToNumericXAxis(this.chartType,o,i)).chart.sparkline&&i.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(o=a.sparkline(o)),n=w.extend(r,o)}var l=w.extend(n,window.Apex);return r=w.extend(l,i),this.handleUserInputErrors(r)}},{key:"checkForCatToNumericXAxis",value:function(e,t,i){var s=new j(i);return("bar"===e||"boxPlot"===e)&&i.plotOptions&&i.plotOptions.bar&&i.plotOptions.bar.horizontal||"pie"===e||"polarArea"===e||"donut"===e||"radar"===e||"radialBar"===e||"heatmap"===e||!("datetime"!==i.xaxis.type&&"numeric"!==i.xaxis.type)||"between"===(i.xaxis.tickPlacement?i.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement)||(i=s.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(e,t){var i=new oe;(void 0===e.yaxis||!e.yaxis||Array.isArray(e.yaxis)&&0===e.yaxis.length)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=w.extend(e.yaxis,window.Apex.yaxis)),e.yaxis=e.yaxis.constructor!==Array?[w.extend(i.yAxis,e.yaxis)]:w.extendArray(e.yaxis,i.yAxis);var s=!1;e.yaxis.forEach(function(r){r.logarithmic&&(s=!0)});var a=e.series;return t&&!a&&(a=t.config.series),s&&a.length!==e.yaxis.length&&a.length&&(e.yaxis=a.map(function(r,n){if(r.name||(a[n].name="series-".concat(n+1)),e.yaxis[n])return e.yaxis[n].seriesName=a[n].name,e.yaxis[n];var o=w.extend(i.yAxis,e.yaxis[0]);return o.show=!1,o})),s&&a.length>1&&a.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),e}},{key:"extendAnnotations",value:function(e){return void 0===e.annotations&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new oe;return e.annotations.yaxis=w.extendArray(void 0!==e.annotations.yaxis?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new oe;return e.annotations.xaxis=w.extendArray(void 0!==e.annotations.xaxis?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new oe;return e.annotations.points=w.extendArray(void 0!==e.annotations.points?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&"dark"===e.theme.mode&&(e.tooltip||(e.tooltip={}),"light"!==e.tooltip.theme&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.chart.background||(e.chart.background="#424242"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),W}(),he=function(){function W(){ue(this,W)}return u(W,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRangeBar=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasGroups=!1,e.groups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.xaxisLabelsCount=0,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:"pan"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.pan,selectionEnabled:"selection"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=w.extend({},e),t.initialSeries=w.clone(e.series),t.lastXAxis=w.clone(t.initialConfig.xaxis),t.lastYAxis=w.clone(t.initialConfig.yaxis),t}}]),W}(),N=function(){function W(e){ue(this,W),this.opts=e}return u(W,[{key:"init",value:function(){var e=new q(this.opts).init({responsiveOverride:!1});return{config:e,globals:(new he).init(e)}}}]),W}(),fe=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new F(this.ctx)}return u(W,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new _(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!==e[this.activeSeriesIndex].data[0]&&void 0!==e[this.activeSeriesIndex].data[0].x&&null!==e[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new _(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!=e[this.activeSeriesIndex].data[0]&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var i=this.w.config,s=this.w.globals,a="boxPlot"===i.chart.type||"boxPlot"===i.series[t].type,r=0;r<e[t].data.length;r++)if(void 0!==e[t].data[r][1]&&(Array.isArray(e[t].data[r][1])&&4===e[t].data[r][1].length&&!a?this.twoDSeries.push(w.parseNumber(e[t].data[r][1][3])):this.twoDSeries.push(w.parseNumber(e[t].data[r].length>=5?e[t].data[r][4]:e[t].data[r][1])),s.dataFormatXNumeric=!0),"datetime"===i.xaxis.type){var n=new Date(e[t].data[r][0]);n=new Date(n).getTime(),this.twoDSeriesX.push(n)}else this.twoDSeriesX.push(e[t].data[r][0]);for(var o=0;o<e[t].data.length;o++)void 0!==e[t].data[o][2]&&(this.threeDSeries.push(e[t].data[o][2]),s.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var i=this.w.config,s=this.w.globals,a=new Z(this.ctx),r=t;s.collapsedSeriesIndices.indexOf(t)>-1&&(r=this.activeSeriesIndex);for(var n=0;n<e[t].data.length;n++)void 0!==e[t].data[n].y&&(Array.isArray(e[t].data[n].y)?this.twoDSeries.push(w.parseNumber(e[t].data[n].y[e[t].data[n].y.length-1])):this.twoDSeries.push(w.parseNumber(e[t].data[n].y))),void 0!==e[t].data[n].goals&&Array.isArray(e[t].data[n].goals)?(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[n].goals)):(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var o=0;o<e[r].data.length;o++){var l="string"==typeof e[r].data[o].x,h=Array.isArray(e[r].data[o].x),d=!h&&!!a.isValidDate(e[r].data[o].x.toString());l||d?l||i.xaxis.convertedCatToNumeric?"datetime"!==i.xaxis.type||s.isBarHorizontal&&s.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[r].data[o].x)):this.twoDSeriesX.push(a.parseDate(e[r].data[o].x)):"datetime"===i.xaxis.type?this.twoDSeriesX.push(a.parseDate(e[r].data[o].x.toString())):(s.dataFormatXNumeric=!0,s.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[r].data[o].x))):h?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[r].data[o].x)):(s.isXNumeric=!0,s.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[r].data[o].x))}if(e[t].data[0]&&void 0!==e[t].data[0].z){for(var x=0;x<e[t].data.length;x++)this.threeDSeries.push(e[t].data[x].z);s.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(s=this.handleRangeDataFormat("xy",e,t)),i.seriesRangeStart.push(s.start),i.seriesRangeEnd.push(s.end),i.seriesRangeBar.push(s.rangeUniques),i.seriesRangeBar.forEach(function(a,r){a&&a.forEach(function(n,o){n.y.forEach(function(l,h){for(var d=0;d<n.y.length;d++)h!==d&&l.y1<=n.y[d].y2&&n.y[d].y1<=l.y2&&(n.overlaps.indexOf(l.rangeName)<0&&n.overlaps.push(l.rangeName),n.overlaps.indexOf(n.y[d].rangeName)<0&&n.overlaps.push(n.y[d].rangeName))})})}),s}},{key:"handleCandleStickBoxData",value:function(e,t){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(s=this.handleCandleStickBoxDataFormat("xy",e,t)),i.seriesCandleO[t]=s.o,i.seriesCandleH[t]=s.h,i.seriesCandleM[t]=s.m,i.seriesCandleL[t]=s.l,i.seriesCandleC[t]=s.c,s}},{key:"handleRangeDataFormat",value:function(e,t,i){var s=[],a=[],r=t[i].data.filter(function(g,x,C){return x===C.findIndex(function(S){return S.x===g.x})}).map(function(g,x){return{x:g.x,overlaps:[],y:[]}}),n="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",o=new _(this.ctx).getActiveConfigSeriesIndex();if("array"===e){if(2!==t[o].data[0][1].length)throw new Error(n);for(var l=0;l<t[i].data.length;l++)s.push(t[i].data[l][1][0]),a.push(t[i].data[l][1][1])}else if("xy"===e){if(2!==t[o].data[0].y.length)throw new Error(n);for(var h=function(g){var x=w.randomId(),C=t[i].data[g].x,S={y1:t[i].data[g].y[0],y2:t[i].data[g].y[1],rangeName:x};t[i].data[g].rangeName=x;var I=r.findIndex(function(U){return U.x===C});r[I].y.push(S),s.push(S.y1),a.push(S.y2)},d=0;d<t[i].data.length;d++)h(d)}return{start:s,end:a,rangeUniques:r}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,i){var s=this.w,a="boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[i].type,r=[],n=[],o=[],l=[],h=[];if("array"===e)if(a&&6===t[i].data[0].length||!a&&5===t[i].data[0].length)for(var d=0;d<t[i].data.length;d++)r.push(t[i].data[d][1]),n.push(t[i].data[d][2]),a?(o.push(t[i].data[d][3]),l.push(t[i].data[d][4]),h.push(t[i].data[d][5])):(l.push(t[i].data[d][3]),h.push(t[i].data[d][4]));else for(var g=0;g<t[i].data.length;g++)Array.isArray(t[i].data[g][1])&&(r.push(t[i].data[g][1][0]),n.push(t[i].data[g][1][1]),a?(o.push(t[i].data[g][1][2]),l.push(t[i].data[g][1][3]),h.push(t[i].data[g][1][4])):(l.push(t[i].data[g][1][2]),h.push(t[i].data[g][1][3])));else if("xy"===e)for(var x=0;x<t[i].data.length;x++)Array.isArray(t[i].data[x].y)&&(r.push(t[i].data[x].y[0]),n.push(t[i].data[x].y[1]),a?(o.push(t[i].data[x].y[2]),l.push(t[i].data[x].y[3]),h.push(t[i].data[x].y[4])):(l.push(t[i].data[x].y[2]),h.push(t[i].data[x].y[3])));return{o:r,h:n,m:o,l,c:h}}},{key:"parseDataAxisCharts",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,s=this.w.config,a=this.w.globals,r=new Z(i),n=s.labels.length>0?s.labels.slice():s.xaxis.categories.slice();a.isRangeBar="rangeBar"===s.chart.type&&a.isBarHorizontal,a.hasGroups="category"===s.xaxis.type&&s.xaxis.group.groups.length>0,a.hasGroups&&(a.groups=s.xaxis.group.groups);for(var o=function(){for(var d=0;d<n.length;d++)if("string"==typeof n[d]){if(!r.isValidDate(n[d]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(r.parseDate(n[d]))}else t.twoDSeriesX.push(n[d])},l=0;l<e.length;l++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===e[l].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==s.chart.type&&"rangeArea"!==s.chart.type&&"rangeBar"!==e[l].type&&"rangeArea"!==e[l].type||(a.isRangeData=!0,this.handleRangeData(e,l)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,l):this.isFormatXY()&&this.handleFormatXY(e,l),"candlestick"!==s.chart.type&&"candlestick"!==e[l].type&&"boxPlot"!==s.chart.type&&"boxPlot"!==e[l].type||this.handleCandleStickBoxData(e,l),a.series.push(this.twoDSeries),a.labels.push(this.twoDSeriesX),a.seriesX.push(this.twoDSeriesX),a.seriesGoals=this.seriesGoals,l!==this.activeSeriesIndex||this.fallbackToCategory||(a.isXNumeric=!0);else{"datetime"===s.xaxis.type?(a.isXNumeric=!0,o(),a.seriesX.push(this.twoDSeriesX)):"numeric"===s.xaxis.type&&(a.isXNumeric=!0,n.length>0&&(this.twoDSeriesX=n,a.seriesX.push(this.twoDSeriesX))),a.labels.push(this.twoDSeriesX);var h=e[l].data.map(function(d){return w.parseNumber(d)});a.series.push(h)}a.seriesZ.push(this.threeDSeries),a.seriesNames.push(void 0!==e[l].name?e[l].name:"series-"+parseInt(l+1,10)),a.seriesColors.push(void 0!==e[l].color?e[l].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,i=this.w.config;t.series=e.slice(),t.seriesNames=i.labels.slice();for(var s=0;s<t.series.length;s++)void 0===t.seriesNames[s]&&t.seriesNames.push("series-"+(s+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,i=this.w.globals;t.xaxis.categories.length>0?i.labels=t.xaxis.categories:t.labels.length>0?i.labels=t.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRangeBar.length&&(i.seriesRangeBar.map(function(s){s.forEach(function(a){i.labels.indexOf(a.x)<0&&a.x&&i.labels.push(a.x)})}),i.labels=i.labels.filter(function(s,a,r){return r.indexOf(s)===a})),t.xaxis.convertedCatToNumeric&&(new j(t).convertCatToNumericXaxis(t,this.ctx,i.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,i=this.w.config,s=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var a=i.series.map(function(d,g){return d.data.filter(function(x,C,S){return S.findIndex(function(I){return I.x===x.x})===C})}),r=a.reduce(function(d,g,x,C){return C[d].length>g.length?d:x},0),n=0;n<a[r].length;n++)s.push(n+1);else for(var o=0;o<t.series[t.maxValsInArrayIndex].length;o++)s.push(o+1);t.seriesX=[];for(var l=0;l<e.length;l++)t.seriesX.push(s);t.isXNumeric=!0}if(0===s.length){s=t.axisCharts?[]:t.series.map(function(d,g){return g+1});for(var h=0;h<e.length;h++)t.seriesX.push(s)}t.labels=s,i.xaxis.convertedCatToNumeric&&(t.categoryLabels=s.map(function(d){return i.xaxis.labels.formatter(d)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,i=t.config,s=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),s.axisCharts?this.parseDataAxisCharts(e):this.parseDataNonAxisCharts(e),this.coreUtils.getLargestSeries(),"bar"===i.chart.type&&i.chart.stacked){var a=new _(this.ctx);s.series=a.setNullSeriesToZeroValues(s.series)}this.coreUtils.getSeriesTotals(),s.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),s.dataFormatXNumeric||s.isXNumeric&&("numeric"!==i.xaxis.type||0!==i.labels.length||0!==i.xaxis.categories.length)||this.handleExternalLabelsData(e);for(var r=this.coreUtils.getCategoryLabels(s.labels),n=0;n<r.length;n++)if(Array.isArray(r[n])){s.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this,t=this.w;t.globals.ignoreYAxisIndexes=t.globals.collapsedSeries.map(function(i,s){if(e.w.globals.isMultipleYAxis&&!t.config.chart.stacked)return i.index})}}]),W}(),Ae=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return u(W,[{key:"xLabelFormat",value:function(e,t,i,s){var a=this.w;if("datetime"===a.config.xaxis.type&&void 0===a.config.xaxis.labels.formatter&&void 0===a.config.tooltip.x.formatter){var r=new Z(this.ctx);return r.formatDate(r.getDate(t),a.config.tooltip.x.format)}return e(t,i,s)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,i){var s=this.w;return w.isNumber(e)&&(e=e.toFixed(0!==s.globals.yValueDecimal?void 0!==t.decimalsInFloat?t.decimalsInFloat:s.globals.yValueDecimal:s.globals.maxYArr[i]-s.globals.minYArr[i]<5?1:0)),e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.ttKeyFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.ttZFormatter=function(i){return i},t.globals.legendFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.xLabelFormatter=void 0!==t.config.xaxis.labels.formatter?t.config.xaxis.labels.formatter:function(i){if(w.isNumber(i)){if(!t.config.xaxis.convertedCatToNumeric&&"numeric"===t.config.xaxis.type){if(w.isNumber(t.config.xaxis.decimalsInFloat))return i.toFixed(t.config.xaxis.decimalsInFloat);var s=t.globals.maxX-t.globals.minX;return i.toFixed(s>0&&s<100?1:0)}return i.toFixed(t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?1:0)}return i},t.globals.ttKeyFormatter="function"==typeof t.config.tooltip.x.formatter?t.config.tooltip.x.formatter:t.globals.xLabelFormatter,"function"==typeof t.config.xaxis.tooltip.formatter&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||void 0!==t.config.tooltip.y.formatter)&&(t.globals.ttVal=t.config.tooltip.y),void 0!==t.config.tooltip.z.formatter&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),void 0!==t.config.legend.formatter&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(i,s){t.globals.yLabelFormatters[s]=void 0!==i.labels.formatter?i.labels.formatter:function(a){return t.globals.xyCharts?Array.isArray(a)?a.map(function(r){return e.defaultYFormatter(r,i,s)}):e.defaultYFormatter(a,i,s):a}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if("heatmap"===e.config.chart.type){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(i,s){return i.length>s.length?i:s},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),W}(),_e=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"getLabel",value:function(e,t,i,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",n=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=this.w,l=void 0===e[s]?"":e[s],h=l,d=o.globals.xLabelFormatter,g=o.config.xaxis.labels.formatter,x=!1,C=new Ae(this.ctx),S=l;n&&(h=C.xLabelFormat(d,l,S,{i:s,dateFormatter:new Z(this.ctx).formatDate,w:o}),void 0!==g&&(h=g(l,e[s],{i:s,dateFormatter:new Z(this.ctx).formatDate,w:o})));var I=function(c){var f=null;return t.forEach(function(M){"month"===M.unit?f="year":"day"===M.unit?f="month":"hour"===M.unit?f="day":"minute"===M.unit&&(f="hour")}),f===c};t.length>0?(x=I(t[s].unit),i=t[s].position,h=t[s].value):"datetime"===o.config.xaxis.type&&void 0===g&&(h=""),void 0===h&&(h=""),h=Array.isArray(h)?h:h.toString();var U=new T(this.ctx),Q={};Q=o.globals.rotateXLabels&&n?U.getTextRects(h,parseInt(r,10),null,"rotate(".concat(o.config.xaxis.labels.rotate," 0 0)"),!1):U.getTextRects(h,parseInt(r,10));var se=!o.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(h)&&(0===h.indexOf("NaN")||0===h.toLowerCase().indexOf("invalid")||h.toLowerCase().indexOf("infinity")>=0||a.indexOf(h)>=0&&se)&&(h=""),{x:i,text:h,textRect:Q,isBold:x}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,i){var s=this.w,a=s.config.xaxis.tickAmount;return"dataPoints"===a&&(a=Math.round(s.globals.gridWidth/120)),a>i||e%Math.round(i/(a+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,i,s,a){var r=this.w;if(0===e&&r.globals.skipFirstTimelinelabel&&(t.text=""),e===i-1&&r.globals.skipLastTimelinelabel&&(t.text=""),r.config.xaxis.labels.hideOverlappingLabels&&s.length>0){var n=a[a.length-1];t.x<n.textRect.width/(r.globals.rotateXLabels?Math.abs(r.config.xaxis.labels.rotate)/12:1.01)+n.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var i=this.w;return i.config.yaxis[e]&&i.config.yaxis[e].reversed&&t.reverse(),t}},{key:"isYAxisHidden",value:function(e){var t=this.w,i=new F(this.ctx);return!t.config.yaxis[e].show||!t.config.yaxis[e].showForNullSeries&&i.isSeriesNull(e)&&-1===t.globals.collapsedSeriesIndices.indexOf(e)}},{key:"getYAxisForeColor",value:function(e,t){var i=this.w;return Array.isArray(e)&&i.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,i.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,i,s,a,r,n){var o=this.w,l=new T(this.ctx),h=o.globals.translateY;if(s.show&&t>0){!0===o.config.yaxis[a].opposite&&(e+=s.width);for(var d=t;d>=0;d--){var g=h+t/10+o.config.yaxis[a].labels.offsetY-1;o.globals.isBarHorizontal&&(g=r*d),"heatmap"===o.config.chart.type&&(g+=r/2);var x=l.drawLine(e+i.offsetX-s.width+s.offsetX,g+s.offsetY,e+i.offsetX+s.offsetX,g+s.offsetY,s.color);n.add(x),h+=r}}}}]),W}(),Ce=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"scaleSvgNode",value:function(e,t){var i=parseFloat(e.getAttributeNS(null,"width")),s=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",i*t),e.setAttributeNS(null,"height",s*t),e.setAttributeNS(null,"viewBox","0 0 "+i+" "+s)}},{key:"fixSvgStringForIe11",value:function(e){if(!w.isIE11())return e.replace(/&nbsp;/g,"&#160;");var t=0,i=e.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(s){return 2==++t?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':s});return(i=i.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(e){null==e&&(e=1);var t=this.w.globals.dom.Paper.svg();if(1!==e){var i=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(i,e),t=(new XMLSerializer).serializeToString(i)}return this.fixSvgStringForIe11(t)}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),i=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(s,function(a){a.setAttribute("width",0)}),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),i&&i[0]&&(i[0].setAttribute("y",-100),i[0].setAttribute("y1",-100),i[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var e=this.getSvgString(),t=new Blob([e],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(i){var s=t.w,a=e?e.scale||e.width/s.globals.svgWidth:1;t.cleanup();var r=document.createElement("canvas");r.width=s.globals.svgWidth*a,r.height=parseInt(s.globals.dom.elWrap.style.height,10)*a;var n="transparent"===s.config.chart.background?"#fff":s.config.chart.background,o=r.getContext("2d");o.fillStyle=n,o.fillRect(0,0,r.width*a,r.height*a);var l=t.getSvgString(a);if(window.canvg&&w.isIE11()){var h=window.canvg.Canvg.fromString(o,l,{ignoreClear:!0,ignoreDimensions:!0});h.start();var d=r.msToBlob();h.stop(),i({blob:d})}else{var g="data:image/svg+xml,"+encodeURIComponent(l),x=new Image;x.crossOrigin="anonymous",x.onload=function(){if(o.drawImage(x,0,0),r.msToBlob){var C=r.msToBlob();i({blob:C})}else{var S=r.toDataURL("image/png");i({imgURI:S})}},x.src=g}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var e=this;this.dataURI().then(function(t){var i=t.imgURI,s=t.blob;s?navigator.msSaveOrOpenBlob(s,e.w.globals.chartID+".png"):e.triggerDownload(i,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,i=e.series,s=e.columnDelimiter,a=e.lineDelimiter,r=void 0===a?"\n":a,n=this.w,o=[],l=[],h="",d=new fe(this.ctx),g=new _e(this.ctx),x=function(C){var S="";if(n.globals.axisCharts){if("category"===n.config.xaxis.type||n.config.xaxis.convertedCatToNumeric)if(n.globals.isBarHorizontal){var I=n.globals.yLabelFormatters[0],U=new _(t.ctx).getActiveConfigSeriesIndex();S=I(n.globals.labels[C],{seriesIndex:U,dataPointIndex:C,w:n})}else S=g.getLabel(n.globals.labels,n.globals.timescaleLabels,0,C).text;"datetime"===n.config.xaxis.type&&(n.config.xaxis.categories.length?S=n.config.xaxis.categories[C]:n.config.labels.length&&(S=n.config.labels[C]))}else S=n.config.labels[C];return Array.isArray(S)&&(S=S.join(" ")),w.isNumber(S)?S:S.split(s).join("")};o.push(n.config.chart.toolbar.export.csv.headerCategory),i.map(function(C,S){var I=C.name?C.name:"series-".concat(S);n.globals.axisCharts&&o.push(I.split(s).join("")?I.split(s).join(""):"series-".concat(S))}),n.globals.axisCharts||(o.push(n.config.chart.toolbar.export.csv.headerValue),l.push(o.join(s))),i.map(function(C,S){n.globals.axisCharts?function(I,U){if(o.length&&0===U&&l.push(o.join(s)),I.data&&I.data.length)for(var Q=0;Q<I.data.length;Q++){o=[];var se=x(Q);if(se||(d.isFormatXY()?se=i[U].data[Q].x:d.isFormat2DArray()&&(se=i[U].data[Q]?i[U].data[Q][0]:"")),0===U){o.push("datetime"===n.config.xaxis.type&&String(se).length>=10?n.config.chart.toolbar.export.csv.dateFormatter(se):w.isNumber(se)?se:se.split(s).join(""));for(var c=0;c<n.globals.series.length;c++)o.push(n.globals.series[c][Q])}("candlestick"===n.config.chart.type||I.type&&"candlestick"===I.type)&&(o.pop(),o.push(n.globals.seriesCandleO[U][Q]),o.push(n.globals.seriesCandleH[U][Q]),o.push(n.globals.seriesCandleL[U][Q]),o.push(n.globals.seriesCandleC[U][Q])),("boxPlot"===n.config.chart.type||I.type&&"boxPlot"===I.type)&&(o.pop(),o.push(n.globals.seriesCandleO[U][Q]),o.push(n.globals.seriesCandleH[U][Q]),o.push(n.globals.seriesCandleM[U][Q]),o.push(n.globals.seriesCandleL[U][Q]),o.push(n.globals.seriesCandleC[U][Q])),"rangeBar"===n.config.chart.type&&(o.pop(),o.push(n.globals.seriesRangeStart[U][Q]),o.push(n.globals.seriesRangeEnd[U][Q])),o.length&&l.push(o.join(s))}}(C,S):((o=[]).push(n.globals.labels[S].split(s).join("")),o.push(n.globals.series[S]),l.push(o.join(s)))}),h+=l.join(r),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+h),n.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,i){var s=document.createElement("a");s.href=e,s.download=(t||this.w.globals.chartID)+i,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}]),W}(),Te=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w;var t=this.w;this.axesUtils=new _e(e),this.xaxisLabels=t.globals.labels.slice(),t.globals.timescaleLabels.length>0&&!t.globals.isBarHorizontal&&(this.xaxisLabels=t.globals.timescaleLabels.slice()),t.config.xaxis.overwriteCategories&&(this.xaxisLabels=t.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===t.config.xaxis.position?0:t.globals.gridHeight+1,this.offY=this.offY+t.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===t.config.chart.type&&t.config.plotOptions.bar.horizontal,this.xaxisFontSize=t.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=t.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=t.config.xaxis.labels.style.colors,this.xaxisBorderWidth=t.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=t.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?t.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=t.config.xaxis.axisBorder.height,this.yaxis=t.config.yaxis[0]}return u(W,[{key:"drawXaxis",value:function(){var e=this.w,t=new T(this.ctx),i=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),s=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});i.add(s);for(var a=[],r=0;r<this.xaxisLabels.length;r++)a.push(this.xaxisLabels[r]);if(this.drawXAxisLabelAndGroup(!0,t,s,a,e.globals.isXNumeric,function(C,S){return S}),e.globals.hasGroups){var n=e.globals.groups;a=[];for(var o=0;o<n.length;o++)a.push(n[o].title);var l={};e.config.xaxis.group.style&&(l.xaxisFontSize=e.config.xaxis.group.style.fontSize,l.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,l.xaxisForeColors=e.config.xaxis.group.style.colors,l.fontWeight=e.config.xaxis.group.style.fontWeight,l.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,s,a,!1,function(C,S){return n[C].cols*S},l)}if(void 0!==e.config.xaxis.title.text){var h=t.group({class:"apexcharts-xaxis-title"}),d=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+e.globals.xAxisLabelsHeight+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});h.add(d),i.add(h)}if(e.config.xaxis.axisBorder.show){var g=e.globals.barPadForNumericAxis,x=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-g,this.offY,this.xaxisBorderWidth+g,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);i.add(x)}return i}},{key:"drawXAxisLabelAndGroup",value:function(e,t,i,s,a,r){var n,o=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},h=[],d=[],g=this.w,x=l.xaxisFontSize||this.xaxisFontSize,C=l.xaxisFontFamily||this.xaxisFontFamily,S=l.xaxisForeColors||this.xaxisForeColors,I=l.fontWeight||g.config.xaxis.labels.style.fontWeight,U=l.cssClass||g.config.xaxis.labels.style.cssClass,Q=g.globals.padHorizontal,se=s.length,c="category"===g.config.xaxis.type?g.globals.dataPoints:se;if(a){var f=c>1?c-1:c;Q=Q+r(0,n=g.globals.gridWidth/f)/2+g.config.xaxis.labels.offsetX}else Q=Q+r(0,n=g.globals.gridWidth/c)+g.config.xaxis.labels.offsetX;for(var M=function(me){var Le=Q-r(me,n)/2+g.config.xaxis.labels.offsetX;0===me&&1===se&&n/2===Q&&1===c&&(Le=g.globals.gridWidth/2);var we=o.axesUtils.getLabel(s,g.globals.timescaleLabels,Le,me,h,x,e),Be=28;if(g.globals.rotateXLabels&&e&&(Be=22),e||(Be=Be+parseFloat(x)+(g.globals.xAxisLabelsHeight-g.globals.xAxisGroupLabelsHeight)+(g.globals.rotateXLabels?10:0)),we=void 0!==g.config.xaxis.tickAmount&&"dataPoints"!==g.config.xaxis.tickAmount&&"datetime"!==g.config.xaxis.type?o.axesUtils.checkLabelBasedOnTickamount(me,we,se):o.axesUtils.checkForOverflowingLabels(me,we,se,h,d),e&&we.text&&g.globals.xaxisLabelsCount++,g.config.xaxis.labels.show){var ze=t.drawText({x:we.x,y:o.offY+g.config.xaxis.labels.offsetY+Be-("top"===g.config.xaxis.position?g.globals.xAxisHeight+g.config.xaxis.axisTicks.height-2:0),text:we.text,textAnchor:"middle",fontWeight:we.isBold?600:I,fontSize:x,fontFamily:C,foreColor:Array.isArray(S)?e&&g.config.xaxis.convertedCatToNumeric?S[g.globals.minX+me-1]:S[me]:S,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+U});if(i.add(ze),e){var Ve=document.createElementNS(g.globals.SVGNS,"title");Ve.textContent=Array.isArray(we.text)?we.text.join(" "):we.text,ze.node.appendChild(Ve),""!==we.text&&(h.push(we.text),d.push(we))}}me<se-1&&(Q+=r(me+1,n))},X=0;X<=se-1;X++)M(X)}},{key:"drawXaxisInversed",value:function(e){var t,i,s=this,a=this.w,r=new T(this.ctx),n=a.config.yaxis[0].opposite?a.globals.translateYAxisX[e]:0,o=r.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),l=r.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+n+", 0)"});o.add(l);var h=[];if(a.config.yaxis[e].show)for(var d=0;d<this.xaxisLabels.length;d++)h.push(this.xaxisLabels[d]);i=-(t=a.globals.gridHeight/h.length)/2.2;var g=a.globals.yLabelFormatters[0],x=a.config.yaxis[0].labels;if(x.show)for(var C=function(f){var M=void 0===h[f]?"":h[f];M=g(M,{seriesIndex:e,dataPointIndex:f,w:a});var X=s.axesUtils.getYAxisForeColor(x.style.colors,e),me=0;Array.isArray(M)&&(me=M.length/2*parseInt(x.style.fontSize,10));var Le=r.drawText({x:x.offsetX-15,y:i+t+x.offsetY-me,text:M,textAnchor:s.yaxis.opposite?"start":"end",foreColor:Array.isArray(X)?X[f]:X,fontSize:x.style.fontSize,fontFamily:x.style.fontFamily,fontWeight:x.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+x.style.cssClass});l.add(Le);var we=document.createElementNS(a.globals.SVGNS,"title");if(we.textContent=Array.isArray(M)?M.join(" "):M,Le.node.appendChild(we),0!==a.config.yaxis[e].labels.rotate){var Be=r.rotateAroundCenter(Le.node);Le.node.setAttribute("transform","rotate(".concat(a.config.yaxis[e].labels.rotate," 0 ").concat(Be.y,")"))}i+=t},S=0;S<=h.length-1;S++)C(S);if(void 0!==a.config.yaxis[0].title.text){var I=r.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+n+", 0)"}),U=r.drawText({x:0,y:a.globals.gridHeight/2,text:a.config.yaxis[0].title.text,textAnchor:"middle",foreColor:a.config.yaxis[0].title.style.color,fontSize:a.config.yaxis[0].title.style.fontSize,fontWeight:a.config.yaxis[0].title.style.fontWeight,fontFamily:a.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+a.config.yaxis[0].title.style.cssClass});I.add(U),o.add(I)}var Q=0;this.isCategoryBarHorizontal&&a.config.yaxis[0].opposite&&(Q=a.globals.gridWidth);var se=a.config.xaxis.axisBorder;if(se.show){var c=r.drawLine(a.globals.padHorizontal+se.offsetX+Q,1+se.offsetY,a.globals.padHorizontal+se.offsetX+Q,a.globals.gridHeight+se.offsetY,se.color,0);o.add(c)}return a.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Q,h.length,a.config.yaxis[0].axisBorder,a.config.yaxis[0].axisTicks,0,t,o),o}},{key:"drawXaxisTicks",value:function(e,t,i){var s=this.w,a=e;if(!(e<0||e-2>s.globals.gridWidth)){var r=this.offY+s.config.xaxis.axisTicks.offsetY;if(t=t+r+s.config.xaxis.axisTicks.height,"top"===s.config.xaxis.position&&(t=r-s.config.xaxis.axisTicks.height),s.config.xaxis.axisTicks.show){var n=new T(this.ctx).drawLine(e+s.config.xaxis.axisTicks.offsetX,r+s.config.xaxis.offsetY,a+s.config.xaxis.axisTicks.offsetX,t+s.config.xaxis.offsetY,s.config.xaxis.axisTicks.color);i.add(n),n.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],i=this.xaxisLabels.length,s=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var a=0;a<i;a++)t.push(s=this.xaxisLabels[a].position);else for(var r=i,n=0;n<r;n++){var o=r;e.globals.isXNumeric&&"bar"!==e.config.chart.type&&(o-=1),t.push(s+=e.globals.gridWidth/o)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new T(this.ctx),i=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var n=0;n<s.length;n++){var o=t.rotateAroundCenter(s[n]);o.y=o.y-1,o.x=o.x+1,s[n].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(o.x," ").concat(o.y,")")),s[n].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")")),e.config.xaxis.labels.trim&&Array.prototype.forEach.call(s[n].childNodes,function(x){t.placeTextWithEllipsis(x,x.textContent,e.globals.xAxisLabelsHeight-("bottom"===e.config.legend.position?20:10))})}else!function(){for(var x=e.globals.gridWidth/(e.globals.labels.length+1),C=0;C<s.length;C++)e.config.xaxis.labels.trim&&"datetime"!==e.config.xaxis.type&&Array.prototype.forEach.call(s[C].childNodes,function(I){t.placeTextWithEllipsis(I,I.textContent,x)})}();if(a.length>0){var h=a[a.length-1].getBBox(),d=a[0].getBBox();h.x<-20&&a[a.length-1].parentNode.removeChild(a[a.length-1]),d.x+d.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&a[0].parentNode.removeChild(a[0]);for(var g=0;g<r.length;g++)t.placeTextWithEllipsis(r[g],r[g].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),W}(),De=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new _e(e),this.isRangeBar=t.globals.seriesRangeBar.length,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return u(W,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,i=new T(this.ctx);null===e&&(e=i.group({class:"apexcharts-grid"}));var s=i.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),a=i.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(a),e.add(s),e}},{key:"drawGrid",value:function(){var e=null;return this.w.globals.axisCharts&&(e=this.renderGrid(),this.drawGridArea(e.el)),e}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,i=new T(this.ctx),s=Array.isArray(e.config.stroke.width)?0:e.config.stroke.width;if(Array.isArray(e.config.stroke.width)){var a=0;e.config.stroke.width.forEach(function(d){a=Math.max(a,d)}),s=a}t.dom.elGridRectMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elForecastMask.setAttribute("id","forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(t.cuid));var r=e.config.chart.type,n=0,o=0;("bar"===r||"rangeBar"===r||"candlestick"===r||"boxPlot"===r||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(o=e.config.grid.padding.right,t.barPadForNumericAxis>(n=e.config.grid.padding.left)&&(n=t.barPadForNumericAxis,o=t.barPadForNumericAxis)),t.dom.elGridRect=i.drawRect(-s/2-n-2,-s/2,t.gridWidth+s+o+n+4,t.gridHeight+s,0,"#fff");var l=e.globals.markers.largestSize+1;t.dom.elGridRectMarker=i.drawRect(2*-l,2*-l,t.gridWidth+4*l,t.gridHeight+4*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var h=t.dom.baseEl.querySelector("defs");h.appendChild(t.dom.elGridRectMask),h.appendChild(t.dom.elForecastMask),h.appendChild(t.dom.elNonForecastMask),h.appendChild(t.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,i=e.x1,l=this.w;if(!(0===t&&l.globals.skipFirstTimelinelabel||t===e.xCount-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type)){l.config.grid.xaxis.lines.show&&this._drawGridLine({x1:i,y1:e.y1,x2:e.x2,y2:e.y2,parent:e.parent});var h=0;if(l.globals.hasGroups&&"between"===l.config.xaxis.tickPlacement){var d=l.globals.groups;if(d){for(var g=0,x=0;g<t&&x<d.length;x++)g+=d[x].cols;g===t&&(h=.6*l.globals.xAxisLabelsHeight)}}new Te(this.ctx).drawXaxisTicks(i,h,this.elg)}}},{key:"_drawGridLine",value:function(e){var t=e.x1,i=e.y1,s=e.x2,a=e.y2,r=e.parent,n=this.w,o=r.node.classList.contains("apexcharts-gridlines-horizontal"),l=n.config.grid.strokeDashArray,h=n.globals.barPadForNumericAxis,d=new T(this).drawLine(t-(o?h:0),i,s+(o?h:0),a,n.config.grid.borderColor,l);d.node.classList.add("apexcharts-gridline"),r.add(d)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,i=e.x1,s=e.y1,a=e.x2,r=e.y2,n=e.type,o=this.w,l=new T(this.ctx),h=o.globals.barPadForNumericAxis;if("column"!==n||"datetime"!==o.config.xaxis.type){var g=l.drawRect(i-("row"===n?h:0),s,a+("row"===n?2*h:0),r,0,o.config.grid[n].colors[t],o.config.grid[n].opacity);this.elg.add(g),g.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),g.node.classList.add("apexcharts-grid-".concat(n))}}},{key:"_drawXYLines",value:function(e){var t=this,i=e.xCount,s=e.tickAmount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show){var r,n=a.globals.padHorizontal,o=a.globals.gridHeight;a.globals.timescaleLabels.length?function(C){for(var S=C.xC,U=C.y1,se=C.y2,c=0;c<S;c++)t._drawGridLines({i:c,x1:t.xaxisLabels[c].position,y1:U,x2:t.xaxisLabels[c].position,y2:se,xCount:i,parent:t.elgridLinesV})}({xC:i,x1:n,y1:0,x2:r,y2:o}):(a.globals.isXNumeric&&(i=a.globals.xAxisScale.result.length),a.config.xaxis.convertedCatToNumeric&&(i=a.globals.xaxisLabelsCount),function(C){var S=C.xC,I=C.x1,U=C.y1,Q=C.x2,se=C.y2;if(void 0!==a.config.xaxis.tickAmount&&"dataPoints"!==a.config.xaxis.tickAmount&&"on"===a.config.xaxis.tickPlacement)a.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(f,M){var X=f.getBBox();t._drawGridLines({i:M,x1:X.x+X.width/2,y1:U,x2:X.x+X.width/2,y2:se,xCount:i,parent:t.elgridLinesV})});else for(var c=0;c<S+(a.globals.isXNumeric?0:1);c++)0===c&&1===S&&1===a.globals.dataPoints&&(Q=I=a.globals.gridWidth/2),t._drawGridLines({i:c,x1:I,y1:U,x2:Q,y2:se,xCount:i,parent:t.elgridLinesV}),Q=I+=a.globals.gridWidth/(a.globals.isXNumeric?S-1:S)}({xC:i,x1:n,y1:0,x2:r,y2:o}))}if(a.config.grid.yaxis.lines.show){var l=0,h=0,d=a.globals.gridWidth,g=s+1;this.isRangeBar&&(g=a.globals.labels.length);for(var x=0;x<g+(this.isRangeBar?1:0);x++)this._drawGridLine({x1:0,y1:l,x2:d,y2:h,parent:this.elgridLinesH}),h=l+=a.globals.gridHeight/(this.isRangeBar?g:s)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var s,a=i.globals.padHorizontal,r=i.globals.gridHeight,n=0;n<t+1;n++)i.config.grid.xaxis.lines.show&&this._drawGridLine({x1:a,y1:0,x2:s,y2:r,parent:this.elgridLinesV}),new Te(this.ctx).drawXaxisTicks(a,0,this.elg),s=a=a+i.globals.gridWidth/t+.3;if(i.config.grid.yaxis.lines.show)for(var o=0,l=0,h=i.globals.gridWidth,d=0;d<i.globals.dataPoints+1;d++)this._drawGridLine({x1:0,y1:o,x2:h,y2:l,parent:this.elgridLinesH}),l=o+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=new T(this.ctx);this.elg=t.group({class:"apexcharts-grid"}),this.elgridLinesH=t.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=t.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var i,s=e.globals.yAxisScale.length?e.globals.yAxisScale[0].result.length-1:5,a=0;a<e.globals.series.length&&(void 0!==e.globals.yAxisScale[a]&&(s=e.globals.yAxisScale[a].result.length-1),!(s>2));a++);return!e.globals.isBarHorizontal||this.isRangeBar?(i=this.xaxisLabels.length,this.isRangeBar&&(s=e.globals.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(i=e.config.xaxis.tickAmount)),this._drawXYLines({xCount:i,tickAmount:s})):this._drawInvertedXYLines({xCount:i=s,tickAmount:s=e.globals.xTickAmount}),this.drawGridBands(i,s),{el:this.elg,xAxisTickWidth:e.globals.gridWidth/i}}},{key:"drawGridBands",value:function(e,t){var i=this.w;if(void 0!==i.config.grid.row.colors&&i.config.grid.row.colors.length>0)for(var s=0,a=i.globals.gridHeight/t,r=i.globals.gridWidth,n=0,o=0;n<t;n++,o++)o>=i.config.grid.row.colors.length&&(o=0),this._drawGridBandRect({c:o,x1:0,y1:s,x2:r,y2:a,type:"row"}),s+=i.globals.gridHeight/t;if(void 0!==i.config.grid.column.colors&&i.config.grid.column.colors.length>0)for(var l=i.globals.isBarHorizontal||"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric?e:e-1,h=i.globals.padHorizontal,d=i.globals.padHorizontal+i.globals.gridWidth/l,g=i.globals.gridHeight,x=0,C=0;x<e;x++,C++)C>=i.config.grid.column.colors.length&&(C=0),this._drawGridBandRect({c:C,x1:h,y1:0,x2:d,y2:g,type:"column"}),h+=i.globals.gridWidth/l}}]),W}(),Fe=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"niceScale",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,r=this.w,n=Math.abs(t-e);if("dataPoints"===(i=this._adjustTicksForSmallRange(i,s,n))&&(i=r.globals.dataPoints-1),e===Number.MIN_VALUE&&0===t||!w.isNumber(e)&&!w.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE){var o=this.linearScale(e=0,t=i,i);return o}e>t?(console.warn("axis.min cannot be greater than axis.max"),t=e+.1):e===t&&(e=0===e?0:e-.5,t=0===t?2:t+.5);var l=[];n<1&&a&&("candlestick"===r.config.chart.type||"candlestick"===r.config.series[s].type||"boxPlot"===r.config.chart.type||"boxPlot"===r.config.series[s].type||r.globals.isRangeData)&&(t*=1.01);var h=i+1;h<2?h=2:h>2&&(h-=2);var d=n/h,g=Math.floor(w.log10(d)),x=Math.pow(10,g),C=Math.round(d/x);C<1&&(C=1);var S=C*x,I=S*Math.floor(e/S),U=S*Math.ceil(t/S),Q=I;if(a&&n>2){for(;l.push(Q),!((Q+=S)>U););return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}var se=e;(l=[]).push(se);for(var c=Math.abs(t-e)/i,f=0;f<=i;f++)l.push(se+=c);return l[l.length-2]>=t&&l.pop(),{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"linearScale",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3?arguments[3]:void 0,a=Math.abs(t-e);"dataPoints"===(i=this._adjustTicksForSmallRange(i,s,a))&&(i=this.w.globals.dataPoints-1);var r=a/i;i===Number.MAX_VALUE&&(i=10,r=1);for(var n=[],o=e;i>=0;)n.push(o),o+=r,i-=1;return{result:n,niceMin:n[0],niceMax:n[n.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,i){t<=0&&(t=Math.max(e,i)),e<=0&&(e=Math.min(t,i));for(var s=[],a=Math.ceil(Math.log(t)/Math.log(i)+1),r=Math.floor(Math.log(e)/Math.log(i));r<a;r++)s.push(Math.pow(i,r));return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScale",value:function(e,t,i){t<=0&&(t=Math.max(e,i)),e<=0&&(e=Math.min(t,i));for(var s=[],a=Math.log(t)/Math.log(i),r=Math.log(e)/Math.log(i),n=a-r,o=Math.round(n),l=n/o,h=0,d=r;h<o;h++,d+=l)s.push(Math.pow(i,d));return s.push(Math.pow(i,a)),{result:s,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,i){var s=e;if(void 0!==t&&this.w.config.yaxis[t].labels.formatter&&void 0===this.w.config.yaxis[t].tickAmount){var a=this.w.config.yaxis[t].labels.formatter(1);w.isNumber(Number(a))&&!w.isFloat(a)&&(s=Math.ceil(i))}return s<e?s:e}},{key:"setYScaleForIndex",value:function(e,t,i){var s=this.w.globals,a=this.w.config,r=s.isBarHorizontal?a.xaxis:a.yaxis[e];void 0===s.yAxisScale[e]&&(s.yAxisScale[e]=[]);var n=Math.abs(i-t);r.logarithmic&&n<=5&&(s.invalidLogScale=!0),r.logarithmic&&n>5?(s.allSeriesCollapsed=!1,s.yAxisScale[e]=this.logarithmicScale(t,i,r.logBase),s.yAxisScale[e]=r.forceNiceScale?this.logarithmicScaleNice(t,i,r.logBase):this.logarithmicScale(t,i,r.logBase)):i!==-Number.MAX_VALUE&&w.isNumber(i)?(s.allSeriesCollapsed=!1,s.yAxisScale[e]=void 0===r.min&&void 0===r.max||r.forceNiceScale?this.niceScale(t,i,r.tickAmount?r.tickAmount:n<5&&n>1?n+1:5,e,void 0===a.yaxis[e].max&&void 0===a.yaxis[e].min||a.yaxis[e].forceNiceScale):this.linearScale(t,i,r.tickAmount,e)):s.yAxisScale[e]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(e,t){var i=this.w,s=i.globals,a=i.config.xaxis,r=Math.abs(t-e);return s.xAxisScale=t!==-Number.MAX_VALUE&&w.isNumber(t)?this.linearScale(e,t,a.tickAmount?a.tickAmount:r<5&&r>1?r+1:5,0):this.linearScale(0,5,5),s.xAxisScale}},{key:"setMultipleYScales",value:function(){var e=this,t=this.w.globals,i=this.w.config,s=t.minYArr.concat([]),a=t.maxYArr.concat([]),r=[];i.yaxis.forEach(function(n,o){var l=o;i.series.forEach(function(g,x){g.name===n.seriesName&&(l=x,r.push(o!==x?{index:x,similarIndex:o,alreadyExists:!0}:{index:x}))}),e.setYScaleForIndex(o,s[l],a[l])}),this.sameScaleInMultipleAxes(s,a,r)}},{key:"sameScaleInMultipleAxes",value:function(e,t,i){var s=this,a=this.w.config,r=this.w.globals,n=[];i.forEach(function(S){S.alreadyExists&&(void 0===n[S.index]&&(n[S.index]=[]),n[S.index].push(S.index),n[S.index].push(S.similarIndex))}),r.yAxisSameScaleIndices=n,n.forEach(function(S,I){n.forEach(function(U,Q){var se,c;I!==Q&&(se=S,c=U,se.filter(function(f){return-1!==c.indexOf(f)})).length>0&&(n[I]=n[I].concat(n[Q]))})});var o=n.map(function(S){return S.filter(function(I,U){return S.indexOf(I)===U})}).map(function(S){return S.sort()});n=n.filter(function(S){return!!S});var l=o.slice(),h=l.map(function(S){return JSON.stringify(S)});l=l.filter(function(S,I){return h.indexOf(JSON.stringify(S))===I});var d=[],g=[];e.forEach(function(S,I){l.forEach(function(U,Q){U.indexOf(I)>-1&&(void 0===d[Q]&&(d[Q]=[],g[Q]=[]),d[Q].push({key:I,value:S}),g[Q].push({key:I,value:t[I]}))})});var x=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),C=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);d.forEach(function(S,I){S.forEach(function(U,Q){x[I]=Math.min(U.value,x[I])})}),g.forEach(function(S,I){S.forEach(function(U,Q){C[I]=Math.max(U.value,C[I])})}),e.forEach(function(S,I){g.forEach(function(U,Q){var se=x[Q],c=C[Q];a.chart.stacked&&(c=0,U.forEach(function(f,M){f.value!==-Number.MAX_VALUE&&(c+=f.value),se!==Number.MIN_VALUE&&(se+=d[Q][M].value)})),U.forEach(function(f,M){U[M].key===I&&(void 0!==a.yaxis[I].min&&(se="function"==typeof a.yaxis[I].min?a.yaxis[I].min(r.minY):a.yaxis[I].min),void 0!==a.yaxis[I].max&&(c="function"==typeof a.yaxis[I].max?a.yaxis[I].max(r.maxY):a.yaxis[I].max),s.setYScaleForIndex(I,se,c))})})})}},{key:"autoScaleY",value:function(e,t,i){e||(e=this);var s=e.w;if(s.globals.isMultipleYAxis||s.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),t;var a=s.globals.seriesX[0],r=s.config.chart.stacked;return t.forEach(function(n,o){for(var l=0,h=0;h<a.length;h++)if(a[h]>=i.xaxis.min){l=h;break}var d,g,x=s.globals.minYArr[o],C=s.globals.maxYArr[o],S=s.globals.stackedSeriesTotals;s.globals.series.forEach(function(I,U){var Q=I[l];r?(d=g=Q=S[l],S.forEach(function(se,c){a[c]<=i.xaxis.max&&a[c]>=i.xaxis.min&&(se>g&&null!==se&&(g=se),I[c]<d&&null!==I[c]&&(d=I[c]))})):(d=g=Q,I.forEach(function(se,c){if(a[c]<=i.xaxis.max&&a[c]>=i.xaxis.min){var f=se,M=se;s.globals.series.forEach(function(X,me){null!==se&&(f=Math.min(X[c],f),M=Math.max(X[c],M))}),M>g&&null!==M&&(g=M),f<d&&null!==f&&(d=f)}})),void 0===d&&void 0===g&&(d=x,g=C),(g*=g<0?.9:1.1)<0&&g<C&&(g=C),(d*=d<0?1.1:.9)<0&&d>x&&(d=x),t.length>1?(t[U].min=void 0===n.min?d:n.min,t[U].max=void 0===n.max?g:n.max):(t[0].min=void 0===n.min?d:n.min,t[0].max=void 0===n.max?g:n.max)})}),t}}]),W}(),He=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.scales=new Fe(e)}return u(W,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w.config,r=this.w.globals,n=-Number.MAX_VALUE,o=Number.MIN_VALUE;null===s&&(s=e+1);var l=r.series,h=l,d=l;"candlestick"===a.chart.type?(h=r.seriesCandleL,d=r.seriesCandleH):"boxPlot"===a.chart.type?(h=r.seriesCandleO,d=r.seriesCandleC):r.isRangeData&&(h=r.seriesRangeStart,d=r.seriesRangeEnd);for(var g=e;g<s;g++){r.dataPoints=Math.max(r.dataPoints,l[g].length),r.categoryLabels.length&&(r.dataPoints=r.categoryLabels.filter(function(S){return void 0!==S}).length);for(var x=0;x<r.series[g].length;x++){var C=l[g][x];null!==C&&w.isNumber(C)?(void 0!==d[g][x]&&(n=Math.max(n,d[g][x]),t=Math.min(t,d[g][x])),void 0!==h[g][x]&&(t=Math.min(t,h[g][x]),i=Math.max(i,h[g][x])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==r.seriesCandleC[g][x]&&(n=Math.max(n,r.seriesCandleO[g][x]),n=Math.max(n,r.seriesCandleH[g][x]),n=Math.max(n,r.seriesCandleL[g][x]),n=Math.max(n,r.seriesCandleC[g][x]),"boxPlot"===this.w.config.chart.type&&(n=Math.max(n,r.seriesCandleM[g][x]))),!a.series[g].type||"candlestick"===a.series[g].type&&"boxPlot"===a.series[g].type||(n=Math.max(n,r.series[g][x]),t=Math.min(t,r.series[g][x])),i=n),r.seriesGoals[g]&&r.seriesGoals[g][x]&&Array.isArray(r.seriesGoals[g][x])&&r.seriesGoals[g][x].forEach(function(S){o!==Number.MIN_VALUE&&(o=Math.min(o,S.value),t=o),n=Math.max(n,S.value),i=n}),w.isFloat(C)&&(C=w.noExponents(C),r.yValueDecimal=Math.max(r.yValueDecimal,C.toString().split(".")[1].length)),o>h[g][x]&&h[g][x]<0&&(o=h[g][x])):r.hasNullValues=!0}}return"rangeBar"===a.chart.type&&r.seriesRangeStart.length&&r.isBarHorizontal&&(o=t),"bar"===a.chart.type&&(o<0&&n<0&&(n=0),o===Number.MIN_VALUE&&(o=0)),{minY:o,maxY:n,lowestY:t,highestY:i}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var i=Number.MAX_VALUE;if(e.isMultipleYAxis)for(var s=0;s<e.series.length;s++){var a=this.getMinYMaxY(s,i,null,s+1);e.minYArr.push(a.minY),e.maxYArr.push(a.maxY),i=a.lowestY}var r=this.getMinYMaxY(0,i,null,e.series.length);if(e.minY=r.minY,e.maxY=r.maxY,i=r.lowestY,t.chart.stacked&&this._setStackedMinMax(),("line"===t.chart.type||"area"===t.chart.type||"candlestick"===t.chart.type||"boxPlot"===t.chart.type||"rangeBar"===t.chart.type&&!e.isBarHorizontal)&&e.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==e.maxY){var n=e.maxY-i;(i>=0&&i<=10||void 0!==t.yaxis[0].min||void 0!==t.yaxis[0].max)&&(n=0),e.minY=i-5*n/100,i>0&&e.minY<0&&(e.minY=0),e.maxY=e.maxY+5*n/100}return t.yaxis.forEach(function(o,l){void 0!==o.max&&("number"==typeof o.max?e.maxYArr[l]=o.max:"function"==typeof o.max&&(e.maxYArr[l]=o.max(e.isMultipleYAxis?e.maxYArr[l]:e.maxY)),e.maxY=e.maxYArr[l]),void 0!==o.min&&("number"==typeof o.min?e.minYArr[l]=o.min:"function"==typeof o.min&&(e.minYArr[l]=o.min(e.isMultipleYAxis?e.minYArr[l]===Number.MIN_VALUE?0:e.minYArr[l]:e.minY)),e.minY=e.minYArr[l])}),e.isBarHorizontal&&["min","max"].forEach(function(o){void 0!==t.xaxis[o]&&"number"==typeof t.xaxis[o]&&("min"===o?e.minY=t.xaxis[o]:e.maxY=t.xaxis[o])}),e.isMultipleYAxis?(this.scales.setMultipleYScales(),e.minY=i,e.yAxisScale.forEach(function(o,l){e.minYArr[l]=o.niceMin,e.maxYArr[l]=o.niceMax})):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.yAxisScale[0].niceMin,e.maxYArr[0]=e.yAxisScale[0].niceMax),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,i="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var n=0;n<e.series.length;n++)if(e.labels[n])for(var o=0;o<e.labels[n].length;o++)null!==e.labels[n][o]&&w.isNumber(e.labels[n][o])&&(e.maxX=Math.max(e.maxX,e.labels[n][o]),e.initialMaxX=Math.max(e.maxX,e.labels[n][o]),e.minX=Math.min(e.minX,e.labels[n][o]),e.initialMinX=Math.min(e.minX,e.labels[n][o]))}(),e.noLabelsProvided&&0===t.xaxis.categories.length&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var s;if(void 0===t.xaxis.tickAmount?(s=Math.round(e.svgWidth/150),"numeric"===t.xaxis.type&&e.dataPoints<30&&(s=e.dataPoints-1),s>e.dataPoints&&0!==e.dataPoints&&(s=e.dataPoints-1)):"dataPoints"===t.xaxis.tickAmount?(e.series.length>1&&(s=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric&&(s=e.maxX-e.minX-1)):s=t.xaxis.tickAmount,e.xTickAmount=s,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(e.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(e.minX=t.xaxis.min),void 0!==t.xaxis.range&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var a=[],r=e.minX-1;r<e.maxX;r++)a.push(r+1);e.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(1,s,s),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,s-1),e.seriesX=e.labels.slice());i&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ)for(var t=0;t<e.series.length;t++)if(void 0!==e.seriesZ[t])for(var i=0;i<e.seriesZ[t].length;i++)null!==e.seriesZ[t][i]&&w.isNumber(e.seriesZ[t][i])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][i]),e.minZ=Math.min(e.minZ,e.seriesZ[t][i]))}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var i=new Z(this.ctx);if("datetime"===t.xaxis.type){var s=i.getDate(e.minX);t.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()-2):s.setDate(s.getDate()-2),e.minX=new Date(s).getTime();var a=i.getDate(e.maxX);t.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()+2):a.setDate(a.getDate()+2),e.maxX=new Date(a).getTime()}else("numeric"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,i){1===t.length&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var s=t.slice();s.sort(function(a,r){return a-r}),s.forEach(function(a,r){if(r>0){var n=a-s[r-1];n>0&&(e.minXDiff=Math.min(n,e.minXDiff))}}),1!==e.dataPoints&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var e=this.w.globals,t=[],i=[];if(e.series.length)for(var s=0;s<e.series[e.maxValsInArrayIndex].length;s++)for(var a=0,r=0,n=0;n<e.series.length;n++)null!==e.series[n][s]&&w.isNumber(e.series[n][s])&&(e.series[n][s]>0?a=a+parseFloat(e.series[n][s])+1e-4:r+=parseFloat(e.series[n][s])),n===e.series.length-1&&(t.push(a),i.push(r));for(var o=0;o<t.length;o++)e.maxY=Math.max(e.maxY,t[o]),e.minY=Math.min(e.minY,i[o])}}]),W}(),L=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisFontSize=t.config.xaxis.labels.style.fontSize,this.axisFontFamily=t.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=t.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===t.config.chart.type&&t.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===t.config.xaxis.position&&(this.xAxisoffX=t.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new _e(e)}return u(W,[{key:"drawYaxis",value:function(e){var t=this,i=this.w,s=new T(this.ctx),a=i.config.yaxis[e].labels.style,r=a.fontSize,n=a.fontFamily,o=a.fontWeight,l=s.group({class:"apexcharts-yaxis",rel:e,transform:"translate("+i.globals.translateYAxisX[e]+", 0)"});if(this.axesUtils.isYAxisHidden(e))return l;var h=s.group({class:"apexcharts-yaxis-texts-g"});l.add(h);var d=i.globals.yAxisScale[e].result.length-1,g=i.globals.gridHeight/d,x=i.globals.translateY,C=i.globals.yLabelFormatters[e],S=i.globals.yAxisScale[e].result.slice();S=this.axesUtils.checkForReversedLabels(e,S);var I="";if(i.config.yaxis[e].labels.show)for(var U=function(Le){var we=S[Le];we=C(we,Le,i);var Be=i.config.yaxis[e].labels.padding;i.config.yaxis[e].opposite&&0!==i.config.yaxis.length&&(Be*=-1);var ze=t.axesUtils.getYAxisForeColor(a.colors,e),Ve=s.drawText({x:Be,y:x+d/10+i.config.yaxis[e].labels.offsetY+1,text:we,textAnchor:i.config.yaxis[e].opposite?"start":"end",fontSize:r,fontFamily:n,fontWeight:o,maxWidth:i.config.yaxis[e].labels.maxWidth,foreColor:Array.isArray(ze)?ze[Le]:ze,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+a.cssClass});Le===d&&(I=Ve),h.add(Ve);var je=document.createElementNS(i.globals.SVGNS,"title");if(je.textContent=Array.isArray(we)?we.join(" "):we,Ve.node.appendChild(je),0!==i.config.yaxis[e].labels.rotate){var it=s.rotateAroundCenter(I.node),Ke=s.rotateAroundCenter(Ve.node);Ve.node.setAttribute("transform","rotate(".concat(i.config.yaxis[e].labels.rotate," ").concat(it.x," ").concat(Ke.y,")"))}x+=g},Q=d;Q>=0;Q--)U(Q);if(void 0!==i.config.yaxis[e].title.text){var se=s.group({class:"apexcharts-yaxis-title"}),c=0;i.config.yaxis[e].opposite&&(c=i.globals.translateYAxisX[e]);var f=s.drawText({x:c,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[e].title.offsetY,text:i.config.yaxis[e].title.text,textAnchor:"end",foreColor:i.config.yaxis[e].title.style.color,fontSize:i.config.yaxis[e].title.style.fontSize,fontWeight:i.config.yaxis[e].title.style.fontWeight,fontFamily:i.config.yaxis[e].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[e].title.style.cssClass});se.add(f),l.add(se)}var M=i.config.yaxis[e].axisBorder,X=31+M.offsetX;if(i.config.yaxis[e].opposite&&(X=-31-M.offsetX),M.show){var me=s.drawLine(X,i.globals.translateY+M.offsetY-2,X,i.globals.gridHeight+i.globals.translateY+M.offsetY+2,M.color,0,M.width);l.add(me)}return i.config.yaxis[e].axisTicks.show&&this.axesUtils.drawYAxisTicks(X,d,M,i.config.yaxis[e].axisTicks,e,g,l),l}},{key:"drawYaxisInversed",value:function(e){var t=this.w,i=new T(this.ctx),s=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),a=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});s.add(a);var r=t.globals.yAxisScale[e].result.length-1,n=t.globals.gridWidth/r+.1,o=n+t.config.xaxis.labels.offsetX,l=t.globals.xLabelFormatter,h=t.globals.yAxisScale[e].result.slice(),d=t.globals.timescaleLabels;d.length>0&&(this.xaxisLabels=d.slice(),r=(h=d.slice()).length),h=this.axesUtils.checkForReversedLabels(e,h);var g=d.length;if(t.config.xaxis.labels.show)for(var x=g?0:r;g?x<g:x>=0;g?x++:x--){var C=h[x];C=l(C,x,t);var S=t.globals.gridWidth+t.globals.padHorizontal-(o-n+t.config.xaxis.labels.offsetX);if(d.length){var I=this.axesUtils.getLabel(h,d,S,x,this.drawnLabels,this.xaxisFontSize);S=I.x,C=I.text,this.drawnLabels.push(I.text),0===x&&t.globals.skipFirstTimelinelabel&&(C=""),x===h.length-1&&t.globals.skipLastTimelinelabel&&(C="")}var U=i.drawText({x:S,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-("top"===t.config.xaxis.position?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:C,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+t.config.xaxis.labels.style.cssClass});a.add(U),U.tspan(C);var Q=document.createElementNS(t.globals.SVGNS,"title");Q.textContent=C,U.node.appendChild(Q),o+=n}return this.inversedYAxisTitleText(s),this.inversedYAxisBorder(s),s}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,i=new T(this.ctx),s=t.config.xaxis.axisBorder;if(s.show){var a=0;"bar"===t.config.chart.type&&t.globals.isXNumeric&&(a-=15);var r=i.drawLine(t.globals.padHorizontal+a+s.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,s.color,0,s.height);e.add(r)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,i=new T(this.ctx);if(void 0!==t.config.xaxis.title.text){var s=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),a=i.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});s.add(a),e.add(s)}}},{key:"yAxisTitleRotate",value:function(e,t){var i=this.w,s=new T(this.ctx),a={width:0,height:0},r={width:0,height:0},n=i.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g"));null!==n&&(a=n.getBoundingClientRect());var o=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text"));if(null!==o&&(r=o.getBoundingClientRect()),null!==o){var l=this.xPaddingForYAxisTitle(e,a,r,t);o.setAttribute("x",l.xPos-(t?10:0))}if(null!==o){var h=s.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(t?-1*i.config.yaxis[e].title.rotate:i.config.yaxis[e].title.rotate," ").concat(h.x," ").concat(h.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,i,s){var a=this.w,r=0,n=0,o=10;return void 0===a.config.yaxis[e].title.text||e<0?{xPos:n,padd:0}:(s?(n=t.width+a.config.yaxis[e].title.offsetX+i.width/2+o/2,0===(r+=1)&&(n-=o/2)):(n=-1*t.width+a.config.yaxis[e].title.offsetX+o/2+i.width/2,a.globals.isBarHorizontal&&(n=-1*t.width-a.config.yaxis[e].title.offsetX-(o=25))),{xPos:n,padd:o})}},{key:"setYAxisXPosition",value:function(e,t){var i=this.w,s=0,a=0,r=18,n=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.map(function(o,l){var h=i.globals.ignoreYAxisIndexes.indexOf(l)>-1||!o.show||o.floating||0===e[l].width,d=e[l].width+t[l].width;o.opposite?i.globals.isBarHorizontal?i.globals.translateYAxisX[l]=(a=i.globals.gridWidth+i.globals.translateX-1)-o.labels.offsetX:(a=i.globals.gridWidth+i.globals.translateX+n,h||(n=n+d+20),i.globals.translateYAxisX[l]=a-o.labels.offsetX+20):(s=i.globals.translateX-r,h||(r=r+d+20),i.globals.translateYAxisX[l]=s+o.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(t=w.listToArray(t)).forEach(function(i,s){var a=e.config.yaxis[s];if(a&&void 0!==a.labels.align){var r=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-texts-g")),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-label"));n=w.listToArray(n);var o=r.getBoundingClientRect();"left"===a.labels.align?(n.forEach(function(l,h){l.setAttribute("text-anchor","start")}),a.opposite||r.setAttribute("transform","translate(-".concat(o.width,", 0)"))):"center"===a.labels.align?(n.forEach(function(l,h){l.setAttribute("text-anchor","middle")}),r.setAttribute("transform","translate(".concat(o.width/2*(a.opposite?1:-1),", 0)"))):"right"===a.labels.align&&(n.forEach(function(l,h){l.setAttribute("text-anchor","end")}),a.opposite&&r.setAttribute("transform","translate(".concat(o.width,", 0)")))}})}}]),W}(),re=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.documentEvent=w.bind(this.documentEvent,this)}return u(W,[{key:"addEventListener",value:function(e,t){var i=this.w;i.globals.events.hasOwnProperty(e)?i.globals.events[e].push(t):i.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var i=this.w;if(i.globals.events.hasOwnProperty(e)){var s=i.globals.events[e].indexOf(t);-1!==s&&i.globals.events[e].splice(s,1)}}},{key:"fireEvent",value:function(e,t){var i=this.w;if(i.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var s=i.globals.events[e],a=s.length,r=0;r<a;r++)s[r].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,i=this.ctx,s=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(a){s.addEventListener(a,function(r){var n=Object.assign({},t,{seriesIndex:t.globals.capturedSeriesIndex,dataPointIndex:t.globals.capturedDataPointIndex});"mousemove"===r.type||"touchmove"===r.type?"function"==typeof t.config.chart.events.mouseMove&&t.config.chart.events.mouseMove(r,i,n):"mouseleave"===r.type||"touchleave"===r.type?"function"==typeof t.config.chart.events.mouseLeave&&t.config.chart.events.mouseLeave(r,i,n):("mouseup"===r.type&&1===r.which||"touchend"===r.type)&&("function"==typeof t.config.chart.events.click&&t.config.chart.events.click(r,i,n),i.ctx.events.fireEvent("click",[r,i,n]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(a){t.globals.dom.baseEl.addEventListener(a,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,i=e.target.className;if("click"===e.type){var s=t.globals.dom.baseEl.querySelector(".apexcharts-menu");s&&s.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==i&&s.classList.remove("apexcharts-menu-open")}t.globals.clientX="touchmove"===e.type?e.touches[0].clientX:e.clientX,t.globals.clientY="touchmove"===e.type?e.touches[0].clientY:e.clientY}}]),W}(),Pe=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=t.filter(function(a){return a.name===e})[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var s=w.extend(ge,i);this.w.globals.locale=s.options}}]),W}(),ve=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"drawAxis",value:function(e,t){var i,s,a=this.w.globals,r=this.w.config,n=new Te(this.ctx),o=new L(this.ctx);a.axisCharts&&"radar"!==e&&(a.isBarHorizontal?(s=o.drawYaxisInversed(0),i=n.drawXaxisInversed(0),a.dom.elGraphical.add(i),a.dom.elGraphical.add(s)):(i=n.drawXaxis(),a.dom.elGraphical.add(i),r.yaxis.map(function(l,h){-1===a.ignoreYAxisIndexes.indexOf(h)&&(s=o.drawYaxis(h),a.dom.Paper.add(s))})))}}]),W}(),$=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new T(this.ctx),i=new v(this.ctx),s=e.config.xaxis.crosshairs.fill.gradient,a=e.config.xaxis.crosshairs.dropShadow,g=a.enabled,x=a.left,C=a.top,S=a.blur,I=a.color,U=a.opacity,Q=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){"gradient"===e.config.xaxis.crosshairs.fill.type&&(Q=t.drawGradient("vertical",s.colorFrom,s.colorTo,s.opacityFrom,s.opacityTo,null,s.stops,null));var se=t.drawRect();1===e.config.xaxis.crosshairs.width&&(se=t.drawLine());var c=e.globals.gridHeight;(!w.isNumber(c)||c<0)&&(c=0);var f=e.config.xaxis.crosshairs.width;(!w.isNumber(f)||f<0)&&(f=0),se.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:c,width:f,height:c,fill:Q,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),g&&(se=i.dropShadow(se,{left:x,top:C,blur:S,color:I,opacity:U})),e.globals.dom.elGraphical.add(se)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new T(this.ctx),i=e.config.yaxis[0].crosshairs,s=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var a=t.drawLine(-s,0,e.globals.gridWidth+s,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);a.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(a)}var r=t.drawLine(-s,0,e.globals.gridWidth+s,0,i.stroke.color,0,0);r.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(r)}}]),W}(),be=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"checkResponsiveConfig",value:function(e){var t=this,i=this.w,s=i.config;if(0!==s.responsive.length){var a=s.responsive.slice();a.sort(function(l,h){return l.breakpoint>h.breakpoint?1:h.breakpoint>l.breakpoint?-1:0}).reverse();var r=new q({}),n=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=a[0].breakpoint,d=window.innerWidth>0?window.innerWidth:screen.width;if(d>h){var g=F.extendArrayProps(r,i.globals.initialConfig,i);l=w.extend(g,l),l=w.extend(i.config,l),t.overrideResponsiveOptions(l)}else for(var x=0;x<a.length;x++)d<a[x].breakpoint&&(l=F.extendArrayProps(r,a[x].options,i),l=w.extend(i.config,l),t.overrideResponsiveOptions(l))};if(e){var o=F.extendArrayProps(r,e,i);o=w.extend(i.config,o),n(o=w.extend(o,e))}else n({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new q(e).init({responsiveOverride:!0});this.w.config=t}}]),W}(),ae=function(){function W(e){ue(this,W),this.ctx=e,this.colors=[],this.w=e.w;var t=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===t.config.chart.type&&t.config.plotOptions.treemap.distributed||"heatmap"===t.config.chart.type&&t.config.plotOptions.heatmap.distributed,this.isBarDistributed=t.config.plotOptions.bar.distributed&&("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)}return u(W,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this,t=this.w,i=new w;if(t.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(t.config.theme.mode)),void 0===t.config.colors?t.globals.colors=this.predefined():(t.globals.colors=t.config.colors,Array.isArray(t.config.colors)&&t.config.colors.length>0&&"function"==typeof t.config.colors[0]&&(t.globals.colors=t.config.series.map(function(x,C){var S=t.config.colors[C];return S||(S=t.config.colors[0]),"function"==typeof S?(e.isColorFn=!0,S({value:t.globals.axisCharts?t.globals.series[C][0]?t.globals.series[C][0]:0:t.globals.series[C],seriesIndex:C,dataPointIndex:C,w:t})):S}))),t.globals.seriesColors.map(function(x,C){x&&(t.globals.colors[C]=x)}),t.config.theme.monochrome.enabled){var s=[],a=t.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(a=t.globals.series[0].length*t.globals.series.length);for(var r=t.config.theme.monochrome.color,n=1/(a/t.config.theme.monochrome.shadeIntensity),o=t.config.theme.monochrome.shadeTo,l=0,h=0;h<a;h++){var d=void 0;"dark"===o?(d=i.shadeColor(-1*l,r),l+=n):(d=i.shadeColor(l,r),l+=n),s.push(d)}t.globals.colors=s.slice()}var g=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),["fill","stroke"].forEach(function(x){t.globals[x].colors=void 0===t.config[x].colors?e.isColorFn?t.config.colors:g:t.config[x].colors.slice(),e.pushExtraColors(t.globals[x].colors)}),t.globals.dataLabels.style.colors=void 0===t.config.dataLabels.style.colors?g:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50),t.globals.radarPolygons.fill.colors=void 0===t.config.plotOptions.radar.polygons.fill.colors?["dark"===t.config.theme.mode?"#424242":"none"]:t.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(t.globals.radarPolygons.fill.colors,20),t.globals.markers.colors=void 0===t.config.markers.colors?g:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.w,a=t||s.globals.series.length;if(null===i&&(i=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===s.config.chart.type&&s.config.plotOptions.heatmap.colorScale.inverse),i&&s.globals.series.length&&(a=s.globals.series[s.globals.maxValsInArrayIndex].length*s.globals.series.length),e.length<a)for(var r=a-e.length,n=0;n<r;n++)e.push(e[n])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode||"light",i=e.theme.palette?e.theme.palette:"dark"===t?"palette4":"palette1",s=e.chart.foreColor?e.chart.foreColor:"dark"===t?"#f6f7f8":"#373d3f";return e.tooltip.theme=t,e.chart.foreColor=s,e.theme.palette=i,e}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),W}(),ye=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,i="title"===e?t.config.title:t.config.subtitle,s=t.globals.svgWidth/2,a=i.offsetY,r="middle";if("left"===i.align?(s=10,r="start"):"right"===i.align&&(s=t.globals.svgWidth-10,r="end"),s+=i.offsetX,a=a+parseInt(i.style.fontSize,10)+i.margin/2,void 0!==i.text){var n=new T(this.ctx).drawText({x:s,y:a,text:i.text,textAnchor:r,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});n.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(n)}}}]),W}(),Re=function(){function W(e){ue(this,W),this.w=e.w,this.dCtx=e}return u(W,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,i=0,s=0,a="title"===e?t.config.title.floating:t.config.subtitle.floating,r=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(null!==r&&!a){var n=r.getBoundingClientRect();i=n.width,s=t.globals.axisCharts?n.height+5:n.height}return{width:i,height:s}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.baseEl.querySelector(".apexcharts-legend");e.config.legend.height||"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||(t.style.maxHeight=e.globals.svgHeight/2+"px");var i=Object.assign({},w.getBoundingClientRect(t));return this.dCtx.lgRect=null!==t&&!e.config.legend.floating&&e.config.legend.show?{x:i.x,y:i.y,height:i.height,width:0===i.height?0:i.width}:{x:0,y:0,height:0,width:0},"left"!==e.config.legend.position&&"right"!==e.config.legend.position||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(e,t){var i=e;if(this.w.globals.isMultiLineX){var s=t.map(function(r,n){return Array.isArray(r)?r.length:1}),a=Math.max.apply(Math,G(s));i=t[s.indexOf(a)]}return i}}]),W}(),Xe=function(){function W(e){ue(this,W),this.w=e.w,this.dCtx=e}return u(W,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,i=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&0===i.length&&(i=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var s=this.getxAxisTimeScaleLabelsCoords();e={width:s.width,height:s.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==t.config.legend.position&&"right"!==t.config.legend.position||t.config.legend.floating?0:this.dCtx.lgRect.width;var a=t.globals.xLabelFormatter,r=w.getLargestStringFromArr(i),n=this.dCtx.dimHelpers.getLargestStringFromMultiArr(r,i);t.globals.isBarHorizontal&&(n=r=t.globals.yAxisScale[0].result.reduce(function(C,S){return C.length>S.length?C:S},0));var o=new Ae(this.dCtx.ctx),l=r;r=o.xLabelFormat(a,r,l,{i:void 0,dateFormatter:new Z(this.dCtx.ctx).formatDate,w:t}),n=o.xLabelFormat(a,n,l,{i:void 0,dateFormatter:new Z(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&void 0===r||""===String(r).trim())&&(n=r="1");var h=new T(this.dCtx.ctx),d=h.getTextRects(r,t.config.xaxis.labels.style.fontSize),g=d;if(r!==n&&(g=h.getTextRects(n,t.config.xaxis.labels.style.fontSize)),(e={width:d.width>=g.width?d.width:g.width,height:d.height>=g.height?d.height:g.height}).width*i.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==t.config.xaxis.labels.rotate||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var x=function(C){return h.getTextRects(C,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};d=x(r),r!==n&&(g=x(n)),e.height=(d.height>g.height?d.height:g.height)/1.5,e.width=d.width>g.width?d.width:g.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasGroups)return{width:0,height:0};var i,s=(null===(e=t.config.xaxis.group.style)||void 0===e?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,a=t.globals.groups.map(function(d){return d.title}),r=w.getLargestStringFromArr(a),n=this.dCtx.dimHelpers.getLargestStringFromMultiArr(r,a),o=new T(this.dCtx.ctx),l=o.getTextRects(r,s),h=l;return r!==n&&(h=o.getTextRects(n,s)),i={width:l.width>=h.width?l.width:h.width,height:l.height>=h.height?l.height:h.height},t.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,i=0;if(void 0!==e.config.xaxis.title.text){var s=new T(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=s.width,i=s.height}return{width:t,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map(function(a){return a.value}),s=i.reduce(function(a,r){return void 0===a?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):a.length>r.length?a:r},0);return 1.05*(e=new T(this.dCtx.ctx).getTextRects(s,t.config.xaxis.labels.style.fontSize)).width*i.length>t.globals.gridWidth&&0!==t.config.xaxis.labels.rotate&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,i=this.w,s=i.globals,a=i.config,r=a.xaxis.type,n=e.width;s.skipLastTimelinelabel=!1,s.skipFirstTimelinelabel=!1;var o=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal;a.yaxis.forEach(function(h,d){o?(t.dCtx.gridPad.left<n&&(t.dCtx.xPadLeft=n/2+1),t.dCtx.xPadRight=n/2+1):function(h,d){-1!==s.collapsedSeriesIndices.indexOf(d)||function(g){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var S=t.dCtx.timescaleLabels[0].position-n/1.75+t.dCtx.yAxisWidthLeft;t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+n/1.75-t.dCtx.yAxisWidthRight>s.svgWidth-s.translateX-("right"===i.config.legend.position&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0)&&(s.skipLastTimelinelabel=!0),S<-(g.show&&!g.floating||"bar"!==a.chart.type&&"candlestick"!==a.chart.type&&"rangeBar"!==a.chart.type&&"boxPlot"!==a.chart.type?10:n/1.75)&&(s.skipFirstTimelinelabel=!0)}else"datetime"===r?t.dCtx.gridPad.right<n&&!s.rotateXLabels&&(s.skipLastTimelinelabel=!0):"datetime"!==r&&t.dCtx.gridPad.right<n/2-t.dCtx.yAxisWidthRight&&!s.rotateXLabels&&!i.config.xaxis.labels.trim&&("between"!==i.config.xaxis.tickPlacement||i.globals.isBarHorizontal)&&(t.dCtx.xPadRight=n/2+1)}(h)}(h,d)})}}]),W}(),Ge=function(){function W(e){ue(this,W),this.w=e.w,this.dCtx=e}return u(W,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,i=[],s=10,a=new _e(this.dCtx.ctx);return t.config.yaxis.map(function(r,n){var o=t.globals.yAxisScale[n],l=0;if(!a.isYAxisHidden(n)&&r.labels.show&&void 0!==r.labels.minWidth&&(l=r.labels.minWidth),!a.isYAxisHidden(n)&&r.labels.show&&o.result.length){var h=t.globals.yLabelFormatters[n],d=o.niceMin===Number.MIN_VALUE?0:o.niceMin,g=String(d).length>String(o.niceMax).length?d:o.niceMax,x=h(g,{seriesIndex:n,dataPointIndex:-1,w:t}),C=x;if(void 0!==x&&0!==x.length||(x=g),t.globals.isBarHorizontal){s=0;var S=t.globals.labels.slice();x=h(x=w.getLargestStringFromArr(S),{seriesIndex:n,dataPointIndex:-1,w:t}),C=e.dCtx.dimHelpers.getLargestStringFromMultiArr(x,S)}var I=new T(e.dCtx.ctx),U="rotate(".concat(r.labels.rotate," 0 0)"),Q=I.getTextRects(x,r.labels.style.fontSize,r.labels.style.fontFamily,U,!1),se=Q;x!==C&&(se=I.getTextRects(C,r.labels.style.fontSize,r.labels.style.fontFamily,U,!1)),i.push({width:(l>se.width||l>Q.width?l:se.width>Q.width?se.width:Q.width)+s,height:se.height>Q.height?se.height:Q.height})}else i.push({width:0,height:0})}),i}},{key:"getyAxisTitleCoords",value:function(){var e=this,i=[];return this.w.config.yaxis.map(function(s,a){if(s.show&&void 0!==s.title.text){var r=new T(e.dCtx.ctx),n="rotate(".concat(s.title.rotate," 0 0)"),o=r.getTextRects(s.title.text,s.title.style.fontSize,s.title.style.fontFamily,n,!1);i.push({width:o.width,height:o.height})}else i.push({width:0,height:0})}),i}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,i=0,s=0,a=e.globals.yAxisScale.length>1?10:0,r=new _e(this.dCtx.ctx),n=function(o,l){var h=e.config.yaxis[l].floating,d=0;o.width>0&&!h?(d=o.width+a,e.globals.ignoreYAxisIndexes.indexOf(l)>-1&&(d=d-o.width-a)):d=h||r.isYAxisHidden(l)?0:5,e.config.yaxis[l].opposite?s+=d:i+=d,t+=d};return e.globals.yLabelsCoords.map(function(o,l){n(o,l)}),e.globals.yTitleCoords.map(function(o,l){n(o,l)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=s,t}}]),W}(),$e=function(){function W(e){ue(this,W),this.w=e.w,this.dCtx=e}return u(W,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w;if(t.globals.noData||t.globals.allSeriesCollapsed)return 0;var i=function(h){return"bar"===h||"rangeBar"===h||"candlestick"===h||"boxPlot"===h},s=t.config.chart.type,a=0,r=i(s)?t.config.series.length:1;if(t.globals.comboBarCount>0&&(r=t.globals.comboBarCount),t.globals.collapsedSeries.forEach(function(h){i(h.type)&&(r-=1)}),t.config.chart.stacked&&(r=1),(i(s)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&r>0){var n,o,l=Math.abs(t.globals.initialMaxX-t.globals.initialMinX);l<=3&&(l=t.globals.dataPoints),n=l/e,t.globals.minXDiff&&t.globals.minXDiff/n>0&&(o=t.globals.minXDiff/n),o>e/2&&(o/=2),(a=o/r*parseInt(t.config.plotOptions.bar.columnWidth,10)/100)<1&&(a=1),t.globals.barPadForNumericAxis=a=a/(r>1?1:1.5)+5}return a}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,i=t.globals,s=this.dCtx.isSparkline||!t.globals.axisCharts?0:10;["title","subtitle"].forEach(function(n){s+=void 0!==t.config[n].text?t.config[n].margin:e.dCtx.isSparkline||!t.globals.axisCharts?0:5}),!t.config.legend.show||"bottom"!==t.config.legend.position||t.config.legend.floating||t.globals.axisCharts||(s+=10);var a=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),r=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight=i.gridHeight-a.height-r.height-s,i.translateY=i.translateY+a.height+r.height+s}},{key:"setGridXPosForDualYAxis",value:function(e,t){var i=this.w,s=new _e(this.dCtx.ctx);i.config.yaxis.map(function(a,r){-1!==i.globals.ignoreYAxisIndexes.indexOf(r)||a.floating||s.isYAxisHidden(r)||(a.opposite&&(i.globals.translateX=i.globals.translateX-(t[r].width+e[r].width)-parseInt(i.config.yaxis[r].labels.style.fontSize,10)/1.2-12),i.globals.translateX<2&&(i.globals.translateX=2))})}}]),W}(),tt=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Re(this),this.dimYAxis=new Ge(this),this.dimXAxis=new Xe(this),this.dimGrid=new $e(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return u(W,[{key:"plotCoords",value:function(){var e=this,t=this.w,i=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(a){var r=function A(W,e){return function(t){if(Array.isArray(t))return t}(W)||function(t,i){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var a,r,n=[],o=!0,l=!1;try{for(s=s.call(t);!(o=(a=s.next()).done)&&(n.push(a.value),!i||n.length!==i);o=!0);}catch(h){l=!0,r=h}finally{try{o||null==s.return||s.return()}finally{if(l)throw r}}return n}}(W,e)||te(W,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a,2);e.gridPad[r[0]]=Math.max(r[1],e.w.globals.markers.largestSize/1.5)}),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*s,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(s>0?s+4:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,i=t.globals,s=this.dimYAxis.getyAxisLabelsCoords(),a=this.dimYAxis.getyAxisTitleCoords();t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(x,C){t.globals.yLabelsCoords.push({width:s[C].width,index:C}),t.globals.yTitleCoords.push({width:a[C].width,index:C})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var r=this.dimXAxis.getxAxisLabelsCoords(),n=this.dimXAxis.getxAxisGroupLabelsCoords(),o=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(r,o,n),i.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+t.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+t.config.xaxis.labels.offsetX;var l=this.yAxisWidth,h=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-o.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-r.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var d=10;("radar"===t.config.chart.type||this.isSparkline)&&(l=0,h=i.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===t.config.chart.type)&&(l=0,h=0,d=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(r);var g=function(){i.translateX=l,i.gridHeight=i.svgHeight-e.lgRect.height-h-(e.isSparkline||"treemap"===t.config.chart.type?0:t.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-l};switch("top"===t.config.xaxis.position&&(d=i.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":i.translateY=d,g();break;case"top":i.translateY=this.lgRect.height+d,g();break;case"left":i.translateY=d,i.translateX=this.lgRect.width+l,i.gridHeight=i.svgHeight-h-12,i.gridWidth=i.svgWidth-this.lgRect.width-l;break;case"right":i.translateY=d,i.translateX=l,i.gridHeight=i.svgHeight-h-12,i.gridWidth=i.svgWidth-this.lgRect.width-l-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(a,s),new L(this.ctx).setYAxisXPosition(s,a)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,i=e.config,s=0;e.config.legend.show&&!e.config.legend.floating&&(s=20);var a="pie"===i.chart.type||"polarArea"===i.chart.type||"donut"===i.chart.type?"pie":"radialBar",r=i.plotOptions[a].offsetY,n=i.plotOptions[a].offsetX;if(!i.legend.show||i.legend.floating)return t.gridHeight=t.svgHeight-i.grid.padding.left+i.grid.padding.right,t.gridWidth=t.gridHeight,t.translateY=r,void(t.translateX=n+(t.svgWidth-t.gridWidth)/2);switch(i.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=r-10,t.translateX=n+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+r+10,t.translateX=n+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-s,t.gridHeight="auto"!==i.chart.height?t.svgHeight:t.gridWidth,t.translateY=r,t.translateX=n+this.lgRect.width+s;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-s-5,t.gridHeight="auto"!==i.chart.height?t.svgHeight:t.gridWidth,t.translateY=r,t.translateX=n+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,i){var s=this.w;this.xAxisHeight=(i.height+e.height+t.height)*(s.globals.isMultiLineX?1.2:s.globals.LINE_HEIGHT_RATIO)+(s.globals.hasGroups?2:1)*(s.globals.rotateXLabels?22:10)+(s.globals.rotateXLabels&&"bottom"===s.config.legend.position?10:0),this.xAxisWidth=e.width,this.xAxisHeight-t.height>s.config.xaxis.labels.maxHeight&&(this.xAxisHeight=s.config.xaxis.labels.maxHeight),s.config.xaxis.labels.minHeight&&this.xAxisHeight<s.config.xaxis.labels.minHeight&&(this.xAxisHeight=s.config.xaxis.labels.minHeight),s.config.xaxis.floating&&(this.xAxisHeight=0);var h=0,d=0;s.config.yaxis.forEach(function(g){h+=g.labels.minWidth,d+=g.labels.maxWidth}),this.yAxisWidth<h&&(this.yAxisWidth=h),this.yAxisWidth>d&&(this.yAxisWidth=d)}}]),W}(),qe=function(){function W(e){ue(this,W),this.w=e.w,this.lgCtx=e}return u(W,[{key:"getLegendStyles",value:function(){var e=document.createElement("style");e.setAttribute("type","text/css");var t=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return e.appendChild(t),e}},{key:"getLegendBBox",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:e.height,clww:e.width}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;e.dom.elLegendForeign=document.createElementNS(e.SVGNS,"foreignObject");var t=e.dom.elLegendForeign;t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",e.svgWidth),t.setAttribute("height",e.svgHeight),e.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.appendChild(e.dom.elLegendWrap),t.appendChild(this.getLegendStyles()),e.dom.Paper.node.insertBefore(t,e.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(e,t){var i=this,s=this.w;if(s.globals.axisCharts||"radialBar"===s.config.chart.type){s.globals.resized=!0;var a=null,r=null;s.globals.risingSeries=[],s.globals.axisCharts?(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),r=parseInt(a.getAttribute("data:realIndex"),10)):(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),r=parseInt(a.getAttribute("rel"),10)-1),t?[{cs:s.globals.collapsedSeries,csi:s.globals.collapsedSeriesIndices},{cs:s.globals.ancillaryCollapsedSeries,csi:s.globals.ancillaryCollapsedSeriesIndices}].forEach(function(h){i.riseCollapsedSeries(h.cs,h.csi,r)}):this.hideSeries({seriesEl:a,realIndex:r})}else{var n=s.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(e+1,"'] path")),o=s.config.chart.type;if("pie"===o||"polarArea"===o||"donut"===o){var l=s.config.plotOptions.pie.donut.labels;new T(this.lgCtx.ctx).pathMouseDown(n.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(n.members[0].node,l)}n.fire("click")}}},{key:"hideSeries",value:function(e){var t=e.seriesEl,i=e.realIndex,s=this.w,a=w.clone(s.config.series);if(s.globals.axisCharts){var r=!1;if(s.config.yaxis[i]&&s.config.yaxis[i].show&&s.config.yaxis[i].showAlways&&(r=!0,s.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0&&(s.globals.ancillaryCollapsedSeries.push({index:i,data:a[i].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),s.globals.ancillaryCollapsedSeriesIndices.push(i))),!r){s.globals.collapsedSeries.push({index:i,data:a[i].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),s.globals.collapsedSeriesIndices.push(i);var n=s.globals.risingSeries.indexOf(i);s.globals.risingSeries.splice(n,1)}}else s.globals.collapsedSeries.push({index:i,data:a[i]}),s.globals.collapsedSeriesIndices.push(i);for(var o=t.childNodes,l=0;l<o.length;l++)o[l].classList.contains("apexcharts-series-markers-wrap")&&(o[l].classList.contains("apexcharts-hide")?o[l].classList.remove("apexcharts-hide"):o[l].classList.add("apexcharts-hide"));s.globals.allSeriesCollapsed=s.globals.collapsedSeries.length===s.config.series.length,a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,i){var s=this.w,a=w.clone(s.config.series);if(e.length>0){for(var r=0;r<e.length;r++)e[r].index===i&&(s.globals.axisCharts?(a[i].data=e[r].data.slice(),e.splice(r,1),t.splice(r,1),s.globals.risingSeries.push(i)):(a[i]=e[r].data,e.splice(r,1),t.splice(r,1),s.globals.risingSeries.push(i)));a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w;return e.forEach(t.globals.axisCharts?function(i,s){t.globals.collapsedSeriesIndices.indexOf(s)>-1&&(e[s].data=[])}:function(i,s){t.globals.collapsedSeriesIndices.indexOf(s)>-1&&(e[s]=0)}),e}}]),W}(),Je=function(){function W(e,t){ue(this,W),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new qe(this)}return u(W,[{key:"init",value:function(){var e=this.w,t=e.globals,i=e.config;if((i.legend.showForSingleSeries&&1===t.series.length||this.isBarsDistributed||t.series.length>1||!t.axisCharts)&&i.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),w.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===i.legend.position||"top"===i.legend.position?this.legendAlignHorizontal():"right"!==i.legend.position&&"left"!==i.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var e=this,t=this.w,i=t.config.legend.fontFamily,s=t.globals.seriesNames,a=t.globals.colors.slice();if("heatmap"===t.config.chart.type){var r=t.config.plotOptions.heatmap.colorScale.ranges;s=r.map(function(ze){return ze.name?ze.name:ze.from+" - "+ze.to}),a=r.map(function(ze){return ze.color})}else this.isBarsDistributed&&(s=t.globals.labels.slice());t.config.legend.customLegendItems.length&&(s=t.config.legend.customLegendItems);for(var n=t.globals.legendFormatter,o=t.config.legend.inverseOrder,l=o?s.length-1:0;o?l>=0:l<=s.length-1;o?l--:l++){var h=n(s[l],{seriesIndex:l,w:t}),d=!1,g=!1;if(t.globals.collapsedSeries.length>0)for(var x=0;x<t.globals.collapsedSeries.length;x++)t.globals.collapsedSeries[x].index===l&&(d=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var C=0;C<t.globals.ancillaryCollapsedSeriesIndices.length;C++)t.globals.ancillaryCollapsedSeriesIndices[C]===l&&(g=!0);var S=document.createElement("span");S.classList.add("apexcharts-legend-marker");var I=t.config.legend.markers.offsetX,U=t.config.legend.markers.offsetY,Q=t.config.legend.markers.height,se=t.config.legend.markers.width,c=t.config.legend.markers.strokeWidth,f=t.config.legend.markers.strokeColor,M=t.config.legend.markers.radius,X=S.style;X.background=a[l],X.color=a[l],X.setProperty("background",a[l],"important"),t.config.legend.markers.fillColors&&t.config.legend.markers.fillColors[l]&&(X.background=t.config.legend.markers.fillColors[l]),void 0!==t.globals.seriesColors[l]&&(X.background=t.globals.seriesColors[l],X.color=t.globals.seriesColors[l]),X.height=Array.isArray(Q)?parseFloat(Q[l])+"px":parseFloat(Q)+"px",X.width=Array.isArray(se)?parseFloat(se[l])+"px":parseFloat(se)+"px",X.left=(Array.isArray(I)?parseFloat(I[l]):parseFloat(I))+"px",X.top=(Array.isArray(U)?parseFloat(U[l]):parseFloat(U))+"px",X.borderWidth=Array.isArray(c)?c[l]:c,X.borderColor=Array.isArray(f)?f[l]:f,X.borderRadius=Array.isArray(M)?parseFloat(M[l])+"px":parseFloat(M)+"px",t.config.legend.markers.customHTML&&(Array.isArray(t.config.legend.markers.customHTML)?t.config.legend.markers.customHTML[l]&&(S.innerHTML=t.config.legend.markers.customHTML[l]()):S.innerHTML=t.config.legend.markers.customHTML()),T.setAttrs(S,{rel:l+1,"data:collapsed":d||g}),(d||g)&&S.classList.add("apexcharts-inactive-legend");var me=document.createElement("div"),Le=document.createElement("span");Le.classList.add("apexcharts-legend-text"),Le.innerHTML=Array.isArray(h)?h.join(" "):h;var we=t.config.legend.labels.useSeriesColors?t.globals.colors[l]:t.config.legend.labels.colors;we||(we=t.config.chart.foreColor),Le.style.color=we,Le.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",Le.style.fontWeight=t.config.legend.fontWeight,Le.style.fontFamily=i||t.config.chart.fontFamily,T.setAttrs(Le,{rel:l+1,i:l,"data:default-text":encodeURIComponent(h),"data:collapsed":d||g}),me.appendChild(S),me.appendChild(Le);var Be=new F(this.ctx);t.config.legend.showForZeroSeries||0===Be.getSeriesTotalByIndex(l)&&Be.seriesHaveSameValues(l)&&!Be.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&me.classList.add("apexcharts-hidden-zero-series"),t.config.legend.showForNullSeries||Be.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&me.classList.add("apexcharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(me),t.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(t.config.legend.horizontalAlign)),t.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+t.config.legend.position),me.classList.add("apexcharts-legend-series"),me.style.margin="".concat(t.config.legend.itemMargin.vertical,"px ").concat(t.config.legend.itemMargin.horizontal,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",T.setAttrs(me,{rel:l+1,seriesName:w.escapeString(s[l]),"data:collapsed":d||g}),(d||g)&&me.classList.add("apexcharts-inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||me.classList.add("apexcharts-no-click")}t.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&0===t.config.legend.customLegendItems.length&&(t.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var i=this.w,s=i.globals.dom.baseEl.querySelector(".apexcharts-legend"),a=s.getBoundingClientRect(),r=0,n=0;if("bottom"===i.config.legend.position)n+=i.globals.svgHeight-a.height/2;else if("top"===i.config.legend.position){var o=new tt(this.ctx),l=o.dimHelpers.getTitleSubtitleCoords("title").height,h=o.dimHelpers.getTitleSubtitleCoords("subtitle").height;n=n+(l>0?l-10:0)+(h>0?h-10:0)}s.style.position="absolute",n=n+t+i.config.legend.offsetY,s.style.left=(r=r+e+i.config.legend.offsetX)+"px",s.style.top=n+"px","bottom"===i.config.legend.position?(s.style.top="auto",s.style.bottom=5-i.config.legend.offsetY+"px"):"right"===i.config.legend.position&&(s.style.left="auto",s.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach(function(d){s.style[d]&&(s.style[d]=parseInt(i.config.legend[d],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var t=this.legendHelpers.getLegendBBox(),i=new tt(this.ctx),s=i.dimHelpers.getTitleSubtitleCoords("title"),a=i.dimHelpers.getTitleSubtitleCoords("subtitle"),r=0;"bottom"===e.config.legend.position?r=-t.clwh/1.8:"top"===e.config.legend.position&&(r=s.height+a.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,r)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendBBox(),i=0;"left"===e.config.legend.position&&(i=20),"right"===e.config.legend.position&&(i=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,i=e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if("heatmap"===t.config.chart.type||this.isBarsDistributed){if(i){var s=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,s,this.w]),new _(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&i&&new _(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(e.target.getAttribute("rel"),10)-1,s="true"===e.target.getAttribute("data:collapsed"),a=this.w.config.chart.events.legendClick;"function"==typeof a&&a(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var r=this.w.config.legend.markers.onClick;"function"==typeof r&&e.target.classList.contains("apexcharts-legend-marker")&&(r(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),"treemap"!==t.config.chart.type&&"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,s)}}}]),W}(),ot=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return u(W,[{key:"createToolbar",value:function(){var e=this,t=this.w,i=function(){return document.createElement("div")},s=i();if(s.setAttribute("class","apexcharts-toolbar"),s.style.top=t.config.chart.toolbar.offsetY+"px",s.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(s),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var a=0;a<this.t.customIcons.length;a++)this.elCustomIcons.push(i());var r=[],n=function(d,g,x){var C=d.toLowerCase();e.t[C]&&t.config.chart.zoom.enabled&&r.push({el:g,icon:"string"==typeof e.t[C]?e.t[C]:x,title:e.localeValues[d],class:"apexcharts-".concat(C,"-icon")})};n("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),n("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var o=function(d){e.t[d]&&t.config.chart[d].enabled&&r.push({el:"zoom"===d?e.elZoom:e.elSelection,icon:"string"==typeof e.t[d]?e.t[d]:"zoom"===d?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:e.localeValues["zoom"===d?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(d,"-icon")})};o("zoom"),o("selection"),this.t.pan&&t.config.chart.zoom.enabled&&r.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),n("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&r.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)r.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});r.forEach(function(d,g){d.index&&w.moveIndexInArray(r,g,d.index)});for(var h=0;h<r.length;h++)T.setAttrs(r[h].el,{class:r[h].class,title:r[h].title}),r[h].el.innerHTML=r[h].icon,s.appendChild(r[h].el);this._createHamburgerMenu(s),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),T.setAttrs(this.elMenu,{class:"apexcharts-menu"});var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||t.splice(2,1);for(var i=0;i<t.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=t[i].title,T.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(t[i].name),title:t[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(i){i.classList.contains("exportSVG")?i.addEventListener("click",e.handleDownload.bind(e,"svg")):i.classList.contains("exportPNG")?i.addEventListener("click",e.handleDownload.bind(e,"png")):i.classList.contains("exportCSV")&&i.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var i="selection"===e?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,s="selection"===e?"selectionEnabled":"zoomEnabled";t.w.globals[s]=!t.w.globals[s],i.classList.contains(t.ctx.toolbar.selectedClass)?i.classList.remove(t.ctx.toolbar.selectedClass):i.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),"pan"===e?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t="pan"===e?this.elPan:this.elZoom,i="pan"===e?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(i){i&&i.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,a=this._getNewMinXMaxX((this.minX+t)/2,(this.maxX+t)/2);e.globals.disableZoomIn||this.zoomUpdateOptions(a.minX,a.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!("datetime"===e.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,a=this._getNewMinXMaxX(this.minX-(t-this.minX),this.maxX-(t-this.maxX));e.globals.disableZoomOut||this.zoomUpdateOptions(a.minX,a.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(e):e,maxX:i?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var i=this.w;if(void 0!==e||void 0!==t){if(!(i.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=i.globals.dataPoints),t-e<2))){var s={min:e,max:t},a=this.getBeforeZoomRange(s);a&&(s=a.xaxis);var r={xaxis:s},n=w.clone(i.globals.initialConfig.yaxis);i.config.chart.zoom.autoScaleYaxis&&(n=new Fe(this.ctx).autoScaleY(this.ctx,n,{xaxis:s})),i.config.chart.group||(r.yaxis=n),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(r,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(s,n)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var i=null;return"function"==typeof this.ev.beforeZoom&&(i=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),i}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,i=new Ce(this.ctx);switch(e){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var i=t.w;if(i.globals.lastXAxis.min=void 0,i.globals.lastXAxis.max=void 0,t.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof i.config.chart.events.beforeResetZoom){var s=i.config.chart.events.beforeResetZoom(t,i);s&&t.updateHelpers.revertDefaultAxisMinMax(s)}"function"==typeof i.config.chart.events.zoomed&&t.ctx.toolbar.zoomCallback({min:i.config.xaxis.min,max:i.config.xaxis.max}),i.globals.zoomed=!1;var a=t.ctx.series.emptyCollapsedSeries(w.clone(i.globals.initialSeries));t.updateHelpers._updateSeries(a,i.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),W}(),nt=function(W){b(t,ot);var e=O(t);function t(i){var s;return ue(this,t),(s=e.call(this,i)).ctx=i,s.w=i.w,s.dragged=!1,s.graphics=new T(s.ctx),s.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],s.clientX=0,s.clientY=0,s.startX=0,s.endX=0,s.dragX=0,s.startY=0,s.endY=0,s.dragY=0,s.moveDirection="none",s}return u(t,[{key:"init",value:function(i){var s=this,a=i.xyRatios,r=this.w,n=this;this.xyRatios=a,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=r.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),r.globals.dom.elGraphical.add(this.zoomRect),r.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===r.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:r.globals.gridWidth,maxY:r.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===r.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:r.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=r.globals.dom.baseEl.querySelector("".concat(r.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(o){s.hoverArea.addEventListener(o,n.svgMouseEvents.bind(n,a),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(i,s){var a=this.w,r=this,n=this.ctx.toolbar,o=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type,l=a.config.chart.toolbar.autoSelected;if(s.shiftKey?(this.shiftWasPressed=!0,n.enableZoomPanFromToolbar("pan"===l?"zoom":"pan")):this.shiftWasPressed&&(n.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),s.target){var h,d=s.target.classList;if(s.target.parentNode&&null!==s.target.parentNode&&(h=s.target.parentNode.classList),!(d.contains("apexcharts-selection-rect")||d.contains("apexcharts-legend-marker")||d.contains("apexcharts-legend-text")||h&&h.contains("apexcharts-toolbar"))){if(r.clientX="touchmove"===s.type||"touchstart"===s.type?s.touches[0].clientX:"touchend"===s.type?s.changedTouches[0].clientX:s.clientX,r.clientY="touchmove"===s.type||"touchstart"===s.type?s.touches[0].clientY:"touchend"===s.type?s.changedTouches[0].clientY:s.clientY,"mousedown"===s.type&&1===s.which){var g=r.gridRect.getBoundingClientRect();r.startX=r.clientX-g.left,r.startY=r.clientY-g.top,r.dragged=!1,r.w.globals.mousedown=!0}if(("mousemove"===s.type&&1===s.which||"touchmove"===s.type)&&(r.dragged=!0,a.globals.panEnabled?(a.globals.selection=null,r.w.globals.mousedown&&r.panDragging({context:r,zoomtype:o,xyRatios:i})):(r.w.globals.mousedown&&a.globals.zoomEnabled||r.w.globals.mousedown&&a.globals.selectionEnabled)&&(r.selection=r.selectionDrawing({context:r,zoomtype:o}))),"mouseup"===s.type||"touchend"===s.type||"mouseleave"===s.type){var x=r.gridRect.getBoundingClientRect();r.w.globals.mousedown&&(r.endX=r.clientX-x.left,r.endY=r.clientY-x.top,r.dragX=Math.abs(r.endX-r.startX),r.dragY=Math.abs(r.endY-r.startY),(a.globals.zoomEnabled||a.globals.selectionEnabled)&&r.selectionDrawn({context:r,zoomtype:o}),a.globals.panEnabled&&a.config.xaxis.convertedCatToNumeric&&r.delayedPanScrolled()),a.globals.zoomEnabled&&r.hideSelectionRect(this.selectionRect),r.dragged=!1,r.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var i=this.w;if(this.selectionRect){var s=this.selectionRect.node.getBoundingClientRect();s.width>0&&s.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:i.globals.gridWidth,maxY:i.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var i=this.w,s=this.xyRatios;if(!i.globals.zoomEnabled)if(null!=i.globals.selection)this.drawSelectionRect(i.globals.selection);else if(void 0!==i.config.chart.selection.xaxis.min&&void 0!==i.config.chart.selection.xaxis.max){var a=(i.config.chart.selection.xaxis.min-i.globals.minX)/s.xRatio;this.drawSelectionRect({x:a,y:0,width:i.globals.gridWidth-(i.globals.maxX-i.config.chart.selection.xaxis.max)/s.xRatio-a,height:i.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof i.config.chart.events.selection&&i.config.chart.events.selection(this.ctx,{xaxis:{min:i.config.chart.selection.xaxis.min,max:i.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(i){var s=i.x,a=i.y,r=i.width,n=i.height,o=i.translateX,h=i.translateY,g=this.w,x=this.zoomRect,C=this.selectionRect;if(this.dragged||null!==g.globals.selection){var S={transform:"translate("+(void 0===o?0:o)+", "+(void 0===h?0:h)+")"};g.globals.zoomEnabled&&this.dragged&&(r<0&&(r=1),x.attr({x:s,y:a,width:r,height:n,fill:g.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":g.config.chart.zoom.zoomedArea.fill.opacity,stroke:g.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":g.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":g.config.chart.zoom.zoomedArea.stroke.opacity}),T.setAttrs(x.node,S)),g.globals.selectionEnabled&&(C.attr({x:s,y:a,width:r>0?r:0,height:n>0?n:0,fill:g.config.chart.selection.fill.color,"fill-opacity":g.config.chart.selection.fill.opacity,stroke:g.config.chart.selection.stroke.color,"stroke-width":g.config.chart.selection.stroke.width,"stroke-dasharray":g.config.chart.selection.stroke.dashArray,"stroke-opacity":g.config.chart.selection.stroke.opacity}),T.setAttrs(C.node,S))}}},{key:"hideSelectionRect",value:function(i){i&&i.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(i){var S,a=i.zoomtype,r=this.w,n=i.context,o=this.gridRect.getBoundingClientRect(),l=n.startX-1,h=n.startY,d=!1,g=!1,x=n.clientX-o.left-l,C=n.clientY-o.top-h;return Math.abs(x+l)>r.globals.gridWidth?x=r.globals.gridWidth-l:n.clientX-o.left<0&&(x=l),l>n.clientX-o.left&&(d=!0,x=Math.abs(x)),h>n.clientY-o.top&&(g=!0,C=Math.abs(C)),n.drawSelectionRect(S="x"===a?{x:d?l-x:l,y:0,width:x,height:r.globals.gridHeight}:"y"===a?{x:0,y:g?h-C:h,width:r.globals.gridWidth,height:C}:{x:d?l-x:l,y:g?h-C:h,width:x,height:C}),n.selectionDragging("resizing"),S}},{key:"selectionDragging",value:function(i,s){var a=this,r=this.w,n=this.xyRatios,o=this.selectionRect,l=0;"resizing"===i&&(l=30);var h=function(g){return parseFloat(o.node.getAttribute(g))},d={x:h("x"),y:h("y"),width:h("width"),height:h("height")};r.globals.selection=d,"function"==typeof r.config.chart.events.selection&&r.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var g=a.gridRect.getBoundingClientRect(),x=o.node.getBoundingClientRect(),C={xaxis:{min:r.globals.xAxisScale.niceMin+(x.left-g.left)*n.xRatio,max:r.globals.xAxisScale.niceMin+(x.right-g.left)*n.xRatio},yaxis:{min:r.globals.yAxisScale[0].niceMin+(g.bottom-x.bottom)*n.yRatio[0],max:r.globals.yAxisScale[0].niceMax-(x.top-g.top)*n.yRatio[0]}};r.config.chart.events.selection(a.ctx,C),r.config.chart.brush.enabled&&void 0!==r.config.chart.events.brushScrolled&&r.config.chart.events.brushScrolled(a.ctx,C)},l))}},{key:"selectionDrawn",value:function(i){var a=i.zoomtype,r=this.w,n=i.context,o=this.xyRatios,l=this.ctx.toolbar;if(n.startX>n.endX){var h=n.startX;n.startX=n.endX,n.endX=h}if(n.startY>n.endY){var d=n.startY;n.startY=n.endY,n.endY=d}var g=void 0,x=void 0;r.globals.isRangeBar?(g=r.globals.yAxisScale[0].niceMin+n.startX*o.invertedYRatio,x=r.globals.yAxisScale[0].niceMin+n.endX*o.invertedYRatio):(g=r.globals.xAxisScale.niceMin+n.startX*o.xRatio,x=r.globals.xAxisScale.niceMin+n.endX*o.xRatio);var C=[],S=[];if(r.config.yaxis.forEach(function(X,me){C.push(r.globals.yAxisScale[me].niceMax-o.yRatio[me]*n.startY),S.push(r.globals.yAxisScale[me].niceMax-o.yRatio[me]*n.endY)}),n.dragged&&(n.dragX>10||n.dragY>10)&&g!==x)if(r.globals.zoomEnabled){var I=w.clone(r.globals.initialConfig.yaxis),U=w.clone(r.globals.initialConfig.xaxis);if(r.globals.zoomed=!0,r.config.xaxis.convertedCatToNumeric&&(g=Math.floor(g),x=Math.floor(x),g<1&&(g=1,x=r.globals.dataPoints),x-g<2&&(x=g+1)),"xy"!==a&&"x"!==a||(U={min:g,max:x}),"xy"!==a&&"y"!==a||I.forEach(function(X,me){I[me].min=S[me],I[me].max=C[me]}),r.config.chart.zoom.autoScaleYaxis){var Q=new Fe(n.ctx);I=Q.autoScaleY(n.ctx,I,{xaxis:U})}if(l){var se=l.getBeforeZoomRange(U,I);se&&(U=se.xaxis?se.xaxis:U,I=se.yaxis?se.yaxis:I)}var c={xaxis:U};r.config.chart.group||(c.yaxis=I),n.ctx.updateHelpers._updateOptions(c,!1,n.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof r.config.chart.events.zoomed&&l.zoomCallback(U,I)}else if(r.globals.selectionEnabled){var f,M=null;f={min:g,max:x},"xy"!==a&&"y"!==a||(M=w.clone(r.config.yaxis)).forEach(function(X,me){M[me].min=S[me],M[me].max=C[me]}),r.globals.selection=n.selection,"function"==typeof r.config.chart.events.selection&&r.config.chart.events.selection(n.ctx,{xaxis:f,yaxis:M})}}},{key:"panDragging",value:function(i){var a=this.w,r=i.context;if(void 0!==a.globals.lastClientPosition.x){var n=a.globals.lastClientPosition.x-r.clientX,o=a.globals.lastClientPosition.y-r.clientY;Math.abs(n)>Math.abs(o)&&n>0?this.moveDirection="left":Math.abs(n)>Math.abs(o)&&n<0?this.moveDirection="right":Math.abs(o)>Math.abs(n)&&o>0?this.moveDirection="up":Math.abs(o)>Math.abs(n)&&o<0&&(this.moveDirection="down")}a.globals.lastClientPosition={x:r.clientX,y:r.clientY},a.config.xaxis.convertedCatToNumeric||r.panScrolled(a.globals.isRangeBar?a.globals.minY:a.globals.minX,a.globals.isRangeBar?a.globals.maxY:a.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var i=this.w,s=i.globals.minX,a=i.globals.maxX,r=(i.globals.maxX-i.globals.minX)/2;"left"===this.moveDirection?(s=i.globals.minX+r,a=i.globals.maxX+r):"right"===this.moveDirection&&(s=i.globals.minX-r,a=i.globals.maxX-r),s=Math.floor(s),a=Math.floor(a),this.updateScrolledChart({xaxis:{min:s,max:a}},s,a)}},{key:"panScrolled",value:function(i,s){var a=this.w,r=this.xyRatios,n=w.clone(a.globals.initialConfig.yaxis),o=r.xRatio,l=a.globals.minX,h=a.globals.maxX;a.globals.isRangeBar&&(o=r.invertedYRatio,l=a.globals.minY,h=a.globals.maxY),"left"===this.moveDirection?(i=l+a.globals.gridWidth/15*o,s=h+a.globals.gridWidth/15*o):"right"===this.moveDirection&&(i=l-a.globals.gridWidth/15*o,s=h-a.globals.gridWidth/15*o),a.globals.isRangeBar||(i<a.globals.initialMinX||s>a.globals.initialMaxX)&&(i=l,s=h);var d={min:i,max:s};a.config.chart.zoom.autoScaleYaxis&&(n=new Fe(this.ctx).autoScaleY(this.ctx,n,{xaxis:d}));var g={xaxis:{min:i,max:s}};a.config.chart.group||(g.yaxis=n),this.updateScrolledChart(g,i,s)}},{key:"updateScrolledChart",value:function(i,s,a){var r=this.w;this.ctx.updateHelpers._updateOptions(i,!1,!1),"function"==typeof r.config.chart.events.scrolled&&r.config.chart.events.scrolled(this.ctx,{xaxis:{min:s,max:a}})}}]),t}(),Oe=function(){function W(e){ue(this,W),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return u(W,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,s=e.clientX,a=e.clientY,r=this.w,n=e.elGrid.getBoundingClientRect(),o=n.width,l=n.height,h=o/(r.globals.dataPoints-1),d=l/r.globals.dataPoints,g=this.hasBars();!r.globals.comboCharts&&!g||r.config.xaxis.convertedCatToNumeric||(h=o/r.globals.dataPoints);var x=s-n.left-r.globals.barPadForNumericAxis,C=a-n.top;x<0||C<0||x>o||C>l?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):r.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):r.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var S=Math.round(x/h),I=Math.floor(C/d);g&&!r.config.xaxis.convertedCatToNumeric&&(S=Math.ceil(x/h),S-=1);var U=null,Q=null,se=[],c=[];if(r.globals.seriesXvalues.forEach(function(me){se.push([me[0]+1e-6].concat(me))}),r.globals.seriesYvalues.forEach(function(me){c.push([me[0]+1e-6].concat(me))}),se=se.map(function(me){return me.filter(function(Le){return w.isNumber(Le)})}),c=c.map(function(me){return me.filter(function(Le){return w.isNumber(Le)})}),r.globals.isXNumeric){var f=this.ttCtx.getElGrid().getBoundingClientRect(),M=x*(f.width/o);U=(Q=this.closestInMultiArray(M,C*(f.height/l),se,c)).index,S=Q.j,null!==U&&(S=(Q=this.closestInArray(M,se=r.globals.seriesXvalues[U])).index)}return r.globals.capturedSeriesIndex=null===U?-1:U,(!S||S<1)&&(S=0),r.globals.capturedDataPointIndex=r.globals.isBarHorizontal?I:S,{capturedSeries:U,j:r.globals.isBarHorizontal?I:S,hoverX:x,hoverY:C}}},{key:"closestInMultiArray",value:function(e,t,i,s){var r=0,n=null,o=-1;this.w.globals.series.length>1?r=this.getFirstActiveXArray(i):n=0;var h=Math.abs(e-i[r][0]);if(i.forEach(function(x){x.forEach(function(C,S){var I=Math.abs(e-C);I<h&&(h=I,o=S)})}),-1!==o){var g=Math.abs(t-s[r][o]);n=r,s.forEach(function(x,C){var S=Math.abs(t-x[o]);S<g&&(g=S,n=C)})}return{index:n,j:o}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,i=0,s=e.map(function(r,n){return r.length>0?n:-1}),a=0;a<s.length;a++)if(-1!==s[a]&&-1===t.globals.collapsedSeriesIndices.indexOf(a)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(a)){i=s[a];break}return i}},{key:"closestInArray",value:function(e,t){for(var s=null,a=Math.abs(e-t[0]),r=0;r<t.length;r++){var n=Math.abs(e-t[r]);n<a&&(a=n,s=r)}return{index:s}}},{key:"isXoverlap",value:function(e){var t=[],i=this.w.globals.seriesX.filter(function(a){return void 0!==a[0]});if(i.length>0)for(var s=0;s<i.length-1;s++)void 0!==i[s][e]&&void 0!==i[s+1][e]&&i[s][e]!==i[s+1][e]&&t.push("unEqual");return 0===t.length}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,i=0;i<t.length-1;i++)if(t[i].data.length!==t[i+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return G(e).reduce(function(t,i){return t+i.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(e=G(e)).sort(function(i,s){var a=Number(i.getAttribute("data:realIndex")),r=Number(s.getAttribute("data:realIndex"));return r<a?1:r>a?-1:0});var t=[];return e.forEach(function(i){t.push(i.querySelector(".apexcharts-marker"))}),t}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,i=t.config.markers.hover.size;return void 0===i&&(i=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,i=this.ttCtx;0===i.allTooltipSeriesGroups.length&&(i.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var s=i.allTooltipSeriesGroups,a=0;a<s.length;a++)"enable"===e?(s[a].classList.add("apexcharts-active"),s[a].style.display=t.config.tooltip.items.display):(s[a].classList.remove("apexcharts-active"),s[a].style.display="none")}}]),W}(),Se=function(){function W(e){ue(this,W),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new Oe(e)}return u(W,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,i=void 0===t||t,s=e.ttItems,a=e.i,r=void 0===a?0:a,n=e.j,o=void 0===n?null:n,d=e.e,g=this.w;void 0!==g.config.tooltip.custom?this.handleCustomTooltip({i:r,j:o,y1:e.y1,y2:e.y2,w:g}):this.toggleActiveInactiveSeries(i);var x=this.getValuesToPrint({i:r,j:o});this.printLabels({i:r,j:o,values:x,ttItems:s,shared:i,e:d});var C=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=C.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=C.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,i=this,s=e.i,a=e.j,r=e.values,n=e.ttItems,o=e.shared,l=e.e,h=this.w,d=[],g=function(f){return h.globals.seriesGoals[f]&&h.globals.seriesGoals[f][a]&&Array.isArray(h.globals.seriesGoals[f][a])},x=r.xVal,C=r.zVal,S=r.xAxisTTVal,I="",U=h.globals.colors[s];null!==a&&h.config.plotOptions.bar.distributed&&(U=h.globals.colors[a]);for(var Q=function(f,M){var X=i.getFormatters(s);I=i.getSeriesName({fn:X.yLbTitleFormatter,index:s,seriesIndex:s,j:a}),"treemap"===h.config.chart.type&&(I=X.yLbTitleFormatter(String(h.config.series[s].data[a].x),{series:h.globals.series,seriesIndex:s,dataPointIndex:a,w:h}));var me=h.config.tooltip.inverseOrder?M:f;if(h.globals.axisCharts){var Le=function(ze){return X.yLbFormatter(h.globals.series[ze][a],{series:h.globals.series,seriesIndex:ze,dataPointIndex:a,w:h})};if(o)X=i.getFormatters(me),I=i.getSeriesName({fn:X.yLbTitleFormatter,index:me,seriesIndex:s,j:a}),U=h.globals.colors[me],t=Le(me),g(me)&&(d=h.globals.seriesGoals[me][a].map(function(ze){return{attrs:ze,val:X.yLbFormatter(ze.value,{seriesIndex:me,dataPointIndex:a,w:h})}}));else{var we,Be=null==l||null===(we=l.target)||void 0===we?void 0:we.getAttribute("fill");Be&&(U=-1!==Be.indexOf("url")?document.querySelector(Be.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Be),t=Le(s),g(s)&&Array.isArray(h.globals.seriesGoals[s][a])&&(d=h.globals.seriesGoals[s][a].map(function(ze){return{attrs:ze,val:X.yLbFormatter(ze.value,{seriesIndex:s,dataPointIndex:a,w:h})}}))}}null===a&&(t=X.yLbFormatter(h.globals.series[s],p(p({},h),{},{seriesIndex:s,dataPointIndex:s}))),i.DOMHandling({i:s,t:me,j:a,ttItems:n,values:{val:t,goalVals:d,xVal:x,xAxisTTVal:S,zVal:C},seriesName:I,shared:o,pColor:U})},se=0,c=h.globals.series.length-1;se<h.globals.series.length;se++,c--)Q(se,c)}},{key:"getFormatters",value:function(e){var t,i=this.w,s=i.globals.yLabelFormatters[e];return void 0!==i.globals.ttVal?Array.isArray(i.globals.ttVal)?(s=i.globals.ttVal[e]&&i.globals.ttVal[e].formatter,t=i.globals.ttVal[e]&&i.globals.ttVal[e].title&&i.globals.ttVal[e].title.formatter):(s=i.globals.ttVal.formatter,"function"==typeof i.globals.ttVal.title.formatter&&(t=i.globals.ttVal.title.formatter)):t=i.config.tooltip.y.title.formatter,"function"!=typeof s&&(s=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(a){return a}),"function"!=typeof t&&(t=function(a){return a}),{yLbFormatter:s,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var s=e.seriesIndex,a=e.j,r=this.w;return(0,e.fn)(String(r.globals.seriesNames[e.index]),{series:r.globals.series,seriesIndex:s,dataPointIndex:a,w:r})}},{key:"DOMHandling",value:function(e){var t=e.t,i=e.j,s=e.ttItems,a=e.values,r=e.seriesName,n=e.shared,o=e.pColor,l=this.w,h=this.ttCtx,d=a.val,g=a.goalVals,x=a.xVal,C=a.xAxisTTVal,S=a.zVal,I=null;I=s[t].children,l.config.tooltip.fillSeriesColor&&(s[t].style.backgroundColor=o,I[0].style.display="none"),h.showTooltipTitle&&(null===h.tooltipTitle&&(h.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),h.tooltipTitle.innerHTML=x),h.isXAxisTooltipEnabled&&(h.xaxisTooltipText.innerHTML=""!==C?C:x);var U=s[t].querySelector(".apexcharts-tooltip-text-y-label");U&&(U.innerHTML=r||"");var Q=s[t].querySelector(".apexcharts-tooltip-text-y-value");Q&&(Q.innerHTML=void 0!==d?d:""),I[0]&&I[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(o=l.config.tooltip.marker.fillColors[t]),I[0].style.backgroundColor=o),l.config.tooltip.marker.show||(I[0].style.display="none");var se=s[t].querySelector(".apexcharts-tooltip-text-goals-label"),c=s[t].querySelector(".apexcharts-tooltip-text-goals-value");if(g.length&&l.globals.seriesGoals[t]){var f=function(){var M="<div >",X="<div>";g.forEach(function(me,Le){M+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(me.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(me.attrs.name,"</div>"),X+="<div>".concat(me.val,"</div>")}),se.innerHTML=M+"</div>",c.innerHTML=X+"</div>"};n?l.globals.seriesGoals[t][i]&&Array.isArray(l.globals.seriesGoals[t][i])?f():(se.innerHTML="",c.innerHTML=""):f()}else se.innerHTML="",c.innerHTML="";null!==S&&(s[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,s[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==S?S:""),n&&I[0]&&(I[0].parentNode.style.display=null==d||l.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||l.globals.collapsedSeriesIndices.indexOf(t)>-1?"none":l.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(e){var t=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=t.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");i&&(i.classList.add("apexcharts-active"),i.style.display=t.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,i=e.j,s=this.w,a=this.ctx.series.filteredSeriesX(),r="",n="",o=null,l=null,h={series:s.globals.series,seriesIndex:t,dataPointIndex:i,w:s},d=s.globals.ttZFormatter;null===i?l=s.globals.series[t]:s.globals.isXNumeric&&"treemap"!==s.config.chart.type?(r=a[t][i],0===a[t].length&&(r=a[this.tooltipUtil.getFirstActiveXArray(a)][i])):r=void 0!==s.globals.labels[i]?s.globals.labels[i]:"";var g=r;return r=s.globals.isXNumeric&&"datetime"===s.config.xaxis.type?new Ae(this.ctx).xLabelFormat(s.globals.ttKeyFormatter,g,g,{i:void 0,dateFormatter:new Z(this.ctx).formatDate,w:this.w}):s.globals.isBarHorizontal?s.globals.yLabelFormatters[0](g,h):s.globals.xLabelFormatter(g,h),void 0!==s.config.tooltip.x.formatter&&(r=s.globals.ttKeyFormatter(g,h)),s.globals.seriesZ.length>0&&s.globals.seriesZ[t].length>0&&(o=d(s.globals.seriesZ[t][i],s)),n="function"==typeof s.config.xaxis.tooltip.formatter?s.globals.xaxisTooltipFormatter(g,h):r,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(r)?r.join(" "):r,xAxisTTVal:Array.isArray(n)?n.join(" "):n,zVal:o}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,i=e.j,s=e.y1,a=e.y2,r=e.w,n=this.ttCtx.getElTooltip(),o=r.config.tooltip.custom;Array.isArray(o)&&o[t]&&(o=o[t]),n.innerHTML=o({ctx:this.ctx,series:r.globals.series,seriesIndex:t,dataPointIndex:i,y1:s,y2:a,w:r})}}]),W}(),ke=function(){function W(e){ue(this,W),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return u(W,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.ttCtx,s=this.w,a=i.getElXCrosshairs(),r=e-i.xcrosshairsWidth/2,n=s.globals.labels.slice().length;if(null!==t&&(r=s.globals.gridWidth/n*t),null===a||s.globals.isBarHorizontal||(a.setAttribute("x",r),a.setAttribute("x1",r),a.setAttribute("x2",r),a.setAttribute("y2",s.globals.gridHeight),a.classList.add("apexcharts-active")),r<0&&(r=0),r>s.globals.gridWidth&&(r=s.globals.gridWidth),i.isXAxisTooltipEnabled){var o=r;"tickWidth"!==s.config.xaxis.crosshairs.width&&"barWidth"!==s.config.xaxis.crosshairs.width||(o=r+i.xcrosshairsWidth/2),this.moveXAxisTooltip(o)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;null!==t.ycrosshairs&&T.setAttrs(t.ycrosshairs,{y1:e,y2:e}),null!==t.ycrosshairsHidden&&T.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,i=this.ttCtx;if(null!==i.xaxisTooltip&&0!==i.xcrosshairsWidth){i.xaxisTooltip.classList.add("apexcharts-active");var a,s=i.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;e-=i.xaxisTooltip.getBoundingClientRect().width/2,isNaN(e)||(e+=t.globals.translateX,a=new T(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=a.width+"px",i.xaxisTooltip.style.left=e+"px",i.xaxisTooltip.style.top=s+"px")}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,i=this.ttCtx;null===i.yaxisTTEls&&(i.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var s=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),a=t.globals.translateY+s,r=i.yaxisTTEls[e].getBoundingClientRect().height,n=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(n-=26),a-=r/2,-1===t.globals.ignoreYAxisIndexes.indexOf(e)?(i.yaxisTTEls[e].classList.add("apexcharts-active"),i.yaxisTTEls[e].style.top=a+"px",i.yaxisTTEls[e].style.left=n+t.config.yaxis[e].tooltip.offsetX+"px"):i.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.w,a=this.ttCtx,r=a.getElTooltip(),n=a.tooltipRect,o=null!==i?parseFloat(i):1,l=parseFloat(e)+o+5,h=parseFloat(t)+o/2;if(l>s.globals.gridWidth/2&&(l=l-n.ttWidth-o-10),l>s.globals.gridWidth-n.ttWidth-10&&(l=s.globals.gridWidth-n.ttWidth),l<-20&&(l=-20),s.config.tooltip.followCursor){var d=a.getElGrid(),g=d.getBoundingClientRect();h=a.e.clientY+s.globals.translateY-g.top-n.ttHeight/2}else s.globals.isBarHorizontal||(n.ttHeight/2+h>s.globals.gridHeight&&(h=s.globals.gridHeight-n.ttHeight+s.globals.translateY),h<0&&(h=0));isNaN(l)||(r.style.left=(l+=s.globals.translateX)+"px",r.style.top=h+"px")}},{key:"moveMarkers",value:function(e,t){var i=this.w,s=this.ttCtx;if(i.globals.markers.size[e]>0)for(var a=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),r=0;r<a.length;r++)parseInt(a[r].getAttribute("rel"),10)===t&&(s.marker.resetPointsSize(),s.marker.enlargeCurrentPoint(t,a[r]));else s.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var i,s,a=this.w,r=this.ttCtx,n=a.globals.pointsArray,o=r.tooltipUtil.getHoverMarkerSize(t),l=a.config.series[t].type;if(!l||"column"!==l&&"candlestick"!==l&&"boxPlot"!==l){i=n[t][e][0],s=n[t][e][1]?n[t][e][1]:0;var h=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers circle"));h&&s<a.globals.gridHeight&&s>0&&(h.setAttribute("r",o),h.setAttribute("cx",i),h.setAttribute("cy",s)),this.moveXCrosshairs(i),r.fixedTooltip||this.moveTooltip(i,s,o)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,i=this.ttCtx,s=i.w,a=0,r=0,n=s.globals.pointsArray;t=new _(this.ctx).getActiveConfigSeriesIndex(!0);var o=i.tooltipUtil.getHoverMarkerSize(t);n[t]&&(a=n[t][e][0],r=n[t][e][1]);var l=i.tooltipUtil.getAllMarkers();if(null!==l)for(var h=0;h<s.globals.series.length;h++){var d=n[h];if(s.globals.comboCharts&&void 0===d&&l.splice(h,0,null),d&&d.length){var g=n[h][e][1];l[h].setAttribute("cx",a),null!==g&&!isNaN(g)&&g<s.globals.gridHeight+o&&g+o>0?(l[h]&&l[h].setAttribute("r",o),l[h]&&l[h].setAttribute("cy",g)):l[h]&&l[h].setAttribute("r",0)}}this.moveXCrosshairs(a),i.fixedTooltip||this.moveTooltip(a,r||s.globals.gridHeight,o)}},{key:"moveStickyTooltipOverBars",value:function(e){var t=this.w,i=this.ttCtx,s=t.globals.columnSeries?t.globals.columnSeries.length:t.globals.series.length,a=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;t.globals.isBarHorizontal&&(a=new _(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var r=t.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']")),n=r?parseFloat(r.getAttribute("cx")):0,o=r?parseFloat(r.getAttribute("cy")):0,l=r?parseFloat(r.getAttribute("barWidth")):0,h=r?parseFloat(r.getAttribute("barHeight")):0,d=i.getElGrid().getBoundingClientRect(),g=r.classList.contains("apexcharts-candlestick-area")||r.classList.contains("apexcharts-boxPlot-area");t.globals.isXNumeric?(r&&!g&&(n-=s%2!=0?l/2:0),r&&g&&t.globals.comboCharts&&(n-=l/2)):t.globals.isBarHorizontal||(n=i.xAxisTicksPositions[e-1]+i.dataPointsDividedWidth/2,isNaN(n)&&(n=i.xAxisTicksPositions[e]-i.dataPointsDividedWidth/2)),t.globals.isBarHorizontal?(o>t.globals.gridHeight/2&&(o-=i.tooltipRect.ttHeight),(o=o+t.config.grid.padding.top+h/3)+h>t.globals.gridHeight&&(o=t.globals.gridHeight-h)):t.config.tooltip.followCursor?o=i.e.clientY-d.top-i.tooltipRect.ttHeight/2:o+i.tooltipRect.ttHeight+15>t.globals.gridHeight&&(o=t.globals.gridHeight),o<-10&&(o=-10),t.globals.isBarHorizontal||this.moveXCrosshairs(n),i.fixedTooltip||this.moveTooltip(n,o||t.globals.gridHeight)}}]),W}(),We=function(){function W(e){ue(this,W),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new ke(e)}return u(W,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new T(this.ctx),i=new ie(this.ctx),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");s=G(s),e.config.chart.stacked&&s.sort(function(d,g){return parseFloat(d.getAttribute("data:realIndex"))-parseFloat(g.getAttribute("data:realIndex"))});for(var a=0;a<s.length;a++){var r=s[a].querySelector(".apexcharts-series-markers-wrap");if(null!==r){var n=void 0,o="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==e.config.chart.type&&"area"!==e.config.chart.type||e.globals.comboCharts||e.config.tooltip.intersect||(o+=" no-pointer-events");var l=i.getMarkerConfig({cssClass:o,seriesIndex:Number(r.getAttribute("data:realIndex"))});(n=t.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var h=document.createElementNS(e.globals.SVGNS,"g");h.classList.add("apexcharts-series-markers"),h.appendChild(n.node),r.appendChild(h)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w;"bubble"!==a.config.chart.type&&this.newPointSize(e,t);var r=t.getAttribute("cx"),n=t.getAttribute("cy");if(null!==i&&null!==s&&(r=i,n=s),this.tooltipPosition.moveXCrosshairs(r),!this.fixedTooltip){if("radar"===a.config.chart.type){var o=this.ttCtx.getElGrid(),l=o.getBoundingClientRect();r=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(r,n,a.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,i=this,s=this.ttCtx,a=e,r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),n=t.config.markers.hover.size,o=0;o<r.length;o++){var l=r[o].getAttribute("rel"),h=r[o].getAttribute("index");if(void 0===n&&(n=t.globals.markers.size[h]+t.config.markers.hover.sizeOffset),a===parseInt(l,10)){i.newPointSize(a,r[o]);var d=r[o].getAttribute("cx"),g=r[o].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(d),s.fixedTooltip||i.tooltipPosition.moveTooltip(d,g,n)}else i.oldPointSize(r[o])}}},{key:"newPointSize",value:function(e,t){var i=this.w,s=i.config.markers.hover.size,a=0===e?t.parentNode.firstChild:t.parentNode.lastChild;if("0"!==a.getAttribute("default-marker-size")){var r=parseInt(a.getAttribute("index"),10);void 0===s&&(s=i.globals.markers.size[r]+i.config.markers.hover.sizeOffset),s<0&&(s=0),a.setAttribute("r",s)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size"));e.setAttribute("r",t)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var i=parseFloat(e[t].getAttribute("default-marker-size"));w.isNumber(i)&&i>=0?e[t].setAttribute("r",i):e[t].setAttribute("r",0)}}}]),W}(),Ye=function(){function W(e){ue(this,W),this.w=e.w,this.ttCtx=e}return u(W,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,i=e.opt,s=e.x,a=e.y,n=this.ttCtx,o=this.w;if(t.target.classList.contains("apexcharts-".concat(e.type,"-rect"))){var l=this.getAttr(t,"i"),h=this.getAttr(t,"j"),d=this.getAttr(t,"cx"),g=this.getAttr(t,"cy"),x=this.getAttr(t,"width"),C=this.getAttr(t,"height");if(n.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:l,j:h,shared:!1,e:t}),o.globals.capturedSeriesIndex=l,o.globals.capturedDataPointIndex=h,s=d+n.tooltipRect.ttWidth/2+x,a=g+n.tooltipRect.ttHeight/2-C/2,n.tooltipPosition.moveXCrosshairs(d+x/2),s>o.globals.gridWidth/2&&(s=d-n.tooltipRect.ttWidth/2+x),n.w.config.tooltip.followCursor){var S=o.globals.dom.elWrap.getBoundingClientRect();s=o.globals.clientX-S.left-(s>o.globals.gridWidth/2?n.tooltipRect.ttWidth:0),a=o.globals.clientY-S.top-(a>o.globals.gridHeight/2?n.tooltipRect.ttHeight:0)}}return{x:s,y:a}}},{key:"handleMarkerTooltip",value:function(e){var t,i,s=e.e,a=e.opt,r=e.x,n=e.y,o=this.w,l=this.ttCtx;if(s.target.classList.contains("apexcharts-marker")){var h=parseInt(a.paths.getAttribute("cx"),10),d=parseInt(a.paths.getAttribute("cy"),10),g=parseFloat(a.paths.getAttribute("val"));if(i=parseInt(a.paths.getAttribute("rel"),10),t=parseInt(a.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var x=w.findAncestor(a.paths,"apexcharts-series");x&&(t=parseInt(x.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:t,j:i,shared:!l.showOnIntersect&&o.config.tooltip.shared,e:s}),"mouseup"===s.type&&l.markerClick(s,t,i),o.globals.capturedSeriesIndex=t,o.globals.capturedDataPointIndex=i,r=h,n=d+o.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var C=l.getElGrid().getBoundingClientRect();n=l.e.clientY+o.globals.translateY-C.top}g<0&&(n=d),l.marker.enlargeCurrentPoint(i,a.paths,r,n)}return{x:r,y:n}}},{key:"handleBarTooltip",value:function(e){var t,i,s=e.e,a=e.opt,r=this.w,n=this.ttCtx,o=n.getElTooltip(),l=0,h=0,d=0,g=this.getBarTooltipXY({e:s,opt:a}),x=g.barHeight,C=g.j;r.globals.capturedSeriesIndex=t=g.i,r.globals.capturedDataPointIndex=C,r.globals.isBarHorizontal&&n.tooltipUtil.hasBars()||!r.config.tooltip.shared?(h=g.x,d=g.y,i=Array.isArray(r.config.stroke.width)?r.config.stroke.width[t]:r.config.stroke.width,l=h):r.globals.comboCharts||r.config.tooltip.shared||(l/=2),isNaN(d)?d=r.globals.svgHeight-n.tooltipRect.ttHeight:d<0&&(d=0);var S=parseInt(a.paths.parentNode.getAttribute("data:realIndex"),10),I=r.globals.isMultipleYAxis?r.config.yaxis[S]&&r.config.yaxis[S].reversed:r.config.yaxis[0].reversed;if(h+n.tooltipRect.ttWidth>r.globals.gridWidth&&!I?h-=n.tooltipRect.ttWidth:h<0&&(h=0),n.w.config.tooltip.followCursor){var U=n.getElGrid().getBoundingClientRect();d=n.e.clientY-U.top}null===n.tooltip&&(n.tooltip=r.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),r.config.tooltip.shared||n.tooltipPosition.moveXCrosshairs(r.globals.comboBarCount>0?l+i/2:l),!n.fixedTooltip&&(!r.config.tooltip.shared||r.globals.isBarHorizontal&&n.tooltipUtil.hasBars())&&(I&&(h-=n.tooltipRect.ttWidth)<0&&(h=0),!I||r.globals.isBarHorizontal&&n.tooltipUtil.hasBars()||(d=d+x-2*(r.globals.series[t][C]<0?x:0)),n.tooltipRect.ttHeight+d>r.globals.gridHeight?d=r.globals.gridHeight-n.tooltipRect.ttHeight+r.globals.translateY:(d=d+r.globals.translateY-n.tooltipRect.ttHeight/2)<0&&(d=0),o.style.left=h+r.globals.translateX+"px",o.style.top=d+"px")}},{key:"getBarTooltipXY",value:function(e){var t=e.e,i=e.opt,s=this.w,a=null,r=this.ttCtx,n=0,o=0,l=0,h=0,d=0,g=t.target.classList;if(g.contains("apexcharts-bar-area")||g.contains("apexcharts-candlestick-area")||g.contains("apexcharts-boxPlot-area")||g.contains("apexcharts-rangebar-area")){var x=t.target,C=x.getBoundingClientRect(),S=i.elGrid.getBoundingClientRect(),I=C.height;d=C.height;var U=C.width,Q=parseInt(x.getAttribute("cx"),10),se=parseInt(x.getAttribute("cy"),10);h=parseFloat(x.getAttribute("barWidth"));var c="touchmove"===t.type?t.touches[0].clientX:t.clientX;a=parseInt(x.getAttribute("j"),10),n=parseInt(x.parentNode.getAttribute("rel"),10)-1;var f=x.getAttribute("data-range-y1"),M=x.getAttribute("data-range-y2");s.globals.comboCharts&&(n=parseInt(x.parentNode.getAttribute("data:realIndex"),10)),r.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:n,j:a,y1:f?parseInt(f,10):null,y2:M?parseInt(M,10):null,shared:!r.showOnIntersect&&s.config.tooltip.shared,e:t}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(o=c-S.left+15,l=se-r.dataPointsDividedHeight+I/2-r.tooltipRect.ttHeight/2):(o=s.globals.isXNumeric?Q-U/2:Q-r.dataPointsDividedWidth+U/2,l=t.clientY-S.top-r.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((o=Q)<r.xyRatios.baseLineInvertedY&&(o=Q-r.tooltipRect.ttWidth),l=se-r.dataPointsDividedHeight+I/2-r.tooltipRect.ttHeight/2):(o=s.globals.isXNumeric?Q-U/2:Q-r.dataPointsDividedWidth+U/2,l=se)}return{x:o,y:l,barHeight:d,barWidth:h,i:n,j:a}}}]),W}(),Ze=function(){function W(e){ue(this,W),this.w=e.w,this.ttCtx=e}return u(W,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,i="bottom"===e.config.xaxis.position;t.xaxisOffY=i?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var s=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",a=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&null===e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,i=function(a){var r=e.config.yaxis[a].opposite||e.config.yaxis[a].crosshairs.opposite;t.yaxisOffX=r?e.globals.gridWidth+1:1;var n="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(a,r?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");e.globals.yAxisSameScaleIndices.map(function(l,h){l.map(function(d,g){g===a&&(n+=e.config.yaxis[g].show?" ":" apexcharts-yaxistooltip-hidden")})});var o=e.globals.dom.elWrap;null===e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(a))&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(t.yaxisTooltip),0===a&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[a]=document.createElement("div"),t.yaxisTooltipText[a].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[a]))},s=0;s<e.config.yaxis.length;s++)i(s)}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,i=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var s=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s&&"barWidth"===e.config.xaxis.crosshairs.width){var a=parseFloat(s.getAttribute("barWidth"));t.xcrosshairsWidth=a}else"tickWidth"===e.config.xaxis.crosshairs.width&&(t.xcrosshairsWidth=e.globals.gridWidth/e.globals.labels.length)}else if("tickWidth"===e.config.xaxis.crosshairs.width)t.xcrosshairsWidth=e.globals.gridWidth/e.globals.labels.length;else if("barWidth"===e.config.xaxis.crosshairs.width){var o=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==o){var l=parseFloat(o.getAttribute("barWidth"));t.xcrosshairsWidth=l}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),null!==i&&t.xcrosshairsWidth>0&&i.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,i){var s=this.ttCtx,a=this.w,r=a.globals.yLabelFormatters[e];if(s.yaxisTooltips[e]){var n=s.getElGrid().getBoundingClientRect(),h=a.globals.minYArr[e]+(a.globals.maxYArr[e]-a.globals.minYArr[e]-(t-n.top)*i.yRatio[e]);s.tooltipPosition.moveYCrosshairs(t-n.top),s.yaxisTooltipText[e].innerHTML=r(h),s.tooltipPosition.moveYAxisTooltip(e)}}}]),W}(),Qe=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new Oe(this),this.tooltipLabels=new Se(this),this.tooltipPosition=new ke(this),this.marker=new We(this),this.intersect=new Ye(this),this.axesTooltip=new Ze(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return u(W,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(r,n){return!!(r.show&&r.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&i.classList.add(t.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(i),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var s=new Te(this.ctx);this.xAxisTicksPositions=s.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==t.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==t.config.markers.size&&0!==t.globals.markers.largestSize||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var a=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(a=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(a),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,i=this.w,s=[],a=this.getElTooltip(),r=function(o){var l=document.createElement("div");l.classList.add("apexcharts-tooltip-series-group"),l.style.order=i.config.tooltip.inverseOrder?e-o:o+1,t.tConfig.shared&&t.tConfig.enabledOnSeries&&Array.isArray(t.tConfig.enabledOnSeries)&&t.tConfig.enabledOnSeries.indexOf(o)<0&&l.classList.add("apexcharts-tooltip-series-group-hidden");var h=document.createElement("span");h.classList.add("apexcharts-tooltip-marker"),h.style.backgroundColor=i.globals.colors[o],l.appendChild(h);var d=document.createElement("div");d.classList.add("apexcharts-tooltip-text"),d.style.fontFamily=t.tConfig.style.fontFamily||i.config.chart.fontFamily,d.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(g){var x=document.createElement("div");x.classList.add("apexcharts-tooltip-".concat(g,"-group"));var C=document.createElement("span");C.classList.add("apexcharts-tooltip-text-".concat(g,"-label")),x.appendChild(C);var S=document.createElement("span");S.classList.add("apexcharts-tooltip-text-".concat(g,"-value")),x.appendChild(S),d.appendChild(x)}),l.appendChild(d),a.appendChild(l),s.push(l)},n=0;n<e;n++)r(n);return s}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,i=this.getElTooltip(),s=!("bar"!==t&&"candlestick"!==t&&"boxPlot"!==t&&"rangeBar"!==t),a="area"===t||"line"===t||"scatter"===t||"bubble"===t||"radar"===t,r=e.globals.dom.Paper.node,n=this.getElGrid();n&&(this.seriesBound=n.getBoundingClientRect());var o,l=[],h=[],d={hoverArea:r,elGrid:n,tooltipEl:i,tooltipY:l,tooltipX:h,ttItems:this.ttItems};if(e.globals.axisCharts&&(a?o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):s?o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==t&&"treemap"!==t||(o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),o&&o.length))for(var g=0;g<o.length;g++)l.push(o[g].getAttribute("cy")),h.push(o[g].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||s&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([r],d);else if(s&&!e.globals.comboCharts||a&&this.showOnIntersect)this.addDatapointEventsListeners(d);else if(!e.globals.axisCharts||"heatmap"===t||"treemap"===t){var x=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(x,d)}if(this.showOnIntersect){var C=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");C.length>0&&this.addPathsEventListeners(C,d),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(d)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),i=t.getBoundingClientRect(),s=i.width+10,a=i.height+10,r=this.tConfig.fixed.offsetX,n=this.tConfig.fixed.offsetY,o=this.tConfig.fixed.position.toLowerCase();return o.indexOf("right")>-1&&(r=r+e.globals.svgWidth-s+10),o.indexOf("bottom")>-1&&(n=n+e.globals.svgHeight-a-10),t.style.left=r+"px",t.style.top=n+"px",{x:r,y:n,ttWidth:s,ttHeight:a}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var i=this,s=function(r){var n={paths:e[r],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(o){return e[r].addEventListener(o,i.onSeriesHover.bind(i,n),{capture:!1,passive:!0})})},a=0;a<e.length;a++)s(a)}},{key:"onSeriesHover",value:function(e,t){var i=this,s=Date.now()-this.lastHoverTime;s>=100?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){i.seriesHover(e,t)},100-s))}},{key:"seriesHover",value:function(e,t){var i=this;this.lastHoverTime=Date.now();var s=[],a=this.w;a.config.chart.group&&(s=this.ctx.getGroupedCharts()),a.globals.axisCharts&&(a.globals.minX===-1/0&&a.globals.maxX===1/0||0===a.globals.dataPoints)||(s.length?s.forEach(function(r){var n=i.getElTooltip(r);r.w.globals.minX===i.w.globals.minX&&r.w.globals.maxX===i.w.globals.maxX&&r.w.globals.tooltip.seriesHoverByContext({chartCtx:r,ttCtx:r.w.globals.tooltip,opt:{paths:e.paths,tooltipEl:n,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:r.w.globals.tooltip.ttItems},e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,i=e.ttCtx,s=e.opt,a=e.e,r=t.w,n=this.getElTooltip();n&&(i.tooltipRect={x:0,y:0,ttWidth:n.getBoundingClientRect().width,ttHeight:n.getBoundingClientRect().height},i.e=a,i.tooltipUtil.hasBars()&&!r.globals.comboCharts&&!i.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new _(t).toggleSeriesOnHover(a,a.target.parentNode),i.fixedTooltip&&i.drawFixedTooltipRect(),r.globals.axisCharts?i.axisChartsTooltips({e:a,opt:s,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:a,opt:s,tooltipRect:i.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,i,s=e.e,a=e.opt,r=this.w,n=a.elGrid.getBoundingClientRect(),o="touchmove"===s.type?s.touches[0].clientX:s.clientX,l="touchmove"===s.type?s.touches[0].clientY:s.clientY;if(this.clientY=l,this.clientX=o,r.globals.capturedSeriesIndex=-1,r.globals.capturedDataPointIndex=-1,l<n.top||l>n.top+n.height)this.handleMouseOut(a);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!r.config.tooltip.shared){var h=parseInt(a.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(h)<0)return void this.handleMouseOut(a)}var d=this.getElTooltip(),g=this.getElXCrosshairs(),x=r.globals.xyCharts||"bar"===r.config.chart.type&&!r.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||r.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===s.type||"touchmove"===s.type||"mouseup"===s.type){if(r.globals.collapsedSeries.length+r.globals.ancillaryCollapsedSeries.length===r.globals.series.length)return;null!==g&&g.classList.add("apexcharts-active");var C=this.yaxisTooltips.filter(function(U){return!0===U});if(null!==this.ycrosshairs&&C.length&&this.ycrosshairs.classList.add("apexcharts-active"),x&&!this.showOnIntersect)this.handleStickyTooltip(s,o,l,a);else if("heatmap"===r.config.chart.type||"treemap"===r.config.chart.type){var S=this.intersect.handleHeatTreeTooltip({e:s,opt:a,x:t,y:i,type:r.config.chart.type});i=S.y,d.style.left=(t=S.x)+"px",d.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:s,opt:a}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:s,opt:a,x:t,y:i});if(this.yaxisTooltips.length)for(var I=0;I<r.config.yaxis.length;I++)this.axesTooltip.drawYaxisTooltipText(I,l,this.xyRatios);a.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==s.type&&"touchend"!==s.type||this.handleMouseOut(a)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,i=e.opt,s=e.tooltipRect,a=this.w,r=i.paths.getAttribute("rel"),n=this.getElTooltip(),o=a.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===t.type||"touchmove"===t.type){n.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(r,10)-1,shared:!1});var h=a.globals.clientY-o.top-s.ttHeight-10;if(n.style.left=a.globals.clientX-o.left-s.ttWidth/2+"px",n.style.top=h+"px",a.config.legend.tooltipHoverFormatter){var d=r-1,g=(0,a.config.legend.tooltipHoverFormatter)(this.legendLabels[d].getAttribute("data:default-text"),{seriesIndex:d,dataPointIndex:d,w:a});this.legendLabels[d].innerHTML=g}}else"mouseout"!==t.type&&"touchend"!==t.type||(n.classList.remove("apexcharts-active"),a.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(x){var C=x.getAttribute("data:default-text");x.innerHTML=decodeURIComponent(C)}))}},{key:"handleStickyTooltip",value:function(e,t,i,s){var a=this.w,r=this.tooltipUtil.getNearestValues({context:this,hoverArea:s.hoverArea,elGrid:s.elGrid,clientX:t,clientY:i}),n=r.j,o=r.capturedSeries,l=s.elGrid.getBoundingClientRect();r.hoverX<0||r.hoverX>l.width?this.handleMouseOut(s):null!==o?this.handleStickyCapturedSeries(e,o,s,n):(this.tooltipUtil.isXoverlap(n)||a.globals.isBarHorizontal)&&this.create(e,this,0,n,s.ttItems)}},{key:"handleStickyCapturedSeries",value:function(e,t,i,s){var a=this.w;this.tConfig.shared||null!==a.globals.series[t][s]?void 0!==a.globals.series[t][s]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(s)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,s,i.ttItems):this.create(e,this,t,s,i.ttItems,!1):this.tooltipUtil.isXoverlap(s)&&this.create(e,this,0,s,i.ttItems):this.handleMouseOut(i)}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new T(this.ctx),i=e.globals.dom.Paper.select(".apexcharts-bar-area"),s=0;s<i.length;s++)t.pathMouseLeave(i[s])}},{key:"handleMouseOut",value:function(e){var t=this.w,i=this.getElXCrosshairs();if(e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==t.config.chart.type&&this.marker.resetPointsSize(),null!==i&&i.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var s=0;s<this.yaxisTTEls.length;s++)this.yaxisTTEls[s].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(a){var r=a.getAttribute("data:default-text");a.innerHTML=decodeURIComponent(r)})}},{key:"markerClick",value:function(e,t,i){var s=this.w;"function"==typeof s.config.chart.events.markerClick&&s.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:i,w:s}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:i,w:s}])}},{key:"create",value:function(e,t,i,s,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,n=this.w,o=t;"mouseup"===e.type&&this.markerClick(e,i,s),null===r&&(r=this.tConfig.shared);var l=this.tooltipUtil.hasMarkers(),h=this.tooltipUtil.getElBars();if(n.config.legend.tooltipHoverFormatter){var d=n.config.legend.tooltipHoverFormatter,g=Array.from(this.legendLabels);g.forEach(function(f){var M=f.getAttribute("data:default-text");f.innerHTML=decodeURIComponent(M)});for(var x=0;x<g.length;x++){var C=g[x],S=parseInt(C.getAttribute("i"),10),I=decodeURIComponent(C.getAttribute("data:default-text")),U=d(I,{seriesIndex:r?S:i,dataPointIndex:s,w:n});if(r)C.innerHTML=n.globals.collapsedSeriesIndices.indexOf(S)<0?U:I;else if(C.innerHTML=S===i?U:I,i===S)break}}if(r){if(o.tooltipLabels.drawSeriesTexts({ttItems:a,i,j:s,shared:!this.showOnIntersect&&this.tConfig.shared}),l&&(n.globals.markers.largestSize>0?o.marker.enlargePoints(s):o.tooltipPosition.moveDynamicPointsOnHover(s)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(h),this.barSeriesHeight>0)){var Q=new T(this.ctx),se=n.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(s,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(s);for(var c=0;c<se.length;c++)Q.pathMouseEnter(se[c])}}else o.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:a,i,j:s}),this.tooltipUtil.hasBars()&&o.tooltipPosition.moveStickyTooltipOverBars(s),l&&o.tooltipPosition.moveMarkers(i,s)}}]),W}(),ct=function(W){b(t,D);var e=O(t);function t(){return ue(this,t),e.apply(this,arguments)}return u(t,[{key:"draw",value:function(i,s){var a=this,r=this.w;this.graphics=new T(this.ctx),this.bar=new D(this.ctx,this.xyRatios);var n=new F(this.ctx,r);i=n.getLogSeries(i),this.yRatio=n.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i),"100%"===r.config.chart.stackType&&(i=r.globals.seriesPercent.slice()),this.series=i,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var o=0;o<i.length;o++)i[o].length>0&&(this.totalItems+=i[o].length);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),h=0,d=0,g=function(S,I){var U=void 0,Q=void 0,se=void 0,c=void 0,f=[],M=[],X=r.globals.comboCharts?s[S]:S;a.yRatio.length>1&&(a.yaxisIndex=X),a.isReversed=r.config.yaxis[a.yaxisIndex]&&r.config.yaxis[a.yaxisIndex].reversed;var me=a.graphics.group({class:"apexcharts-series",seriesName:w.escapeString(r.globals.seriesNames[X]),rel:S+1,"data:realIndex":X});a.ctx.series.addCollapsedClassToSeries(me,X);var Le=a.graphics.group({class:"apexcharts-datalabels","data:realIndex":X}),we=0,Be=0,ze=a.initialPositions(h,d,U,Q,se,c);d=ze.y,we=ze.barHeight,Q=ze.yDivision,c=ze.zeroW,h=ze.x,Be=ze.barWidth,U=ze.xDivision,se=ze.zeroH,a.yArrj=[],a.yArrjF=[],a.yArrjVal=[],a.xArrj=[],a.xArrjF=[],a.xArrjVal=[],1===a.prevY.length&&a.prevY[0].every(function(pt){return isNaN(pt)})&&(a.prevY[0]=a.prevY[0].map(function(pt){return se}),a.prevYF[0]=a.prevYF[0].map(function(pt){return 0}));for(var Ve=0;Ve<r.globals.dataPoints;Ve++){var je=a.barHelpers.getStrokeWidth(S,Ve,X),it={indexes:{i:S,j:Ve,realIndex:X,bc:I},strokeWidth:je,x:h,y:d,elSeries:me},Ke=null;a.isHorizontal?(Ke=a.drawStackedBarPaths(p(p({},it),{},{zeroW:c,barHeight:we,yDivision:Q})),Be=a.series[S][Ve]/a.invertedYRatio):(Ke=a.drawStackedColumnPaths(p(p({},it),{},{xDivision:U,barWidth:Be,zeroH:se})),we=a.series[S][Ve]/a.yRatio[a.yaxisIndex]),d=Ke.y,f.push(h=Ke.x),M.push(d);var ht=a.barHelpers.getPathFillColor(i,S,Ve,X);me=a.renderSeries({realIndex:X,pathFill:ht,j:Ve,i:S,pathFrom:Ke.pathFrom,pathTo:Ke.pathTo,strokeWidth:je,elSeries:me,x:h,y:d,series:i,barHeight:we,barWidth:Be,elDataLabelsWrap:Le,type:"bar",visibleSeries:0})}r.globals.seriesXvalues[X]=f,r.globals.seriesYvalues[X]=M,a.prevY.push(a.yArrj),a.prevYF.push(a.yArrjF),a.prevYVal.push(a.yArrjVal),a.prevX.push(a.xArrj),a.prevXF.push(a.xArrjF),a.prevXVal.push(a.xArrjVal),l.add(me)},x=0,C=0;x<i.length;x++,C++)g(x,C);return l}},{key:"initialPositions",value:function(i,s,a,r,n,o){var l,h,d=this.w;return this.isHorizontal?(l=(l=r=d.globals.gridHeight/d.globals.dataPoints)*parseInt(d.config.plotOptions.bar.barHeight,10)/100,o=this.baseLineInvertedY+d.globals.padHorizontal+(this.isReversed?d.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),s=(r-l)/2):(h=a=d.globals.gridWidth/d.globals.dataPoints,h=d.globals.isXNumeric&&d.globals.dataPoints>1?(a=d.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:h*parseInt(d.config.plotOptions.bar.columnWidth,10)/100,n=this.baseLineY[this.yaxisIndex]+(this.isReversed?d.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),i=d.globals.padHorizontal+(a-h)/2),{x:i,y:s,yDivision:r,xDivision:a,barHeight:l,barWidth:h,zeroH:n,zeroW:o}}},{key:"drawStackedBarPaths",value:function(i){for(var s,l,a=i.indexes,r=i.barHeight,n=i.strokeWidth,o=i.zeroW,h=i.y,d=i.yDivision,g=i.elSeries,x=this.w,C=h,S=a.i,I=a.j,U=0,Q=0;Q<this.prevXF.length;Q++)U+=this.prevXF[Q][I];if(S>0){var se=o;this.prevXVal[S-1][I]<0?se=this.series[S][I]>=0?this.prevX[S-1][I]+U-2*(this.isReversed?U:0):this.prevX[S-1][I]:this.prevXVal[S-1][I]>=0&&(se=this.series[S][I]>=0?this.prevX[S-1][I]:this.prevX[S-1][I]-U+2*(this.isReversed?U:0)),s=se}else s=o;var c=this.barHelpers.getBarpaths({barYPosition:C,barHeight:r,x1:s,x2:l=null===this.series[S][I]?s:s+this.series[S][I]/this.invertedYRatio-2*(this.isReversed?this.series[S][I]/this.invertedYRatio:0),strokeWidth:n,series:this.series,realIndex:a.realIndex,i:S,j:I,w:x});return this.barHelpers.barBackground({j:I,i:S,y1:C,y2:r,elSeries:g}),{pathTo:c.pathTo,pathFrom:c.pathFrom,x:l,y:h+=d}}},{key:"drawStackedColumnPaths",value:function(i){var r,s=i.indexes,a=i.x,n=i.xDivision,o=i.barWidth,l=i.zeroH,h=i.elSeries,d=this.w,g=s.i,x=s.j,C=s.bc;if(d.globals.isXNumeric){var S=d.globals.seriesX[g][x];S||(S=0),a=(S-d.globals.minX)/this.xRatio-o/2}for(var I,U=a,Q=0,se=0;se<this.prevYF.length;se++)Q+=isNaN(this.prevYF[se][x])?0:this.prevYF[se][x];if(g>0&&!d.globals.isXNumeric||g>0&&d.globals.isXNumeric&&d.globals.seriesX[g-1][x]===d.globals.seriesX[g][x]){var c,f,M=Math.min(this.yRatio.length+1,g+1);if(void 0!==this.prevY[g-1])for(var X=1;X<M;X++)if(!isNaN(this.prevY[g-X][x])){f=this.prevY[g-X][x];break}for(var me=1;me<M;me++){if(this.prevYVal[g-me][x]<0){c=this.series[g][x]>=0?f-Q+2*(this.isReversed?Q:0):f;break}if(this.prevYVal[g-me][x]>=0){c=this.series[g][x]>=0?f:f+Q-2*(this.isReversed?Q:0);break}}void 0===c&&(c=d.globals.gridHeight),I=this.prevYF[0].every(function(we){return 0===we})&&this.prevYF.slice(1,g).every(function(we){return we.every(function(Be){return isNaN(Be)})})?d.globals.gridHeight-l:c}else I=d.globals.gridHeight-l;var Le=this.barHelpers.getColumnPaths({barXPosition:U,barWidth:o,y1:I,y2:r=I-this.series[g][x]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[g][x]/this.yRatio[this.yaxisIndex]:0),yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:s.realIndex,i:g,j:x,w:d});return this.barHelpers.barBackground({bc:C,j:x,i:g,x1:U,x2:o,elSeries:h}),a+=n,{pathTo:Le.pathTo,pathFrom:Le.pathFrom,x:d.globals.isXNumeric?a-n:a,y:r}}}]),t}(),ut=function(W){b(t,D);var e=O(t);function t(){return ue(this,t),e.apply(this,arguments)}return u(t,[{key:"draw",value:function(i,s){var a=this,r=this.w,n=new T(this.ctx),o=new pe(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=r.config.plotOptions.bar.horizontal;var l=new F(this.ctx,r);i=l.getLogSeries(i),this.series=i,this.yRatio=l.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);for(var h=n.group({class:"apexcharts-".concat(r.config.chart.type,"-series apexcharts-plot-series")}),d=function(x){a.isBoxPlot="boxPlot"===r.config.chart.type||"boxPlot"===r.config.series[x].type;var C,S,I,U,me,Le,Q=void 0,se=void 0,c=[],f=[],M=r.globals.comboCharts?s[x]:x,X=n.group({class:"apexcharts-series",seriesName:w.escapeString(r.globals.seriesNames[M]),rel:x+1,"data:realIndex":M});a.ctx.series.addCollapsedClassToSeries(X,M),i[x].length>0&&(a.visibleI=a.visibleI+1),a.yRatio.length>1&&(a.yaxisIndex=M);var we=a.barHelpers.initialPositions();se=we.y,me=we.barHeight,S=we.yDivision,U=we.zeroW,C=we.xDivision,I=we.zeroH,f.push((Q=we.x)+(Le=we.barWidth)/2);for(var Be=n.group({class:"apexcharts-datalabels","data:realIndex":M}),ze=function(je){var it=a.barHelpers.getStrokeWidth(x,je,M),Ke=null,ht={indexes:{i:x,j:je,realIndex:M},x:Q,y:se,strokeWidth:it,elSeries:X};Ke=a.isHorizontal?a.drawHorizontalBoxPaths(p(p({},ht),{},{yDivision:S,barHeight:me,zeroW:U})):a.drawVerticalBoxPaths(p(p({},ht),{},{xDivision:C,barWidth:Le,zeroH:I})),se=Ke.y,Q=Ke.x,je>0&&f.push(Q+Le/2),c.push(se),Ke.pathTo.forEach(function(pt,vt){var At=!a.isBoxPlot&&a.candlestickOptions.wick.useFillColor?Ke.color[vt]:r.globals.stroke.colors[x],kt=o.fillPath({seriesNumber:M,dataPointIndex:je,color:Ke.color[vt],value:i[x][je]});a.renderSeries({realIndex:M,pathFill:kt,lineFill:At,j:je,i:x,pathFrom:Ke.pathFrom,pathTo:pt,strokeWidth:it,elSeries:X,x:Q,y:se,series:i,barHeight:me,barWidth:Le,elDataLabelsWrap:Be,visibleSeries:a.visibleI,type:r.config.chart.type})})},Ve=0;Ve<r.globals.dataPoints;Ve++)ze(Ve);r.globals.seriesXvalues[M]=f,r.globals.seriesYvalues[M]=c,h.add(X)},g=0;g<i.length;g++)d(g);return h}},{key:"drawVerticalBoxPaths",value:function(i){var s=i.indexes,a=i.x,r=i.xDivision,n=i.barWidth,o=i.zeroH,l=i.strokeWidth,h=this.w,d=new T(this.ctx),g=s.i,x=s.j,C=!0,S=h.config.plotOptions.candlestick.colors.upward,I=h.config.plotOptions.candlestick.colors.downward,U="";this.isBoxPlot&&(U=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Q=this.yRatio[this.yaxisIndex],se=s.realIndex,c=this.getOHLCValue(se,x),f=o,M=o;c.o>c.c&&(C=!1);var X=Math.min(c.o,c.c),me=Math.max(c.o,c.c),Le=c.m;h.globals.isXNumeric&&(a=(h.globals.seriesX[se][x]-h.globals.minX)/this.xRatio-n/2);var we=a+n*this.visibleI;null==this.series[g][x]?(X=o,me=o):(X=o-X/Q,me=o-me/Q,f=o-c.h/Q,M=o-c.l/Q,Le=o-c.m/Q);var Be=d.move(we,o),ze=d.move(we+n/2,X);return h.globals.previousPaths.length>0&&(ze=this.getPreviousPath(se,x,!0)),Be=this.isBoxPlot?[d.move(we,X)+d.line(we+n/2,X)+d.line(we+n/2,f)+d.line(we+n/4,f)+d.line(we+n-n/4,f)+d.line(we+n/2,f)+d.line(we+n/2,X)+d.line(we+n,X)+d.line(we+n,Le)+d.line(we,Le)+d.line(we,X+l/2),d.move(we,Le)+d.line(we+n,Le)+d.line(we+n,me)+d.line(we+n/2,me)+d.line(we+n/2,M)+d.line(we+n-n/4,M)+d.line(we+n/4,M)+d.line(we+n/2,M)+d.line(we+n/2,me)+d.line(we,me)+d.line(we,Le)+"z"]:[d.move(we,me)+d.line(we+n/2,me)+d.line(we+n/2,f)+d.line(we+n/2,me)+d.line(we+n,me)+d.line(we+n,X)+d.line(we+n/2,X)+d.line(we+n/2,M)+d.line(we+n/2,X)+d.line(we,X)+d.line(we,me-l/2)],ze+=d.move(we,X),h.globals.isXNumeric||(a+=r),{pathTo:Be,pathFrom:ze,x:a,y:me,barXPosition:we,color:this.isBoxPlot?U:C?[S]:[I]}}},{key:"drawHorizontalBoxPaths",value:function(i){var s=i.indexes,a=i.y,r=i.yDivision,n=i.barHeight,o=i.zeroW,l=i.strokeWidth,h=this.w,d=new T(this.ctx),g=s.i,x=s.j,C=this.boxOptions.colors.lower;this.isBoxPlot&&(C=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var S=this.invertedYRatio,I=s.realIndex,U=this.getOHLCValue(I,x),Q=o,se=o,c=Math.min(U.o,U.c),f=Math.max(U.o,U.c),M=U.m;h.globals.isXNumeric&&(a=(h.globals.seriesX[I][x]-h.globals.minX)/this.invertedXRatio-n/2);var X=a+n*this.visibleI;null==this.series[g][x]?(c=o,f=o):(c=o+c/S,f=o+f/S,Q=o+U.h/S,se=o+U.l/S,M=o+U.m/S);var me=d.move(o,X),Le=d.move(c,X+n/2);return h.globals.previousPaths.length>0&&(Le=this.getPreviousPath(I,x,!0)),me=[d.move(c,X)+d.line(c,X+n/2)+d.line(Q,X+n/2)+d.line(Q,X+n/2-n/4)+d.line(Q,X+n/2+n/4)+d.line(Q,X+n/2)+d.line(c,X+n/2)+d.line(c,X+n)+d.line(M,X+n)+d.line(M,X)+d.line(c+l/2,X),d.move(M,X)+d.line(M,X+n)+d.line(f,X+n)+d.line(f,X+n/2)+d.line(se,X+n/2)+d.line(se,X+n-n/4)+d.line(se,X+n/4)+d.line(se,X+n/2)+d.line(f,X+n/2)+d.line(f,X)+d.line(M,X)+"z"],Le+=d.move(c,X),h.globals.isXNumeric||(a+=r),{pathTo:me,pathFrom:Le,x:f,y:a,barYPosition:X,color:C}}},{key:"getOHLCValue",value:function(i,s){var a=this.w;return{o:this.isBoxPlot?a.globals.seriesCandleH[i][s]:a.globals.seriesCandleO[i][s],h:this.isBoxPlot?a.globals.seriesCandleO[i][s]:a.globals.seriesCandleH[i][s],m:a.globals.seriesCandleM[i][s],l:this.isBoxPlot?a.globals.seriesCandleC[i][s]:a.globals.seriesCandleL[i][s],c:this.isBoxPlot?a.globals.seriesCandleL[i][s]:a.globals.seriesCandleC[i][s]}}}]),t}(),gt=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,i=e.config.plotOptions[e.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map(function(s,a){s.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,i,s){var a=this.w,r=1,n=a.config.plotOptions[e].shadeIntensity,o=this.determineColor(e,t,i);a.globals.hasNegs||s?r=a.config.plotOptions[e].reverseNegativeShade?o.percent<0?o.percent/100*(1.25*n):1.25*n*(1-o.percent/100):o.percent<=0?1-(1+o.percent/100)*n:(1-o.percent/100)*n:(r=1-o.percent/100,"treemap"===e&&(r=1.25*n*(1-o.percent/100)));var l=o.color,h=new w;return a.config.plotOptions[e].enableShades&&(l=w.hexToRgba(h.shadeColor("dark"===this.w.config.theme.mode?-1*r:r,o.color),a.config.fill.opacity)),{color:l,colorProps:o}}},{key:"determineColor",value:function(e,t,i){var s=this.w,a=s.globals.series[t][i],r=s.config.plotOptions[e],n=r.colorScale.inverse?i:t;r.distributed&&"treemap"===s.config.chart.type&&(n=i);var o=s.globals.colors[n],l=null,h=Math.min.apply(Math,G(s.globals.series[t])),d=Math.max.apply(Math,G(s.globals.series[t]));r.distributed||"heatmap"!==e||(h=s.globals.minY,d=s.globals.maxY),void 0!==r.colorScale.min&&(h=r.colorScale.min<s.globals.minY?r.colorScale.min:s.globals.minY,d=r.colorScale.max>s.globals.maxY?r.colorScale.max:s.globals.maxY);var g=Math.abs(d)+Math.abs(h),x=100*a/(0===g?g-1e-6:g);return r.colorScale.ranges.length>0&&r.colorScale.ranges.map(function(C,S){if(a>=C.from&&a<=C.to){o=C.color,l=C.foreColor?C.foreColor:null,h=C.from,d=C.to;var I=Math.abs(d)+Math.abs(h);x=100*a/(0===I?I-1e-6:I)}}),{color:o,foreColor:l,percent:x}}},{key:"calculateDataLabels",value:function(e){var t=e.text,i=e.x,s=e.y,a=e.i,r=e.j,n=e.colorProps,o=e.fontSize,l=this.w.config.dataLabels,h=new T(this.ctx),d=new V(this.ctx),g=null;if(l.enabled){g=h.group({class:"apexcharts-data-labels"});var C=l.offsetY,S=i+l.offsetX,I=s+parseFloat(l.style.fontSize)/3+C;d.plotDataLabelsText({x:S,y:I,text:t,i:a,j:r,color:n.foreColor,parent:g,fontSize:o,dataLabelsConfig:l})}return g}},{key:"addListeners",value:function(e){var t=new T(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),W}(),lt=function(){function W(e,t){ue(this,W),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new gt(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return u(W,[{key:"draw",value:function(e){var t=this.w,i=new T(this.ctx),s=i.group({class:"apexcharts-heatmap"});s.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var a=t.globals.gridWidth/t.globals.dataPoints,r=t.globals.gridHeight/t.globals.series.length,n=0,o=!1;this.negRange=this.helpers.checkColorRange();var l=e.slice();t.config.yaxis[0].reversed&&(o=!0,l.reverse());for(var h=o?0:l.length-1;o?h<l.length:h>=0;o?h++:h--){var d=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:w.escapeString(t.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});if(this.ctx.series.addCollapsedClassToSeries(d,h),t.config.chart.dropShadow.enabled){var g=t.config.chart.dropShadow;new v(this.ctx).dropShadow(d,g,h)}for(var x=0,C=t.config.plotOptions.heatmap.shadeIntensity,S=0;S<l[h].length;S++){var I=this.helpers.getShadeColor(t.config.chart.type,h,S,this.negRange),U=I.color,Q=I.colorProps;"image"===t.config.fill.type&&(U=new pe(this.ctx).fillPath({seriesNumber:h,dataPointIndex:S,opacity:t.globals.hasNegs?Q.percent<0?1-(1+Q.percent/100):C+Q.percent/100:Q.percent/100,patternID:w.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:a,height:t.config.fill.image.height?t.config.fill.image.height:r}));var c=i.drawRect(x,n,a,r,this.rectRadius);if(c.attr({cx:x,cy:n}),c.node.classList.add("apexcharts-heatmap-rect"),d.add(c),c.attr({fill:U,i:h,index:h,j:S,val:l[h][S],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?U:t.globals.stroke.colors[0],color:U}),this.helpers.addListeners(c),t.config.chart.animations.enabled&&!t.globals.dataChanged){var f=1;t.globals.resized||(f=t.config.chart.animations.speed),this.animateHeatMap(c,x,n,a,r,f)}if(t.globals.dataChanged){var M=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){M=this.dynamicAnim.speed;var X=t.globals.previousPaths[h]&&t.globals.previousPaths[h][S]&&t.globals.previousPaths[h][S].color;X||(X="rgba(255, 255, 255, 0)"),this.animateHeatColor(c,w.isColorHex(X)?X:w.rgb2hex(X),w.isColorHex(U)?U:w.rgb2hex(U),M)}}var me=(0,t.config.dataLabels.formatter)(t.globals.series[h][S],{value:t.globals.series[h][S],seriesIndex:h,dataPointIndex:S,w:t}),Le=this.helpers.calculateDataLabels({text:me,x:x+a/2,y:n+r/2,i:h,j:S,colorProps:Q,series:l});null!==Le&&d.add(Le),x+=a}n+=r,s.add(d)}var we=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?we.unshift(""):we.push(""),t.globals.yAxisScale[0].result=we,t.config.yaxis[0].labels.offsetY=-t.globals.gridHeight/t.globals.series.length/2,s}},{key:"animateHeatMap",value:function(e,t,i,s,a,r){var n=new m(this.ctx);n.animateRect(e,{x:t+s/2,y:i+a/2,width:0,height:0},{x:t,y:i,width:s,height:a},r,function(){n.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,i,s){e.attr({fill:t}).animate(s).attr({fill:i})}}]),W}(),bt=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"drawYAxisTexts",value:function(e,t,i,s){var a=this.w,r=a.config.yaxis[0],n=a.globals.yLabelFormatters[0];return new T(this.ctx).drawText({x:e+r.labels.offsetX,y:t+r.labels.offsetY,text:n(s,i),textAnchor:"middle",fontSize:r.labels.style.fontSize,fontFamily:r.labels.style.fontFamily,foreColor:Array.isArray(r.labels.style.colors)?r.labels.style.colors[i]:r.labels.style.colors})}}]),W}(),xt=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==t.globals.stroke.colors?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,this.fullAngle="radialBar"===t.config.chart.type?360:Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return u(W,[{key:"draw",value:function(e){var t=this,i=this.w,s=new T(this.ctx);if(this.ret=s.group({class:"apexcharts-pie"}),i.globals.noData)return this.ret;for(var a=0,r=0;r<e.length;r++)a+=w.negToZero(e[r]);var n=[],o=s.group();0===a&&(a=1e-5),e.forEach(function(X){t.maxY=Math.max(t.maxY,X)}),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),"back"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<e.length;l++){var h=this.fullAngle*w.negToZero(e[l])/a;n.push(h),"polarArea"===this.chartType?(n[l]=this.fullAngle/e.length,this.sliceSizes.push(i.globals.radialSize*e[l]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var d,g=0,x=0;x<i.globals.previousPaths.length;x++)g+=w.negToZero(i.globals.previousPaths[x]);for(var C=0;C<i.globals.previousPaths.length;C++)d=this.fullAngle*w.negToZero(i.globals.previousPaths[C])/g,this.prevSectorAngleArr.push(d)}this.donutSize<0&&(this.donutSize=0);var S=i.config.plotOptions.pie.customScale,Q=i.globals.gridWidth/2-i.globals.gridWidth/2*S,se=i.globals.gridHeight/2-i.globals.gridHeight/2*S;if("donut"===this.chartType){var c=s.drawCircle(this.donutSize);c.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),o.add(c)}var f=this.drawArcs(n,e);if(this.sliceLabels.forEach(function(X){f.add(X)}),o.attr({transform:"translate(".concat(Q,", ").concat(se,") scale(").concat(S,")")}),o.add(f),this.ret.add(o),this.donutDataLabels.show){var M=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:Q,translateY:se});this.ret.add(M)}return"front"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(e,t){var i=this.w,s=new v(this.ctx),a=new T(this.ctx),r=new pe(this.ctx),n=a.group({class:"apexcharts-slices"}),o=this.initialAngle,l=this.initialAngle,h=this.initialAngle,d=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var g=0;g<e.length;g++){var x=a.group({class:"apexcharts-series apexcharts-pie-series",seriesName:w.escapeString(i.globals.seriesNames[g]),rel:g+1,"data:realIndex":g});n.add(x),h=(o=h)+e[g],d=(l=d)+this.prevSectorAngleArr[g];var C=h<o?this.fullAngle+h-o:h-o,S=r.fillPath({seriesNumber:g,size:this.sliceSizes[g],value:t[g]}),I=this.getChangedPath(l,d),U=a.drawPath({d:I,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[g]:this.lineColorArr,strokeWidth:0,fill:S,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(g)});U.attr({index:0,j:g}),s.setSelectionFilter(U,0,g),i.config.chart.dropShadow.enabled&&s.dropShadow(U,i.config.chart.dropShadow,g),this.addListeners(U,this.donutDataLabels),T.setAttrs(U.node,{"data:angle":C,"data:startAngle":o,"data:strokeWidth":this.strokeWidth,"data:value":t[g]});var se={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?se=w.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(o+C/2)%this.fullAngle):"donut"===this.chartType&&(se=w.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(o+C/2)%this.fullAngle)),x.add(U);var c=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):(0==(c=C/this.fullAngle*i.config.chart.animations.speed)&&(c=1),this.animDur=c+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(U,this.dynamicAnim&&i.globals.dataChanged?{size:this.sliceSizes[g],endAngle:h,startAngle:o,prevStartAngle:l,prevEndAngle:d,animateStartingPos:!0,i:g,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[g],endAngle:h,startAngle:o,i:g,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:c}),i.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&U.click(this.pieClicked.bind(this,g)),void 0!==i.globals.selectedDataPoints[0]&&i.globals.selectedDataPoints[0].indexOf(g)>-1&&this.pieClicked(g),i.config.dataLabels.enabled){var f=se.x,M=se.y,X=100*C/this.fullAngle+"%";if(0!==C&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[g]){var me=i.config.dataLabels.formatter;void 0!==me&&(X=me(i.globals.seriesPercent[g][0],{seriesIndex:g,w:i}));var Le=i.globals.dataLabels.style.colors[g],we=a.group({class:"apexcharts-datalabels"}),Be=a.drawText({x:f,y:M,text:X,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:Le});we.add(Be),i.config.dataLabels.dropShadow.enabled&&s.dropShadow(Be,i.config.dataLabels.dropShadow),Be.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&!1===i.globals.resized&&(Be.node.classList.add("apexcharts-pie-label-delay"),Be.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(we)}}}return n}},{key:"addListeners",value:function(e,t){var i=new T(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var s=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,a=s,r=t.startAngle,n=t.startAngle;void 0!==t.prevStartAngle&&void 0!==t.prevEndAngle&&(r=t.prevEndAngle,a=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===this.w.config.series.length-1&&(s+n>this.fullAngle?t.endAngle=t.endAngle-(s+n):s+n<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(s+n)))),s===this.fullAngle&&(s=this.fullAngle-.01),this.animateArc(e,r,n,s,a,t)}},{key:"animateArc",value:function(e,t,i,s,a,r){var n,o=this,l=this.w,h=new m(this.ctx),d=r.size;(isNaN(t)||isNaN(a))&&(t=i,a=s,r.dur=0);var g=s,x=i,C=t<i?this.fullAngle+t-i:t-i;l.globals.dataChanged&&r.shouldSetPrevPaths&&r.prevEndAngle&&(n=o.getPiePath({me:o,startAngle:r.prevStartAngle,angle:r.prevEndAngle<r.prevStartAngle?this.fullAngle+r.prevEndAngle-r.prevStartAngle:r.prevEndAngle-r.prevStartAngle,size:d}),e.attr({d:n})),0!==r.dur?e.animate(r.dur,l.globals.easing,r.animBeginArr[r.i]).afterAll(function(){"pie"!==o.chartType&&"donut"!==o.chartType&&"polarArea"!==o.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":o.strokeWidth}),r.i===l.config.series.length-1&&h.animationCompleted(e)}).during(function(S){g=C+(s-C)*S,r.animateStartingPos&&(g=a+(s-a)*S,x=t-a+(i-(t-a))*S),n=o.getPiePath({me:o,startAngle:x,angle:g,size:d}),e.node.setAttribute("data:pathOrig",n),e.attr({d:n})}):(n=o.getPiePath({me:o,startAngle:x,angle:s,size:d}),r.isTrack||(l.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",n),e.attr({d:n,"stroke-width":o.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,i=this.w,s=this,a=s.sliceSizes[e]+(i.config.plotOptions.pie.expandOnClick?4:0),r=i.globals.dom.Paper.select(".apexcharts-".concat(s.chartType.toLowerCase(),"-slice-").concat(e)).members[0];if("true"!==r.attr("data:pieClicked")){var n=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(n,function(d){d.setAttribute("data:pieClicked","false");var g=d.getAttribute("data:pathOrig");d.setAttribute("d",g)}),r.attr("data:pieClicked","true");var o=parseInt(r.attr("data:startAngle"),10),l=parseInt(r.attr("data:angle"),10);t=s.getPiePath({me:s,startAngle:o,angle:l,size:a}),360!==l&&r.plot(t)}else{r.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(r.node,this.donutDataLabels);var h=r.attr("data:pathOrig");r.attr({d:h})}}},{key:"getChangedPath",value:function(e,t){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),i}},{key:"getPiePath",value:function(e){var t=e.me,i=e.startAngle,s=e.angle,a=e.size,r=i,n=Math.PI*(r-90)/180,o=s+i;Math.ceil(o)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(o=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(o)>this.fullAngle&&(o-=this.fullAngle);var l=Math.PI*(o-90)/180,h=t.centerX+a*Math.cos(n),d=t.centerY+a*Math.sin(n),g=t.centerX+a*Math.cos(l),x=t.centerY+a*Math.sin(l),C=w.polarToCartesian(t.centerX,t.centerY,t.donutSize,o),S=w.polarToCartesian(t.centerX,t.centerY,t.donutSize,r),I=s>180?1:0,U=["M",h,d,"A",a,a,0,I,1,g,x];return"donut"===t.chartType?[].concat(U,["L",C.x,C.y,"A",t.donutSize,t.donutSize,0,I,0,S.x,S.y,"L",h,d,"z"]).join(" "):"pie"===t.chartType||"polarArea"===t.chartType?[].concat(U,["L",t.centerX,t.centerY,"L",h,d]).join(" "):[].concat(U).join(" ")}},{key:"drawPolarElements",value:function(e){var t=this.w,i=new Fe(this.ctx),s=new T(this.ctx),a=new bt(this.ctx),r=s.group(),n=s.group(),o=i.niceScale(0,Math.ceil(this.maxY),t.config.yaxis[0].tickAmount,0,!0),l=o.result.reverse(),h=o.result.length;this.maxY=o.niceMax;for(var d=t.globals.radialSize,g=d/(h-1),x=0;x<h-1;x++){var C=s.drawCircle(d);if(C.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var S=a.drawYAxisTexts(this.centerX,this.centerY-d+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,x,l[x]);n.add(S)}r.add(C),d-=g}this.drawSpokes(e),e.add(r),e.add(n)}},{key:"renderInnerDataLabels",value:function(e,t){var i=this.w,s=new T(this.ctx),a=s.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(t.translateX?t.translateX:0,", ").concat(t.translateY?t.translateY:0,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),r=e.total.show;a.node.style.opacity=t.opacity;var n,o,l=t.centerX,h=t.centerY;n=void 0===e.name.color?i.globals.colors[0]:e.name.color;var d=e.name.fontSize,g=e.name.fontFamily,x=e.name.fontWeight;o=void 0===e.value.color?i.config.chart.foreColor:e.value.color;var C=e.value.formatter,S="",I="";if(r?(n=e.total.color,d=e.total.fontSize,g=e.total.fontFamily,x=e.total.fontWeight,I=e.total.label,S=e.total.formatter(i)):1===i.globals.series.length&&(S=C(i.globals.series[0],i),I=i.globals.seriesNames[0]),I&&(I=e.name.formatter(I,e.total.show,i)),e.name.show){var U=s.drawText({x:l,y:h+parseFloat(e.name.offsetY),text:I,textAnchor:"middle",foreColor:n,fontSize:d,fontWeight:x,fontFamily:g});U.node.classList.add("apexcharts-datalabel-label"),a.add(U)}if(e.value.show){var Q=e.name.show?parseFloat(e.value.offsetY)+16:e.value.offsetY,se=s.drawText({x:l,y:h+Q,text:S,textAnchor:"middle",foreColor:o,fontWeight:e.value.fontWeight,fontSize:e.value.fontSize,fontFamily:e.value.fontFamily});se.node.classList.add("apexcharts-datalabel-value"),a.add(se)}return a}},{key:"printInnerLabels",value:function(e,t,i,s){var a,r=this.w;s?a=void 0===e.name.color?r.globals.colors[parseInt(s.parentNode.getAttribute("rel"),10)-1]:e.name.color:r.globals.series.length>1&&e.total.show&&(a=e.total.color);var n=r.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),o=r.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,e.value.formatter)(i,r),s||"function"!=typeof e.total.formatter||(i=e.total.formatter(r)),t=e.name.formatter(t,t===e.total.label,r),null!==n&&(n.textContent=t),null!==o&&(o.textContent=i),null!==n&&(n.style.fill=a)}},{key:"printDataLabelsInner",value:function(e,t){var i=this.w,s=e.getAttribute("data:value"),a=i.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(t,a,s,e);var r=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==r&&(r.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,i=this.w,s=new T(this.ctx),a=i.config.plotOptions.polarArea.spokes;if(0!==a.strokeWidth){for(var r=[],n=360/i.globals.series.length,o=0;o<i.globals.series.length;o++)r.push(w.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+n*o));r.forEach(function(l,h){var d=s.drawLine(l.x,l.y,t.centerX,t.centerY,Array.isArray(a.connectorColors)?a.connectorColors[h]:a.connectorColors);e.add(d)})}}},{key:"revertDataLabelsInner",value:function(e,t,i){var s=this,a=this.w,r=a.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),n=!1,o=a.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(g){var x=g.makeSliceOut,C=g.printLabel;Array.prototype.forEach.call(o,function(S){"true"===S.getAttribute("data:pieClicked")&&(x&&(n=!0),C&&s.printDataLabelsInner(S,t))})};if(l({makeSliceOut:!0,printLabel:!1}),t.total.show&&a.globals.series.length>1)n&&!t.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(t,t.total.label,t.total.formatter(a));else if(l({makeSliceOut:!1,printLabel:!0}),!n)if(a.globals.selectedDataPoints.length&&a.globals.series.length>1)if(a.globals.selectedDataPoints[0].length>0){var h=a.globals.selectedDataPoints[0],d=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(h));this.printDataLabelsInner(d,t)}else r&&a.globals.selectedDataPoints.length&&0===a.globals.selectedDataPoints[0].length&&(r.style.opacity=0);else r&&a.globals.series.length>1&&(r.style.opacity=0)}}]),W}(),yt=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new T(this.ctx),this.lineColorArr=void 0!==t.globals.stroke.colors?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight+1.5*t.globals.goldenPadding:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.coreUtils=new F(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),void 0!==t.config.plotOptions.radar.size&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return u(W,[{key:"draw",value:function(e){var t=this,i=this.w,s=new pe(this.ctx),a=[],r=new V(this.ctx);e.length&&(this.dataPointsLen=e[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var h=i.globals.gridHeight/2+i.config.plotOptions.radar.offsetY,d=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(i.globals.gridWidth/2+i.config.plotOptions.radar.offsetX||0,", ").concat(h||0,")")}),g=[],x=null,C=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(I,U){var Q=I.length===i.globals.dataPoints,se=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Q,seriesName:w.escapeString(i.globals.seriesNames[U]),rel:U+1,"data:realIndex":U});t.dataRadiusOfPercent[U]=[],t.dataRadius[U]=[],t.angleArr[U]=[],I.forEach(function(Ve,je){var it=Math.abs(t.maxValue-t.minValue);Ve+=Math.abs(t.minValue),t.isLog&&(Ve=t.coreUtils.getLogVal(Ve,0)),t.dataRadiusOfPercent[U][je]=Ve/it,t.dataRadius[U][je]=t.dataRadiusOfPercent[U][je]*t.size,t.angleArr[U][je]=je*t.disAngle}),g=t.getDataPointsPos(t.dataRadius[U],t.angleArr[U]);var c=t.createPaths(g,{x:0,y:0});x=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),C=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":U}),i.globals.delayedElements.push({el:x.node,index:U});var f={i:U,realIndex:U,animationDelay:U,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[U],strokeLineCap:i.config.stroke.lineCap},M=null;i.globals.previousPaths.length>0&&(M=t.getPreviousPath(U));for(var X=0;X<c.linePathsTo.length;X++){var me=t.graphics.renderPaths(p(p({},f),{},{pathFrom:null===M?c.linePathsFrom[X]:M,pathTo:c.linePathsTo[X],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[U]:t.strokeWidth,fill:"none",drawShadow:!1}));se.add(me);var Le=s.fillPath({seriesNumber:U}),we=t.graphics.renderPaths(p(p({},f),{},{pathFrom:null===M?c.areaPathsFrom[X]:M,pathTo:c.areaPathsTo[X],strokeWidth:0,fill:Le,drawShadow:!1}));i.config.chart.dropShadow.enabled&&new v(t.ctx).dropShadow(we,Object.assign({},i.config.chart.dropShadow,{noUserSpaceOnUse:!0}),U),se.add(we)}I.forEach(function(Ve,je){var it=new ie(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:U,dataPointIndex:je}),Ke=t.graphics.drawMarker(g[je].x,g[je].y,it);Ke.attr("rel",je),Ke.attr("j",je),Ke.attr("index",U),Ke.node.setAttribute("default-marker-size",it.pSize);var ht=t.graphics.group({class:"apexcharts-series-markers"});ht&&ht.add(Ke),x.add(ht),se.add(x);var pt=i.config.dataLabels;if(pt.enabled){var vt=pt.formatter(i.globals.series[U][je],{seriesIndex:U,dataPointIndex:je,w:i});r.plotDataLabelsText({x:g[je].x,y:g[je].y,text:vt,textAnchor:"middle",i:U,j:U,parent:C,offsetCorrection:!1,dataLabelsConfig:p({},pt)})}se.add(C)}),a.push(se)}),this.drawPolygons({parent:d}),i.config.xaxis.labels.show){var S=this.drawXAxisTexts();d.add(S)}return a.forEach(function(I){d.add(I)}),d.add(this.yaxisLabels),d}},{key:"drawPolygons",value:function(e){for(var t=this,i=this.w,s=e.parent,a=new bt(this.ctx),r=i.globals.yAxisScale[0].result.reverse(),n=r.length,o=[],l=this.size/(n-1),h=0;h<n;h++)o[h]=l*h;o.reverse();var d=[],g=[];o.forEach(function(x,C){var S=w.getPolygonPos(x,t.dataPointsLen),I="";S.forEach(function(U,Q){if(0===C){var se=t.graphics.drawLine(U.x,U.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[Q]:t.polygons.connectorColors);g.push(se)}0===Q&&t.yaxisLabelsTextsPos.push({x:U.x,y:U.y}),I+=U.x+","+U.y+" "}),d.push(I)}),d.forEach(function(x,C){var S=t.polygons.strokeColors,I=t.polygons.strokeWidth,U=t.graphics.drawPolygon(x,Array.isArray(S)?S[C]:S,Array.isArray(I)?I[C]:I,i.globals.radarPolygons.fill.colors[C]);s.add(U)}),g.forEach(function(x){s.add(x)}),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(x,C){var S=a.drawYAxisTexts(x.x,x.y,C,r[C]);t.yaxisLabels.add(S)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,i=t.config.xaxis.labels,s=this.graphics.group({class:"apexcharts-xaxis"}),a=w.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(r,n){var o=t.config.xaxis.labels.formatter,l=new V(e.ctx);if(a[n]){var h=e.getTextPos(a[n],e.size),d=o(r,{seriesIndex:-1,dataPointIndex:n,w:t});l.plotDataLabelsText({x:h.newX,y:h.newY,text:d,textAnchor:h.textAnchor,i:n,j:n,parent:s,color:Array.isArray(i.style.colors)&&i.style.colors[n]?i.style.colors[n]:"#a8a8a8",dataLabelsConfig:p({textAnchor:h.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1})}}),s}},{key:"createPaths",value:function(e,t){var i=this,s=[],a=[],r=[],n=[];if(e.length){a=[this.graphics.move(t.x,t.y)],n=[this.graphics.move(t.x,t.y)];var o=this.graphics.move(e[0].x,e[0].y),l=this.graphics.move(e[0].x,e[0].y);e.forEach(function(h,d){o+=i.graphics.line(h.x,h.y),l+=i.graphics.line(h.x,h.y),d===e.length-1&&(o+="Z",l+="Z")}),s.push(o),r.push(l)}return{linePathsFrom:a,linePathsTo:s,areaPathsFrom:n,areaPathsTo:r}}},{key:"getTextPos",value:function(e,t){var i="middle",s=e.x,a=e.y;return Math.abs(e.x)>=10?e.x>0?(i="start",s+=10):e.x<0&&(i="end",s-=10):i="middle",Math.abs(e.y)>=t-10&&(e.y<0?a-=10:e.y>0&&(a+=10)),{textAnchor:i,newX:s,newY:a}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,i=null,s=0;s<t.globals.previousPaths.length;s++){var a=t.globals.previousPaths[s];a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&void 0!==t.globals.previousPaths[s].paths[0]&&(i=t.globals.previousPaths[s].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var s=[],a=0;a<i;a++){var r={};r.x=e[a]*Math.sin(t[a]),r.y=-e[a]*Math.cos(t[a]),s.push(r)}return s}}]),W}(),at=function(W){b(t,xt);var e=O(t);function t(i){var s;ue(this,t),(s=e.call(this,i)).ctx=i,s.w=i.w,s.animBeginArr=[0],s.animDur=0;var a=s.w;return s.startAngle=a.config.plotOptions.radialBar.startAngle,s.endAngle=a.config.plotOptions.radialBar.endAngle,s.totalAngle=Math.abs(a.config.plotOptions.radialBar.endAngle-a.config.plotOptions.radialBar.startAngle),s.trackStartAngle=a.config.plotOptions.radialBar.track.startAngle,s.trackEndAngle=a.config.plotOptions.radialBar.track.endAngle,s.donutDataLabels=s.w.config.plotOptions.radialBar.dataLabels,s.radialDataLabels=s.donutDataLabels,s.trackStartAngle||(s.trackStartAngle=s.startAngle),s.trackEndAngle||(s.trackEndAngle=s.endAngle),360===s.endAngle&&(s.endAngle=359.99),s.margin=parseInt(a.config.plotOptions.radialBar.track.margin,10),s}return u(t,[{key:"draw",value:function(i){var s=this.w,a=new T(this.ctx),r=a.group({class:"apexcharts-radialbar"});if(s.globals.noData)return r;var n=a.group(),o=this.defaultSize/2,l=s.globals.gridWidth/2,h=this.defaultSize/2.05;s.config.chart.sparkline.enabled||(h=h-s.config.stroke.width-s.config.chart.dropShadow.blur);var d=s.globals.fill.colors;if(s.config.plotOptions.radialBar.track.show){var g=this.drawTracks({size:h,centerX:l,centerY:o,colorArr:d,series:i});n.add(g)}var x=this.drawArcs({size:h,centerX:l,centerY:o,colorArr:d,series:i}),C=360;s.config.plotOptions.radialBar.startAngle<0&&(C=this.totalAngle);var S=(360-C)/360;if(s.globals.radialSize=h-h*S,this.radialDataLabels.value.show){var I=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);s.globals.radialSize+=I*S}return n.add(x.g),"front"===s.config.plotOptions.radialBar.hollow.position&&(x.g.add(x.elHollow),x.dataLabels&&x.g.add(x.dataLabels)),r.add(n),r}},{key:"drawTracks",value:function(i){var s=this.w,a=new T(this.ctx),r=a.group({class:"apexcharts-tracks"}),n=new v(this.ctx),o=new pe(this.ctx),l=this.getStrokeWidth(i);i.size=i.size-l/2;for(var h=0;h<i.series.length;h++){var d=a.group({class:"apexcharts-radialbar-track apexcharts-track"});r.add(d),d.attr({rel:h+1}),i.size=i.size-l-this.margin;var g=s.config.plotOptions.radialBar.track,x=o.fillPath({seriesNumber:0,size:i.size,fillColors:Array.isArray(g.background)?g.background[h]:g.background,solid:!0}),C=this.trackStartAngle,S=this.trackEndAngle;Math.abs(S)+Math.abs(C)>=360&&(S=360-Math.abs(this.startAngle)-.1);var I=a.drawPath({d:"",stroke:x,strokeWidth:l*parseInt(g.strokeWidth,10)/100,fill:"none",strokeOpacity:g.opacity,classes:"apexcharts-radialbar-area"});g.dropShadow.enabled&&n.dropShadow(I,g.dropShadow),d.add(I),I.attr("id","apexcharts-radialbarTrack-"+h),this.animatePaths(I,{centerX:i.centerX,centerY:i.centerY,endAngle:S,startAngle:C,size:i.size,i:h,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:s.globals.easing})}return r}},{key:"drawArcs",value:function(i){var s=this.w,a=new T(this.ctx),r=new pe(this.ctx),n=new v(this.ctx),o=a.group(),l=this.getStrokeWidth(i);i.size=i.size-l/2;var h=s.config.plotOptions.radialBar.hollow.background,d=i.size-l*i.series.length-this.margin*i.series.length-l*parseInt(s.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,g=d-s.config.plotOptions.radialBar.hollow.margin;void 0!==s.config.plotOptions.radialBar.hollow.image&&(h=this.drawHollowImage(i,o,d,h));var x=this.drawHollow({size:g,centerX:i.centerX,centerY:i.centerY,fill:h||"transparent"});s.config.plotOptions.radialBar.hollow.dropShadow.enabled&&n.dropShadow(x,s.config.plotOptions.radialBar.hollow.dropShadow);var S=1;!this.radialDataLabels.total.show&&s.globals.series.length>1&&(S=0);var I=null;this.radialDataLabels.show&&(I=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:d,centerX:i.centerX,centerY:i.centerY,opacity:S})),"back"===s.config.plotOptions.radialBar.hollow.position&&(o.add(x),I&&o.add(I));var U=!1;s.config.plotOptions.radialBar.inverseOrder&&(U=!0);for(var Q=U?i.series.length-1:0;U?Q>=0:Q<i.series.length;U?Q--:Q++){var se=a.group({class:"apexcharts-series apexcharts-radial-series",seriesName:w.escapeString(s.globals.seriesNames[Q])});o.add(se),se.attr({rel:Q+1,"data:realIndex":Q}),this.ctx.series.addCollapsedClassToSeries(se,Q),i.size=i.size-l-this.margin;var c=r.fillPath({seriesNumber:Q,size:i.size,value:i.series[Q]}),f=this.startAngle,M=void 0,X=w.negToZero(i.series[Q]>100?100:i.series[Q])/100,me=Math.round(this.totalAngle*X)+this.startAngle,Le=void 0;s.globals.dataChanged&&(M=this.startAngle,Le=Math.round(this.totalAngle*w.negToZero(s.globals.previousPaths[Q])/100)+M),Math.abs(me)+Math.abs(f)>=360&&(me-=.01),Math.abs(Le)+Math.abs(M)>=360&&(Le-=.01);var we=me-f,Be=Array.isArray(s.config.stroke.dashArray)?s.config.stroke.dashArray[Q]:s.config.stroke.dashArray,ze=a.drawPath({d:"",stroke:c,strokeWidth:l,fill:"none",fillOpacity:s.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Q,strokeDashArray:Be});T.setAttrs(ze.node,{"data:angle":we,"data:value":i.series[Q]}),s.config.chart.dropShadow.enabled&&n.dropShadow(ze,s.config.chart.dropShadow,Q),n.setSelectionFilter(ze,0,Q),this.addListeners(ze,this.radialDataLabels),se.add(ze),ze.attr({index:0,j:Q});var je=0;!this.initialAnim||s.globals.resized||s.globals.dataChanged||(je=s.config.chart.animations.speed),s.globals.dataChanged&&(je=s.config.chart.animations.dynamicAnimation.speed),this.animDur=je/(1.2*i.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(ze,{centerX:i.centerX,centerY:i.centerY,endAngle:me,startAngle:f,prevEndAngle:Le,prevStartAngle:M,size:i.size,i:Q,totalItems:2,animBeginArr:this.animBeginArr,dur:je,shouldSetPrevPaths:!0,easing:s.globals.easing})}return{g:o,elHollow:x,dataLabels:I}}},{key:"drawHollow",value:function(i){var s=new T(this.ctx).drawCircle(2*i.size);return s.attr({class:"apexcharts-radialbar-hollow",cx:i.centerX,cy:i.centerY,r:i.size,fill:i.fill}),s}},{key:"drawHollowImage",value:function(i,s,a,r){var n=this.w,o=new pe(this.ctx),l=w.randomId(),h=n.config.plotOptions.radialBar.hollow.image;if(n.config.plotOptions.radialBar.hollow.imageClipped)o.clippedImgArea({width:a,height:a,image:h,patternID:"pattern".concat(n.globals.cuid).concat(l)}),r="url(#pattern".concat(n.globals.cuid).concat(l,")");else{var d=n.config.plotOptions.radialBar.hollow.imageWidth,g=n.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===d&&void 0===g){var x=n.globals.dom.Paper.image(h).loaded(function(S){this.move(i.centerX-S.width/2+n.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-S.height/2+n.config.plotOptions.radialBar.hollow.imageOffsetY)});s.add(x)}else{var C=n.globals.dom.Paper.image(h).loaded(function(S){this.move(i.centerX-d/2+n.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-g/2+n.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(d,g)});s.add(C)}}return r}},{key:"getStrokeWidth",value:function(i){return i.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(i.series.length+1)-this.margin}}]),t}(),Pt=function(){function W(e){ue(this,W),this.w=e.w,this.lineCtx=e}return u(W,[{key:"sameValueSeriesFix",value:function(e,t){var i=this.w;if("line"===i.config.chart.type&&("gradient"===i.config.fill.type||"gradient"===i.config.fill.type[e])&&new F(this.lineCtx.ctx,i).seriesHaveSameValues(e)){var s=t[e].slice();s[s.length-1]=s[s.length-1]+1e-6,t[e]=s}return t}},{key:"calculatePoints",value:function(e){var t=e.series,s=e.x,a=e.y,r=e.i,n=e.j,o=e.prevY,l=this.w,h=[],d=[];if(0===n){var g=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(g=(l.globals.seriesX[e.realIndex][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),h.push(g),d.push(w.isNumber(t[r][0])?o+l.config.markers.offsetY:null),h.push(s+l.config.markers.offsetX),d.push(w.isNumber(t[r][n+1])?a+l.config.markers.offsetY:null)}else h.push(s+l.config.markers.offsetX),d.push(w.isNumber(t[r][n+1])?a+l.config.markers.offsetY:null);return{x:h,y:d}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,i=e.pathFromArea,s=e.realIndex,a=this.w,r=0;r<a.globals.previousPaths.length;r++){var n=a.globals.previousPaths[r];("line"===n.type||"area"===n.type)&&n.paths.length>0&&parseInt(n.realIndex,10)===parseInt(s,10)&&("line"===n.type?(this.lineCtx.appendPathFrom=!1,t=a.globals.previousPaths[r].paths[0].d):"area"===n.type&&(this.lineCtx.appendPathFrom=!1,i=a.globals.previousPaths[r].paths[0].d,a.config.stroke.show&&a.globals.previousPaths[r].paths[1]&&(t=a.globals.previousPaths[r].paths[1].d)))}return{pathFromLine:t,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(e){var t=e.i,i=e.series,s=e.prevY,a=e.lineYPosition,r=this.w;if(void 0!==i[t][0])s=(a=r.config.chart.stacked&&t>0?this.lineCtx.prevSeriesY[t-1][0]:this.lineCtx.zeroY)-i[t][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?i[t][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(r.config.chart.stacked&&t>0&&void 0===i[t][0])for(var n=t-1;n>=0;n--)if(null!=i[n][0]){s=a=this.lineCtx.prevSeriesY[n][0];break}return{prevY:s,lineYPosition:a}}}]),W}(),wt=function(){function W(e,t,i){ue(this,W),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||i,this.scatter=new xe(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Pt(this),this.markers=new ie(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return u(W,[{key:"draw",value:function(e,t,i){var s=this.w,a=new T(this.ctx),r=s.globals.comboCharts?t:s.config.chart.type,n=a.group({class:"apexcharts-".concat(r,"-series apexcharts-plot-series")}),o=new F(this.ctx,s);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=o.getLogSeries(e),this.yRatio=o.getLogYRatios(this.yRatio);for(var l=[],h=0;h<e.length;h++){e=this.lineHelpers.sameValueSeriesFix(h,e);var d=s.globals.comboCharts?i[h]:h;this._initSerieVariables(e,h,d);var g=[],x=[],C=s.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,d),s.globals.isXNumeric&&s.globals.seriesX.length>0&&(C=(s.globals.seriesX[d][0]-s.globals.minX)/this.xRatio),x.push(C);var S,I=C,U=I,Q=this.zeroY;Q=this.lineHelpers.determineFirstPrevY({i:h,series:e,prevY:Q,lineYPosition:0}).prevY,g.push(Q),S=Q;var se=this._calculatePathsFrom({series:e,i:h,realIndex:d,prevX:U,prevY:Q}),c=this._iterateOverDataPoints({series:e,realIndex:d,i:h,x:C,y:1,pX:I,pY:S,pathsFrom:se,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:x,yArrj:g});this._handlePaths({type:r,realIndex:d,i:h,paths:c}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),l.push(this.elSeries)}if(s.config.chart.stacked)for(var f=l.length;f>0;f--)n.add(l[f-1]);else for(var M=0;M<l.length;M++)n.add(l[M]);return n}},{key:"_initSerieVariables",value:function(e,t,i){var s=this.w,a=new T(this.ctx);this.xDivision=s.globals.gridWidth/(s.globals.dataPoints-("on"===s.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(s.config.stroke.width)?s.config.stroke.width[i]:s.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=i),this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed,this.zeroY=s.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?s.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>s.globals.gridHeight||"end"===s.config.plotOptions.area.fillTo)&&(this.areaBottomY=s.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=a.group({class:"apexcharts-series",seriesName:w.escapeString(s.globals.seriesNames[i])}),this.elPointsMain=a.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),this.elDataLabelsWrap=a.group({class:"apexcharts-datalabels","data:realIndex":i}),this.elSeries.attr({"data:longestSeries":e[t].length===s.globals.dataPoints,rel:t+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,i,s,a,r=e.series,n=e.i,o=e.realIndex,l=e.prevX,h=e.prevY,d=this.w,g=new T(this.ctx);if(null===r[n][0]){for(var x=0;x<r[n].length;x++)if(null!==r[n][x]){t=g.move(l=this.xDivision*x,h=this.zeroY-r[n][x]/this.yRatio[this.yaxisIndex]),i=g.move(l,this.areaBottomY);break}}else t=g.move(l,h),i=g.move(l,this.areaBottomY)+g.line(l,h);if(s=g.move(-1,this.zeroY)+g.line(-1,this.zeroY),a=g.move(-1,this.zeroY)+g.line(-1,this.zeroY),d.globals.previousPaths.length>0){var C=this.lineHelpers.checkPreviousPaths({pathFromLine:s,pathFromArea:a,realIndex:o});s=C.pathFromLine,a=C.pathFromArea}return{prevX:l,prevY:h,linePath:t,areaPath:i,pathFromLine:s,pathFromArea:a}}},{key:"_handlePaths",value:function(e){var t=e.type,i=e.realIndex,s=e.i,a=e.paths,r=this.w,n=new T(this.ctx),o=new pe(this.ctx);this.prevSeriesY.push(a.yArrj),r.globals.seriesXvalues[i]=a.xArrj,r.globals.seriesYvalues[i]=a.yArrj;var l=r.config.forecastDataPoints;if(l.count>0){var h=r.globals.seriesXvalues[i][r.globals.seriesXvalues[i].length-l.count-1],d=n.drawRect(h,0,r.globals.gridWidth,r.globals.gridHeight,0);r.globals.dom.elForecastMask.appendChild(d.node);var g=n.drawRect(0,0,h,r.globals.gridHeight,0);r.globals.dom.elNonForecastMask.appendChild(g.node)}this.pointsChart||r.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var x={i:s,realIndex:i,animationDelay:s,initialSpeed:r.config.chart.animations.speed,dataChangeSpeed:r.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if("area"===t)for(var C=o.fillPath({seriesNumber:i}),S=0;S<a.areaPaths.length;S++){var I=n.renderPaths(p(p({},x),{},{pathFrom:a.pathFromArea,pathTo:a.areaPaths[S],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:C}));this.elSeries.add(I)}if(r.config.stroke.show&&!this.pointsChart){var U=null;if("line"===t)U=o.fillPath({seriesNumber:i,i:s});else if("solid"===r.config.stroke.fill.type)U=r.globals.stroke.colors[i];else{var Q=r.config.fill;r.config.fill=r.config.stroke.fill,U=o.fillPath({seriesNumber:i,i:s}),r.config.fill=Q}for(var se=0;se<a.linePaths.length;se++){var c=p(p({},x),{},{pathFrom:a.pathFromLine,pathTo:a.linePaths[se],stroke:U,strokeWidth:this.strokeWidth,strokeLineCap:r.config.stroke.lineCap,fill:"none"}),f=n.renderPaths(c);if(this.elSeries.add(f),l.count>0){var M=n.renderPaths(c);M.node.setAttribute("stroke-dasharray",l.dashArray),l.strokeWidth&&M.node.setAttribute("stroke-width",l.strokeWidth),this.elSeries.add(M),M.attr("clip-path","url(#forecastMask".concat(r.globals.cuid,")")),f.attr("clip-path","url(#nonForecastMask".concat(r.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){for(var t=e.series,i=e.realIndex,s=e.i,a=e.x,r=e.y,n=e.pX,o=e.pY,l=e.pathsFrom,h=e.linePaths,d=e.areaPaths,g=e.seriesIndex,x=e.lineYPosition,C=e.xArrj,S=e.yArrj,I=this.w,U=new T(this.ctx),Q=this.yRatio,se=l.prevY,c=l.linePath,f=l.areaPath,M=l.pathFromLine,X=l.pathFromArea,me=w.isNumber(I.globals.minYArr[i])?I.globals.minYArr[i]:I.globals.minY,Le=I.globals.dataPoints>1?I.globals.dataPoints-1:I.globals.dataPoints,we=0;we<Le;we++){var Be=null==t[s][we+1];if(I.globals.isXNumeric){var ze=I.globals.seriesX[i][we+1];void 0===I.globals.seriesX[i][we+1]&&(ze=I.globals.seriesX[i][Le-1]),a=(ze-I.globals.minX)/this.xRatio}else a+=this.xDivision;x=I.config.chart.stacked&&s>0&&I.globals.collapsedSeries.length<I.config.series.length-1?this.prevSeriesY[function(it){for(var Ke=it,ht=0;ht<I.globals.series.length;ht++)if(I.globals.collapsedSeriesIndices.indexOf(it)>-1){Ke--;break}return Ke>=0?Ke:0}(s-1)][we+1]:this.zeroY,r=Be?x-me/Q[this.yaxisIndex]+2*(this.isReversed?me/Q[this.yaxisIndex]:0):x-t[s][we+1]/Q[this.yaxisIndex]+2*(this.isReversed?t[s][we+1]/Q[this.yaxisIndex]:0),C.push(a),S.push(r);var Ve=this.lineHelpers.calculatePoints({series:t,x:a,y:r,realIndex:i,i:s,j:we,prevY:se}),je=this._createPaths({series:t,i:s,realIndex:i,j:we,x:a,y:r,pX:n,pY:o,linePath:c,areaPath:f,linePaths:h,areaPaths:d,seriesIndex:g});d=je.areaPaths,h=je.linePaths,n=je.pX,o=je.pY,f=je.areaPath,c=je.linePath,this.appendPathFrom&&(M+=U.line(a,this.zeroY),X+=U.line(a,this.zeroY)),this.handleNullDataPoints(t,Ve,s,we,i),this._handleMarkersAndLabels({pointsPos:Ve,series:t,x:a,y:r,prevY:se,i:s,j:we,realIndex:i})}return{yArrj:S,xArrj:C,pathFromArea:X,areaPaths:d,pathFromLine:M,linePaths:h}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.pointsPos,i=e.i,s=e.j,a=e.realIndex,r=this.w,n=new V(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,s,{realIndex:a,pointsPos:t,zRatio:this.zRatio,elParent:this.elPointsMain});else{r.globals.series[i].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var o=this.markers.plotChartMarkers(t,a,s+1);null!==o&&this.elPointsMain.add(o)}var l=n.drawDataLabel(t,a,s+1,null);null!==l&&this.elDataLabelsWrap.add(l)}},{key:"_createPaths",value:function(e){var t=e.series,i=e.i,s=e.realIndex,a=e.j,r=e.x,n=e.y,o=e.pX,l=e.pY,h=e.linePath,d=e.areaPath,g=e.linePaths,x=e.areaPaths,C=e.seriesIndex,S=this.w,I=new T(this.ctx),U=S.config.stroke.curve,Q=this.areaBottomY;if(Array.isArray(S.config.stroke.curve)&&(U=Array.isArray(C)?S.config.stroke.curve[C[i]]:S.config.stroke.curve[i]),"smooth"===U){var se=.35*(r-o);S.globals.hasNullValues?(null!==t[i][a]&&(null!==t[i][a+1]?(h=I.move(o,l)+I.curve(o+se,l,r-se,n,r+1,n),d=I.move(o+1,l)+I.curve(o+se,l,r-se,n,r+1,n)+I.line(r,Q)+I.line(o,Q)+"z"):(h=I.move(o,l),d=I.move(o,l)+"z")),g.push(h),x.push(d)):(h+=I.curve(o+se,l,r-se,n,r,n),d+=I.curve(o+se,l,r-se,n,r,n)),o=r,l=n,a===t[i].length-2&&(d=d+I.curve(o,l,r,n,r,Q)+I.move(r,n)+"z",S.globals.hasNullValues||(g.push(h),x.push(d)))}else null===t[i][a+1]&&(h+=I.move(r,n),d=d+I.line(S.globals.isXNumeric?(S.globals.seriesX[s][a]-S.globals.minX)/this.xRatio:r-this.xDivision,Q)+I.move(r,n)+"z"),null===t[i][a]&&(h+=I.move(r,n),d+=I.move(r,Q)),"stepline"===U?(h=h+I.line(r,null,"H")+I.line(null,n,"V"),d=d+I.line(r,null,"H")+I.line(null,n,"V")):"straight"===U&&(h+=I.line(r,n),d+=I.line(r,n)),a===t[i].length-2&&(d=d+I.line(r,Q)+I.move(r,n)+"z",g.push(h),x.push(d));return{linePaths:g,areaPaths:x,pX:o,pY:l,linePath:h,areaPath:d}}},{key:"handleNullDataPoints",value:function(e,t,i,s,a){var r=this.w;if(null===e[i][s]&&r.config.markers.showNullDataPoints||1===e[i].length){var n=this.markers.plotChartMarkers(t,a,s+1,this.strokeWidth-r.config.markers.strokeWidth/2,!0);null!==n&&this.elPointsMain.add(n)}}}]),W}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function W(n,o,l,h){this.xoffset=n,this.yoffset=o,this.height=h,this.width=l,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(d){var g,x=[],C=this.xoffset,S=this.yoffset,I=a(d)/this.height,U=a(d)/this.width;if(this.width>=this.height)for(g=0;g<d.length;g++)x.push([C,S,C+I,S+d[g]/I]),S+=d[g]/I;else for(g=0;g<d.length;g++)x.push([C,S,C+d[g]/U,S+U]),C+=d[g]/U;return x},this.cutArea=function(d){var g;if(this.width>=this.height){var x=d/this.height;g=new W(this.xoffset+x,this.yoffset,this.width-x,this.height)}else{var S=d/this.width;g=new W(this.xoffset,this.yoffset+S,this.width,this.height-S)}return g}}function e(n,o,l,h,d){return h=void 0===h?0:h,d=void 0===d?0:d,function(g){var x,C,S=[];for(x=0;x<g.length;x++)for(C=0;C<g[x].length;C++)S.push(g[x][C]);return S}(t(function(g,x){var C,S=[],I=x/a(g);for(C=0;C<g.length;C++)S[C]=g[C]*I;return S}(n,o*l),[],new W(h,d,o,l),[]))}function t(n,o,l,h){var d,g,x,C,S,I,U;if(0!==n.length)return d=l.shortestEdge(),S=g=n[0],I=d,0===(C=o).length||((U=C.slice()).push(S),i(C,I)>=i(U,I))?(o.push(g),t(n.slice(1),o,l,h)):(x=l.cutArea(a(o),h),h.push(l.getCoordinates(o)),t(n,[],x,h)),h;h.push(l.getCoordinates(o))}function i(n,o){var l=Math.min.apply(Math,n),h=Math.max.apply(Math,n),d=a(n);return Math.max(Math.pow(o,2)*h/Math.pow(d,2),Math.pow(d,2)/(Math.pow(o,2)*l))}function s(n){return n&&n.constructor===Array}function a(n){var o,l=0;for(o=0;o<n.length;o++)l+=n[o];return l}function r(n){var o,l=0;if(s(n[0]))for(o=0;o<n.length;o++)l+=r(n[o]);else l=a(n);return l}return function n(o,l,h,d,g){d=void 0===d?0:d,g=void 0===g?0:g;var x,C,S=[],I=[];if(s(o[0])){for(C=0;C<o.length;C++)S[C]=r(o[C]);for(x=e(S,l,h,d,g),C=0;C<o.length;C++)I.push(n(o[C],x[C][2]-x[C][0],x[C][3]-x[C][1],x[C][0],x[C][1]))}else I=e(o,l,h,d,g);return I}}();var _t,Tt,St=function(){function W(e,t){ue(this,W),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new gt(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return u(W,[{key:"draw",value:function(e){var t=this,i=this.w,s=new T(this.ctx),a=new pe(this.ctx),r=s.group({class:"apexcharts-treemap"});if(i.globals.noData)return r;var n=[];return e.forEach(function(o){var l=o.map(function(h){return Math.abs(h)});n.push(l)}),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach(function(o,l){o.data.forEach(function(h){Array.isArray(t.labels[l])||(t.labels[l]=[]),t.labels[l].push(h.x)})}),window.TreemapSquared.generate(n,i.globals.gridWidth,i.globals.gridHeight).forEach(function(o,l){var h=s.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:w.escapeString(i.globals.seriesNames[l]),rel:l+1,"data:realIndex":l});if(i.config.chart.dropShadow.enabled){var d=i.config.chart.dropShadow;new v(t.ctx).dropShadow(r,d,l)}var g=s.group({class:"apexcharts-data-labels"});o.forEach(function(x,C){var S=x[0],I=x[1],U=x[2],Q=x[3],se=s.drawRect(S,I,U-S,Q-I,0,"#fff",1,t.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?f:i.globals.stroke.colors[l]);se.attr({cx:S,cy:I,index:l,i:l,j:C,width:U-S,height:Q-I});var c=t.helpers.getShadeColor(i.config.chart.type,l,C,t.negRange),f=c.color;void 0!==i.config.series[l].data[C]&&i.config.series[l].data[C].fillColor&&(f=i.config.series[l].data[C].fillColor);var M=a.fillPath({color:f,seriesNumber:l,dataPointIndex:C});se.node.classList.add("apexcharts-treemap-rect"),se.attr({fill:M}),t.helpers.addListeners(se);var X={x:S+(U-S)/2,y:I+(Q-I)/2,width:0,height:0},me={x:S,y:I,width:U-S,height:Q-I};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var Le=1;i.globals.resized||(Le=i.config.chart.animations.speed),t.animateTreemap(se,X,me,Le)}i.globals.dataChanged&&t.dynamicAnim.enabled&&i.globals.shouldAnimate&&(i.globals.previousPaths[l]&&i.globals.previousPaths[l][C]&&i.globals.previousPaths[l][C].rect&&(X=i.globals.previousPaths[l][C].rect),t.animateTreemap(se,X,me,t.dynamicAnim.speed));var Be=t.getFontSize(x),ze=i.config.dataLabels.formatter(t.labels[l][C],{value:i.globals.series[l][C],seriesIndex:l,dataPointIndex:C,w:i}),Ve=t.helpers.calculateDataLabels({text:ze,x:(S+U)/2,y:(I+Q)/2+t.strokeWidth/2+Be/3,i:l,j:C,colorProps:c,fontSize:Be,series:e});i.config.dataLabels.enabled&&Ve&&t.rotateToFitLabel(Ve,ze,S,I,U,Q),h.add(se),null!==Ve&&h.add(Ve)}),h.add(g),r.add(h)}),r}},{key:"getFontSize",value:function(e){var r,t=this.w,n=function o(l){var h,d=0;if(Array.isArray(l[0]))for(h=0;h<l.length;h++)d+=o(l[h]);else for(h=0;h<l.length;h++)d+=l[h].length;return d}(this.labels)/function o(l){var h,d=0;if(Array.isArray(l[0]))for(h=0;h<l.length;h++)d+=o(l[h]);else for(h=0;h<l.length;h++)d+=1;return d}(this.labels);return r=Math.pow((e[2]-e[0])*(e[3]-e[1]),.5),Math.min(r/n,parseInt(t.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(e,t,i,s,a,r){var n=new T(this.ctx),o=n.getTextRects(t);if(o.width+5>a-i&&o.width<=r-s){var l=n.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(l.x," ").concat(l.y,")"))}}},{key:"animateTreemap",value:function(e,t,i,s){var a=new m(this.ctx);a.animateRect(e,{x:t.x,y:t.y,width:t.width,height:t.height},{x:i.x,y:i.y,width:i.width,height:i.height},s,function(){a.animationCompleted(e)})}}]),W}(),ft=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return u(W,[{key:"calculateTimeScaleTicks",value:function(e,t){var i=this,s=this.w;if(s.globals.allSeriesCollapsed)return s.globals.labels=[],s.globals.timescaleLabels=[],[];var a=new Z(this.ctx),r=(t-e)/864e5;this.determineInterval(r),s.globals.disableZoomIn=!1,s.globals.disableZoomOut=!1,r<.00011574074074074075?s.globals.disableZoomIn=!0:r>5e4&&(s.globals.disableZoomOut=!0);var n=a.getTimeUnitsfromTimestamp(e,t,this.utc),o=s.globals.gridWidth/r,l=o/24,h=l/60,d=h/60,g=Math.floor(24*r),x=Math.floor(1440*r),C=Math.floor(86400*r),S=Math.floor(r),I=Math.floor(r/30),U=Math.floor(r/365),Q={minMillisecond:n.minMillisecond,minSecond:n.minSecond,minMinute:n.minMinute,minHour:n.minHour,minDate:n.minDate,minMonth:n.minMonth,minYear:n.minYear},se={firstVal:Q,currentMillisecond:Q.minMillisecond,currentSecond:Q.minSecond,currentMinute:Q.minMinute,currentHour:Q.minHour,currentMonthDate:Q.minDate,currentDate:Q.minDate,currentMonth:Q.minMonth,currentYear:Q.minYear,daysWidthOnXAxis:o,hoursWidthOnXAxis:l,minutesWidthOnXAxis:h,secondsWidthOnXAxis:d,numberOfSeconds:C,numberOfMinutes:x,numberOfHours:g,numberOfDays:S,numberOfMonths:I,numberOfYears:U};switch(this.tickInterval){case"years":this.generateYearScale(se);break;case"months":case"half_year":this.generateMonthScale(se);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(se);break;case"hours":this.generateHourScale(se);break;case"minutes_fives":case"minutes":this.generateMinuteScale(se);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(se)}var c=this.timeScaleArray.map(function(f){var M={position:f.position,unit:f.unit,year:f.year,day:f.day?f.day:1,hour:f.hour?f.hour:0,month:f.month+1};return"month"===f.unit?p(p({},M),{},{day:1,value:f.value+1}):"day"===f.unit||"hour"===f.unit?p(p({},M),{},{value:f.value}):"minute"===f.unit?p(p({},M),{},{value:f.value,minute:f.value}):"second"===f.unit?p(p({},M),{},{value:f.value,minute:f.minute,second:f.second}):f});return c.filter(function(f){var M=1,X=Math.ceil(s.globals.gridWidth/120),me=f.value;void 0!==s.config.xaxis.tickAmount&&(X=s.config.xaxis.tickAmount),c.length>X&&(M=Math.floor(c.length/X));var Le=!1,we=!1;switch(i.tickInterval){case"years":"year"===f.unit&&(Le=!0);break;case"half_year":M=7,"year"===f.unit&&(Le=!0);break;case"months":M=1,"year"===f.unit&&(Le=!0);break;case"months_fortnight":M=15,"year"!==f.unit&&"month"!==f.unit||(Le=!0),30===me&&(we=!0);break;case"months_days":M=10,"month"===f.unit&&(Le=!0),30===me&&(we=!0);break;case"week_days":M=8,"month"===f.unit&&(Le=!0);break;case"days":M=1,"month"===f.unit&&(Le=!0);break;case"hours":"day"===f.unit&&(Le=!0);break;case"minutes_fives":case"seconds_fives":me%5!=0&&(we=!0);break;case"seconds_tens":me%10!=0&&(we=!0)}if("hours"===i.tickInterval||"minutes_fives"===i.tickInterval||"seconds_tens"===i.tickInterval||"seconds_fives"===i.tickInterval){if(!we)return!0}else if((me%M==0||Le)&&!we)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var i=this.w,s=this.formatDates(e),a=this.removeOverlappingTS(s);i.globals.timescaleLabels=a.slice(),new tt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,i=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,i=e.currentMonth,s=e.currentYear,a=e.daysWidthOnXAxis,r=e.numberOfYears,n=t.minYear,o=0,l=new Z(this.ctx),h="year";if(t.minDate>1||t.minMonth>0){var d=l.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);o=(l.determineDaysOfYear(t.minYear)-d+1)*a,this.timeScaleArray.push({position:o,value:n=t.minYear+1,unit:h,year:n,month:w.monthMod(i+1)})}else 1===t.minDate&&0===t.minMonth&&this.timeScaleArray.push({position:o,value:n,unit:h,year:s,month:w.monthMod(i+1)});for(var g=n,x=o,C=0;C<r;C++)g++,x=l.determineDaysOfYear(g-1)*a+x,this.timeScaleArray.push({position:x,value:g,unit:h,year:g,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,i=e.currentMonthDate,s=e.currentMonth,a=e.currentYear,r=e.daysWidthOnXAxis,n=e.numberOfMonths,o=s,l=0,h=new Z(this.ctx),d="month",g=0;if(t.minDate>1){l=(h.determineDaysOfMonths(s+1,t.minYear)-i+1)*r,o=w.monthMod(s+1);var x=a+g,C=w.monthMod(o),S=o;0===o&&(d="year",S=x,C=1,x+=g+=1),this.timeScaleArray.push({position:l,value:S,unit:d,year:x,month:C})}else this.timeScaleArray.push({position:l,value:o,unit:d,year:a,month:w.monthMod(s)});for(var I=o+1,U=l,Q=0,se=1;Q<n;Q++,se++){0===(I=w.monthMod(I))?(d="year",g+=1):d="month";var c=this._getYear(a,I,g);U=h.determineDaysOfMonths(I,c)*r+U,this.timeScaleArray.push({position:U,value:0===I?c:I,unit:d,year:c,month:0===I?1:I}),I++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,i=e.currentMonth,s=e.currentYear,a=e.hoursWidthOnXAxis,r=e.numberOfDays,n=new Z(this.ctx),o="day",l=t.minDate+1,h=l,d=function(se,c,f){return se>n.determineDaysOfMonths(c+1,f)&&(h=1,o="month",x=c+=1),c},g=(24-t.minHour)*a,x=l,C=d(h,i,s);0===t.minHour&&1===t.minDate?(g=0,x=w.monthMod(t.minMonth),o="month",h=t.minDate,r++):1!==t.minDate&&0===t.minHour&&0===t.minMinute&&(g=0,x=l=t.minDate,C=d(h=l,i,s)),this.timeScaleArray.push({position:g,value:x,unit:o,year:this._getYear(s,C,0),month:w.monthMod(C),day:h});for(var S=g,I=0;I<r;I++){o="day",C=d(h+=1,C,this._getYear(s,C,0));var U=this._getYear(s,C,0);S=24*a+S;var Q=1===h?w.monthMod(C):h;this.timeScaleArray.push({position:S,value:Q,unit:o,year:U,month:w.monthMod(C),day:Q})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,i=e.currentDate,s=e.currentMonth,a=e.currentYear,r=e.minutesWidthOnXAxis,n=e.numberOfHours,o=new Z(this.ctx),l="hour",d=function(M,X){return M>o.determineDaysOfMonths(X+1,a)?X+=1:X},g=60-(t.minMinute+t.minSecond/60),x=g*r,C=t.minHour+1,S=C+1;60===g&&(x=0,S=(C=t.minHour)+1);var M,X,I=i,U=d(I,s);this.timeScaleArray.push({position:x,value:C,unit:l,day:I,hour:S,year:a,month:w.monthMod(U)});for(var Q=x,se=0;se<n;se++){l="hour",S>=24&&(S=0,l="day",U=(M=I+=1,X=U,M>o.determineDaysOfMonths(X+1,a)&&(I=1,X+=1),{month:X,date:I}).month,U=d(I,U));var c=this._getYear(a,U,0);this.timeScaleArray.push({position:Q=0===S&&0===se?g*r:60*r+Q,value:0===S?I:S,unit:l,hour:S,day:I,year:c,month:w.monthMod(U)}),S++}}},{key:"generateMinuteScale",value:function(e){for(var l=e.minutesWidthOnXAxis,d=e.numberOfMinutes,g=e.currentMinute+1,x=e.currentDate,C=e.currentMonth,S=e.currentYear,I=e.currentHour,U=(60-e.currentSecond-e.currentMillisecond/1e3)*e.secondsWidthOnXAxis,Q=0;Q<d;Q++)g>=60&&(g=0,24===(I+=1)&&(I=0)),this.timeScaleArray.push({position:U,value:g,unit:"minute",hour:I,minute:g,day:x,year:this._getYear(S,C,0),month:w.monthMod(C)}),U+=l,g++}},{key:"generateSecondScale",value:function(e){for(var l=e.secondsWidthOnXAxis,h=e.numberOfSeconds,d=e.currentSecond+1,g=e.currentMinute,x=e.currentDate,C=e.currentMonth,S=e.currentYear,I=e.currentHour,U=(1e3-e.currentMillisecond)/1e3*l,Q=0;Q<h;Q++)d>=60&&(d=0,++g>=60&&(g=0,24==++I&&(I=0))),this.timeScaleArray.push({position:U,value:d,unit:"second",hour:I,minute:g,second:d,day:x,year:this._getYear(S,C,0),month:w.monthMod(C)}),U+=l,d++}},{key:"createRawDateString",value:function(e,t){var i=e.year;return 0===e.month&&(e.month=1),i+="-"+("0"+e.month.toString()).slice(-2),i+="day"===e.unit?"day"===e.unit?"-"+("0"+t).slice(-2):"-01":"-"+("0"+(e.day?e.day:"1")).slice(-2),i+="hour"===e.unit?"hour"===e.unit?"T"+("0"+t).slice(-2):"T00":"T"+("0"+(e.hour?e.hour:"0")).slice(-2),i+="minute"===e.unit?":"+("0"+t).slice(-2):":"+(e.minute?("0"+e.minute).slice(-2):"00"),i+="second"===e.unit?":"+("0"+t).slice(-2):":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(e){var t=this,i=this.w;return e.map(function(s){var a=s.value.toString(),r=new Z(t.ctx),n=t.createRawDateString(s,a),o=r.getDate(r.parseDate(n));if(t.utc||(o=r.getDate(r.parseDateWithTimezone(n))),void 0===i.config.xaxis.labels.format){var l="dd MMM",h=i.config.xaxis.labels.datetimeFormatter;"year"===s.unit&&(l=h.year),"month"===s.unit&&(l=h.month),"day"===s.unit&&(l=h.day),"hour"===s.unit&&(l=h.hour),"minute"===s.unit&&(l=h.minute),"second"===s.unit&&(l=h.second),a=r.formatDate(o,l)}else a=r.formatDate(o,i.config.xaxis.labels.format);return{dateString:n,position:s.position,value:a,unit:s.unit,year:s.year,month:s.month}})}},{key:"removeOverlappingTS",value:function(e){var t,i=this,s=new T(this.ctx),a=!1;e.length>0&&e[0].value&&e.every(function(o){return o.value.length===e[0].value.length})&&(a=!0,t=s.getTextRects(e[0].value).width);var r=0;return e.map(function(o,l){if(l>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var h=a?t:s.getTextRects(e[r].value).width;return o.position>e[r].position+h+10?(r=l,o):null}return o}).filter(function(o){return null!==o})}},{key:"_getYear",value:function(e,t,i){return e+Math.floor(t/12)+i}}]),W}(),Ct=function(){function W(e,t){ue(this,W),this.ctx=t,this.w=t.w,this.el=e}return u(W,[{key:"setupElements",value:function(){var e=this.w.globals,t=this.w.config,i=t.chart.type;e.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(i)>-1,e.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(i)>-1,e.isBarHorizontal=("bar"===t.chart.type||"rangeBar"===t.chart.type||"boxPlot"===t.chart.type)&&t.plotOptions.bar.horizontal,e.chartClass=".apexcharts"+e.chartID,e.dom.baseEl=this.el,e.dom.elWrap=document.createElement("div"),T.setAttrs(e.dom.elWrap,{id:e.chartClass.substring(1),class:"apexcharts-canvas "+e.chartClass.substring(1)}),this.el.appendChild(e.dom.elWrap),e.dom.Paper=new window.SVG.Doc(e.dom.elWrap),e.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(t.chart.offsetX,", ").concat(t.chart.offsetY,")")}),e.dom.Paper.node.style.background=t.chart.background,this.setSVGDimensions(),e.dom.elGraphical=e.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),e.dom.elAnnotations=e.dom.Paper.group().attr({class:"apexcharts-annotations"}),e.dom.elDefs=e.dom.Paper.defs(),e.dom.elLegendWrap=document.createElement("div"),e.dom.elLegendWrap.classList.add("apexcharts-legend"),e.dom.elWrap.appendChild(e.dom.elLegendWrap),e.dom.Paper.add(e.dom.elGraphical),e.dom.elGraphical.add(e.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var i=this.w,s=i.config,a=i.globals,r={series:[],i:[]},n={series:[],i:[]},o={series:[],i:[]},l={series:[],i:[]},h={series:[],i:[]},d={series:[],i:[]},g={series:[],i:[]};a.series.map(function(f,M){var X=0;void 0!==e[M].type?("column"===e[M].type||"bar"===e[M].type?(a.series.length>1&&s.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),h.series.push(f),h.i.push(M),X++,i.globals.columnSeries=h.series):"area"===e[M].type?(n.series.push(f),n.i.push(M),X++):"line"===e[M].type?(r.series.push(f),r.i.push(M),X++):"scatter"===e[M].type?(o.series.push(f),o.i.push(M)):"bubble"===e[M].type?(l.series.push(f),l.i.push(M),X++):"candlestick"===e[M].type?(d.series.push(f),d.i.push(M),X++):"boxPlot"===e[M].type?(g.series.push(f),g.i.push(M),X++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),X>1&&(a.comboCharts=!0)):(r.series.push(f),r.i.push(M))});var x=new wt(this.ctx,t),C=new ut(this.ctx,t);this.ctx.pie=new xt(this.ctx);var S=new at(this.ctx);this.ctx.rangeBar=new y(this.ctx,t);var I=new yt(this.ctx),U=[];if(a.comboCharts){if(n.series.length>0&&U.push(x.draw(n.series,"area",n.i)),h.series.length>0)if(i.config.chart.stacked){var Q=new ct(this.ctx,t);U.push(Q.draw(h.series,h.i))}else this.ctx.bar=new D(this.ctx,t),U.push(this.ctx.bar.draw(h.series,h.i));if(r.series.length>0&&U.push(x.draw(r.series,"line",r.i)),d.series.length>0&&U.push(C.draw(d.series,d.i)),g.series.length>0&&U.push(C.draw(g.series,g.i)),o.series.length>0){var se=new wt(this.ctx,t,!0);U.push(se.draw(o.series,"scatter",o.i))}if(l.series.length>0){var c=new wt(this.ctx,t,!0);U.push(c.draw(l.series,"bubble",l.i))}}else switch(s.chart.type){case"line":U=x.draw(a.series,"line");break;case"area":U=x.draw(a.series,"area");break;case"bar":s.chart.stacked?U=new ct(this.ctx,t).draw(a.series):(this.ctx.bar=new D(this.ctx,t),U=this.ctx.bar.draw(a.series));break;case"candlestick":case"boxPlot":U=new ut(this.ctx,t).draw(a.series);break;case"rangeBar":U=this.ctx.rangeBar.draw(a.series);break;case"heatmap":U=new lt(this.ctx,t).draw(a.series);break;case"treemap":U=new St(this.ctx,t).draw(a.series);break;case"pie":case"donut":case"polarArea":U=this.ctx.pie.draw(a.series);break;case"radialBar":U=S.draw(a.series);break;case"radar":U=I.draw(a.series);break;default:U=x.draw(a.series)}return U}},{key:"setSVGDimensions",value:function(){var e=this.w.globals,t=this.w.config;e.svgWidth=t.chart.width,e.svgHeight=t.chart.height;var i=w.getDimensions(this.el),s=t.chart.width.toString().split(/[0-9]+/g).pop();"%"===s?w.isNumber(i[0])&&(0===i[0].width&&(i=w.getDimensions(this.el.parentNode)),e.svgWidth=i[0]*parseInt(t.chart.width,10)/100):"px"!==s&&""!==s||(e.svgWidth=parseInt(t.chart.width,10));var a=t.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==e.svgHeight&&""!==e.svgHeight)if("%"===a){var r=w.getDimensions(this.el.parentNode);e.svgHeight=r[1]*parseInt(t.chart.height,10)/100}else e.svgHeight=parseInt(t.chart.height,10);else e.svgHeight=e.axisCharts?e.svgWidth/1.61:e.svgWidth/1.2;e.svgWidth<0&&(e.svgWidth=0),e.svgHeight<0&&(e.svgHeight=0),T.setAttrs(e.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),"%"!==a&&(e.dom.Paper.node.parentNode.parentNode.style.minHeight=e.svgHeight+(t.chart.sparkline.enabled?0:e.axisCharts?t.chart.parentHeightOffset:0)+"px"),e.dom.elWrap.style.width=e.svgWidth+"px",e.dom.elWrap.style.height=e.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals;T.setAttrs(e.dom.elGraphical.node,{transform:"translate("+e.translateX+", "+e.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,i=0,s=e.config.chart.sparkline.enabled?1:15;s+=e.config.grid.padding.bottom,"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||!e.config.legend.show||e.config.legend.floating||(i=new Je(this.ctx).legendHelpers.getLegendBBox().clwh+10);var a=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),r=2.05*e.globals.radialSize;if(a&&!e.config.chart.sparkline.enabled&&0!==e.config.plotOptions.radialBar.startAngle){var n=w.getBoundingClientRect(a);r=n.bottom,r=Math.max(2.05*e.globals.radialSize,n.bottom-n.top)}var l=r+t.translateY+i+s;t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",l),e.config.chart.height&&String(e.config.chart.height).indexOf("%")>0||(t.dom.elWrap.style.height=l+"px",T.setAttrs(t.dom.Paper.node,{height:l}),t.dom.Paper.node.parentNode.parentNode.style.minHeight=l+"px")}},{key:"coreCalculations",value:function(){new He(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(a){return[]})},i=new he,s=this.w.globals;i.initGlobalVars(s),s.seriesXvalues=t(),s.seriesYvalues=t()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var e=null,t=this.w;if(t.globals.axisCharts){if("back"===t.config.xaxis.crosshairs.position&&new $(this.ctx).drawXCrosshairs(),"back"===t.config.yaxis[0].crosshairs.position&&new $(this.ctx).drawYCrosshairs(),"datetime"===t.config.xaxis.type&&void 0===t.config.xaxis.labels.formatter){this.ctx.timeScale=new ft(this.ctx);var i=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}e=new F(this.ctx).getCalculatedRatios()}return e}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.w;if(t.config.chart.brush.enabled&&"function"!=typeof t.config.chart.events.selection){var i=t.config.chart.brush.targets||[t.config.chart.brush.target];i.forEach(function(s){var a=ApexCharts.getChartByID(s);a.w.globals.brushSource=e.ctx,"function"!=typeof a.w.config.chart.events.zoomed&&(a.w.config.chart.events.zoomed=function(){e.updateSourceChart(a)}),"function"!=typeof a.w.config.chart.events.scrolled&&(a.w.config.chart.events.scrolled=function(){e.updateSourceChart(a)})}),t.config.chart.events.selection=function(s,a){i.forEach(function(r){var n=ApexCharts.getChartByID(r),o=w.clone(t.config.yaxis);if(t.config.chart.brush.autoScaleYaxis&&1===n.w.globals.series.length){var l=new Fe(n);o=l.autoScaleY(n,o,a)}var h=n.w.config.yaxis.reduce(function(d,g,x){return[].concat(G(d),[p(p({},n.w.config.yaxis[x]),{},{min:o[0].min,max:o[0].max})])},[]);n.ctx.updateHelpers._updateOptions({xaxis:{min:a.xaxis.min,max:a.xaxis.max},yaxis:h},!1,!1,!1,!1)})}}}}]),W}(),Et=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"_updateOptions",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(n){var o=[t.ctx];a&&(o=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(o=[t.ctx],t.ctx.w.globals.isExecCalled=!1),o.forEach(function(l,h){var d=l.w;if(d.globals.shouldAnimate=s,i||(d.globals.resized=!0,d.globals.dataChanged=!0,s&&l.series.getPreviousPaths()),e&&"object"===Me(e)&&(l.config=new q(e),e=F.extendArrayProps(l.config,e,d),l.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,d.config=w.extend(d.config,e),r&&(d.globals.lastXAxis=e.xaxis?w.clone(e.xaxis):[],d.globals.lastYAxis=e.yaxis?w.clone(e.yaxis):[],d.globals.initialConfig=w.extend({},d.config),d.globals.initialSeries=w.clone(d.config.series),e.series))){for(var g=0;g<d.globals.collapsedSeriesIndices.length;g++){var x=d.config.series[d.globals.collapsedSeriesIndices[g]];d.globals.collapsedSeries[g].data=d.globals.axisCharts?x.data.slice():x}for(var C=0;C<d.globals.ancillaryCollapsedSeriesIndices.length;C++){var S=d.config.series[d.globals.ancillaryCollapsedSeriesIndices[C]];d.globals.ancillaryCollapsedSeries[C].data=d.globals.axisCharts?S.data.slice():S}l.series.emptyCollapsedSeries(d.config.series)}return l.update(e).then(function(){h===o.length-1&&n(l)})})})}},{key:"_updateSeries",value:function(e,t){var i=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(a){var r,n=i.w;return n.globals.shouldAnimate=t,n.globals.dataChanged=!0,t&&i.ctx.series.getPreviousPaths(),n.globals.axisCharts?(0===(r=e.map(function(o,l){return i._extendSeries(o,l)})).length&&(r=[{data:[]}]),n.config.series=r):n.config.series=e.slice(),s&&(n.globals.initialSeries=w.clone(n.config.series)),i.ctx.update().then(function(){a(i.ctx)})})}},{key:"_extendSeries",value:function(e,t){var i=this.w,s=i.config.series[t];return p(p({},i.config.series[t]),{},{name:e.name?e.name:s&&s.name,color:e.color?e.color:s&&s.color,type:e.type?e.type:s&&s.type,data:e.data?e.data:s&&s.data})}},{key:"toggleDataPointSelection",value:function(e,t){var i=this.w,s=null,a=".apexcharts-series[data\\:realIndex='".concat(e,"']");return i.globals.axisCharts?s=i.globals.dom.Paper.select("".concat(a," path[j='").concat(t,"'], ").concat(a," circle[j='").concat(t,"'], ").concat(a," rect[j='").concat(t,"']")).members[0]:void 0===t&&(s=i.globals.dom.Paper.select("".concat(a," path[j='").concat(e,"']")).members[0],"pie"!==i.config.chart.type&&"polarArea"!==i.config.chart.type&&"donut"!==i.config.chart.type||this.ctx.pie.pieClicked(e)),s?(new T(this.ctx).pathMouseDown(s,null),s.node?s.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(s){void 0!==e.xaxis[s]&&(t.config.xaxis[s]=e.xaxis[s],t.globals.lastXAxis[s]=e.xaxis[s])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var i=new j(e);e=i.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){var t=this.w;return t.config.chart.stacked&&"100%"===t.config.chart.stackType&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(i,s){e.yaxis[s].min=0,e.yaxis[s].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,i=this.w,s=i.globals.lastXAxis,a=i.globals.lastYAxis;e&&e.xaxis&&(s=e.xaxis),e&&e.yaxis&&(a=e.yaxis),i.config.xaxis.min=s.min,i.config.xaxis.max=s.max,i.config.yaxis.map(function(n,o){i.globals.zoomed||void 0!==a[o]?function(n){void 0!==a[n]&&(i.config.yaxis[n].min=a[n].min,i.config.yaxis[n].max=a[n].max)}(o):void 0!==t.ctx.opts.yaxis[o]&&(n.min=t.ctx.opts.yaxis[o].min,n.max=t.ctx.opts.yaxis[o].max)})}}]),W}();_t="undefined"!=typeof window?window:void 0,Tt=function(W,e){var t=(void 0!==this?this:W).SVG=function(c){if(t.supported)return c=new t.Doc(c),t.parser.draw||t.prepare(),c};if(t.ns="http://www.w3.org/2000/svg",t.xmlns="http://www.w3.org/2000/xmlns/",t.xlink="http://www.w3.org/1999/xlink",t.svgjs="http://svgjs.dev",t.supported=!0,!t.supported)return!1;t.did=1e3,t.eid=function(c){return"Svgjs"+h(c)+t.did++},t.create=function(c){var f=e.createElementNS(this.ns,c);return f.setAttribute("id",this.eid(c)),f},t.extend=function(){var c,f;f=(c=[].slice.call(arguments)).pop();for(var M=c.length-1;M>=0;M--)if(c[M])for(var X in f)c[M].prototype[X]=f[X];t.Set&&t.Set.inherit&&t.Set.inherit()},t.invent=function(c){var f="function"==typeof c.create?c.create:function(){this.constructor.call(this,t.create(c.create))};return c.inherit&&(f.prototype=new c.inherit),c.extend&&t.extend(f,c.extend),c.construct&&t.extend(c.parent||t.Container,c.construct),f},t.adopt=function(c){return c?c.instance?c.instance:((f="svg"==c.nodeName?c.parentNode instanceof W.SVGElement?new t.Nested:new t.Doc:"linearGradient"==c.nodeName?new t.Gradient("linear"):"radialGradient"==c.nodeName?new t.Gradient("radial"):t[h(c.nodeName)]?new(t[h(c.nodeName)]):new t.Element(c)).type=c.nodeName,f.node=c,c.instance=f,f instanceof t.Doc&&f.namespace().defs(),f.setData(JSON.parse(c.getAttribute("svgjs:data"))||{}),f):null;var f},t.prepare=function(){var c=e.getElementsByTagName("body")[0],f=(c?new t.Doc(c):t.adopt(e.documentElement).nested()).size(2,0);t.parser={body:c||e.documentElement,draw:f.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:f.polyline().node,path:f.path().node,native:t.create("svg")}},t.parser={native:t.create("svg")},e.addEventListener("DOMContentLoaded",function(){t.parser.draw||t.prepare()},!1),t.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},t.utils={map:function(c,f){for(var M=c.length,X=[],me=0;me<M;me++)X.push(f(c[me]));return X},filter:function(c,f){for(var M=c.length,X=[],me=0;me<M;me++)f(c[me])&&X.push(c[me]);return X},filterSVGElements:function(c){return this.filter(c,function(f){return f instanceof W.SVGElement})}},t.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},t.Color=function(c){var f,M;this.r=0,this.g=0,this.b=0,c&&("string"==typeof c?t.regex.isRgb.test(c)?(f=t.regex.rgb.exec(c.replace(t.regex.whitespace,"")),this.r=parseInt(f[1]),this.g=parseInt(f[2]),this.b=parseInt(f[3])):t.regex.isHex.test(c)&&(f=t.regex.hex.exec(4==(M=c).length?["#",M.substring(1,2),M.substring(1,2),M.substring(2,3),M.substring(2,3),M.substring(3,4),M.substring(3,4)].join(""):M),this.r=parseInt(f[1],16),this.g=parseInt(f[2],16),this.b=parseInt(f[3],16)):"object"===Me(c)&&(this.r=c.r,this.g=c.g,this.b=c.b))},t.extend(t.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+d(this.r)+d(this.g)+d(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(c){return this.destination=new t.Color(c),this},at:function(c){return this.destination?new t.Color({r:~~(this.r+(this.destination.r-this.r)*(c=c<0?0:c>1?1:c)),g:~~(this.g+(this.destination.g-this.g)*c),b:~~(this.b+(this.destination.b-this.b)*c)}):this}}),t.Color.test=function(c){return t.regex.isHex.test(c+="")||t.regex.isRgb.test(c)},t.Color.isRgb=function(c){return c&&"number"==typeof c.r&&"number"==typeof c.g&&"number"==typeof c.b},t.Color.isColor=function(c){return t.Color.isRgb(c)||t.Color.test(c)},t.Array=function(c,f){0==(c=(c||[]).valueOf()).length&&f&&(c=f.valueOf()),this.value=this.parse(c)},t.extend(t.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(c){return c=c.valueOf(),Array.isArray(c)?c:this.split(c)}}),t.PointArray=function(c,f){t.Array.call(this,c,f||[[0,0]])},t.PointArray.prototype=new t.Array,t.PointArray.prototype.constructor=t.PointArray;for(var i={M:function(c,f,M){return f.x=M.x=c[0],f.y=M.y=c[1],["M",f.x,f.y]},L:function(c,f){return f.x=c[0],f.y=c[1],["L",c[0],c[1]]},H:function(c,f){return f.x=c[0],["H",c[0]]},V:function(c,f){return f.y=c[0],["V",c[0]]},C:function(c,f){return f.x=c[4],f.y=c[5],["C",c[0],c[1],c[2],c[3],c[4],c[5]]},Q:function(c,f){return f.x=c[2],f.y=c[3],["Q",c[0],c[1],c[2],c[3]]},Z:function(c,f,M){return f.x=M.x,f.y=M.y,["Z"]}},s="mlhvqtcsaz".split(""),a=0,r=s.length;a<r;++a)i[s[a]]=function(c){return function(f,M,X){if("H"==c)f[0]=f[0]+M.x;else if("V"==c)f[0]=f[0]+M.y;else if("A"==c)f[5]=f[5]+M.x,f[6]=f[6]+M.y;else for(var me=0,Le=f.length;me<Le;++me)f[me]=f[me]+(me%2?M.y:M.x);if(i&&"function"==typeof i[c])return i[c](f,M,X)}}(s[a].toUpperCase());t.PathArray=function(c,f){t.Array.call(this,c,f||[["M",0,0]])},t.PathArray.prototype=new t.Array,t.PathArray.prototype.constructor=t.PathArray,t.extend(t.PathArray,{toString:function(){return function(c){for(var f=0,M=c.length,X="";f<M;f++)X+=c[f][0],null!=c[f][1]&&(X+=c[f][1],null!=c[f][2]&&(X+=" ",X+=c[f][2],null!=c[f][3]&&(X+=" ",X+=c[f][3],X+=" ",X+=c[f][4],null!=c[f][5]&&(X+=" ",X+=c[f][5],X+=" ",X+=c[f][6],null!=c[f][7]&&(X+=" ",X+=c[f][7])))));return X+" "}(this.value)},move:function(c,f){return this.bbox(),this},at:function(c){if(!this.destination)return this;for(var f=this.value,M=this.destination.value,X=[],me=new t.PathArray,Le=0,we=f.length;Le<we;Le++){X[Le]=[f[Le][0]];for(var Be=1,ze=f[Le].length;Be<ze;Be++)X[Le][Be]=f[Le][Be]+(M[Le][Be]-f[Le][Be])*c;"A"===X[Le][0]&&(X[Le][4]=+(0!=X[Le][4]),X[Le][5]=+(0!=X[Le][5]))}return me.value=X,me},parse:function(c){if(c instanceof t.PathArray)return c.valueOf();var f,M={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};c="string"==typeof c?c.replace(t.regex.numbersWithDots,o).replace(t.regex.pathLetters," $& ").replace(t.regex.hyphen,"$1 -").trim().split(t.regex.delimiter):c.reduce(function(ze,Ve){return[].concat.call(ze,Ve)},[]);var X=[],me=new t.Point,Le=new t.Point,we=0,Be=c.length;do{t.regex.isPathLetter.test(c[we])?(f=c[we],++we):"M"==f?f="L":"m"==f&&(f="l"),X.push(i[f].call(null,c.slice(we,we+=M[f.toUpperCase()]).map(parseFloat),me,Le))}while(Be>we);return X},bbox:function(){return t.parser.draw||t.prepare(),t.parser.path.setAttribute("d",this.toString()),t.parser.path.getBBox()}}),t.Number=t.invent({create:function(c,f){this.value=0,this.unit=f||"","number"==typeof c?this.value=isNaN(c)?0:isFinite(c)?c:c<0?-34e37:34e37:"string"==typeof c?(f=c.match(t.regex.numberAndUnit))&&(this.value=parseFloat(f[1]),"%"==f[5]?this.value/=100:"s"==f[5]&&(this.value*=1e3),this.unit=f[5]):c instanceof t.Number&&(this.value=c.valueOf(),this.unit=c.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(c){return c=new t.Number(c),new t.Number(this+c,this.unit||c.unit)},minus:function(c){return c=new t.Number(c),new t.Number(this-c,this.unit||c.unit)},times:function(c){return c=new t.Number(c),new t.Number(this*c,this.unit||c.unit)},divide:function(c){return c=new t.Number(c),new t.Number(this/c,this.unit||c.unit)},to:function(c){var f=new t.Number(this);return"string"==typeof c&&(f.unit=c),f},morph:function(c){return this.destination=new t.Number(c),c.relative&&(this.destination.value+=this.value),this},at:function(c){return this.destination?new t.Number(this.destination).minus(this).times(c).plus(this):this}}}),t.Element=t.invent({create:function(c){this._stroke=t.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=c)&&(this.type=c.nodeName,this.node.instance=this,this._stroke=c.getAttribute("stroke")||this._stroke)},extend:{x:function(c){return this.attr("x",c)},y:function(c){return this.attr("y",c)},cx:function(c){return null==c?this.x()+this.width()/2:this.x(c-this.width()/2)},cy:function(c){return null==c?this.y()+this.height()/2:this.y(c-this.height()/2)},move:function(c,f){return this.x(c).y(f)},center:function(c,f){return this.cx(c).cy(f)},width:function(c){return this.attr("width",c)},height:function(c){return this.attr("height",c)},size:function(c,f){var M=g(this,c,f);return this.width(new t.Number(M.width)).height(new t.Number(M.height))},clone:function(c){this.writeDataToDom();var f=S(this.node.cloneNode(!0));return c?c.add(f):this.after(f),f},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(c){return this.after(c).remove(),c},addTo:function(c){return c.put(this)},putIn:function(c){return c.add(this)},id:function(c){return this.attr("id",c)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var c=this.attr("class");return null==c?[]:c.trim().split(t.regex.delimiter)},hasClass:function(c){return-1!=this.classes().indexOf(c)},addClass:function(c){if(!this.hasClass(c)){var f=this.classes();f.push(c),this.attr("class",f.join(" "))}return this},removeClass:function(c){return this.hasClass(c)&&this.attr("class",this.classes().filter(function(f){return f!=c}).join(" ")),this},toggleClass:function(c){return this.hasClass(c)?this.removeClass(c):this.addClass(c)},reference:function(c){return t.get(this.attr(c))},parent:function(c){var f=this;if(!f.node.parentNode)return null;if(f=t.adopt(f.node.parentNode),!c)return f;for(;f&&f.node instanceof W.SVGElement;){if("string"==typeof c?f.matches(c):f instanceof c)return f;if(!f.node.parentNode||"#document"==f.node.parentNode.nodeName)return null;f=t.adopt(f.node.parentNode)}},doc:function(){return this instanceof t.Doc?this:this.parent(t.Doc)},parents:function(c){var f=[],M=this;do{if(!(M=M.parent(c))||!M.node)break;f.push(M)}while(M.parent);return f},matches:function(c){return((f=this.node).matches||f.matchesSelector||f.msMatchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector).call(f,c);var f},native:function(){return this.node},svg:function(c){var f=e.createElement("svg");if(!(c&&this instanceof t.Parent))return f.appendChild(c=e.createElement("svg")),this.writeDataToDom(),c.appendChild(this.node.cloneNode(!0)),f.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");f.innerHTML="<svg>"+c.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var M=0,X=f.firstChild.childNodes.length;M<X;M++)this.node.appendChild(f.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(c){return this.dom=c,this},is:function(c){return this instanceof c}}}),t.easing={"-":function(c){return c},"<>":function(c){return-Math.cos(c*Math.PI)/2+.5},">":function(c){return Math.sin(c*Math.PI/2)},"<":function(c){return 1-Math.cos(c*Math.PI/2)}},t.morph=function(c){return function(f,M){return new t.MorphObj(f,M).at(c)}},t.Situation=t.invent({create:function(c){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new t.Number(c.duration).valueOf(),this.delay=new t.Number(c.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=c.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),t.FX=t.invent({create:function(c){this._target=c,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(c,f,M){"object"===Me(c)&&(f=c.ease,M=c.delay,c=c.duration);var X=new t.Situation({duration:c||1e3,delay:M||0,ease:t.easing[f||"-"]||f});return this.queue(X),this},target:function(c){return c&&c instanceof t.Element?(this._target=c,this):this._target},timeToAbsPos:function(c){return(c-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(c){return this.situation.duration/this._speed*c+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=W.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){W.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(c){return("function"==typeof c||c instanceof t.Situation)&&this.situations.push(c),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof t.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var c,f=this.situation;if(f.init)return this;for(var M in f.animations){c=this.target()[M](),Array.isArray(c)||(c=[c]),Array.isArray(f.animations[M])||(f.animations[M]=[f.animations[M]]);for(var X=c.length;X--;)f.animations[M][X]instanceof t.Number&&(c[X]=new t.Number(c[X])),f.animations[M][X]=c[X].morph(f.animations[M][X])}for(var M in f.attrs)f.attrs[M]=new t.MorphObj(this.target().attr(M),f.attrs[M]);for(var M in f.styles)f.styles[M]=new t.MorphObj(this.target().style(M),f.styles[M]);return f.initialTransformation=this.target().matrixify(),f.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(c,f){var M=this.active;return this.active=!1,f&&this.clearQueue(),c&&this.situation&&(!M&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(c){var f=this.last();return this.target().on("finished.fx",function M(X){X.detail.situation==f&&(c.call(this,f),this.off("finished.fx",M))}),this._callStart()},during:function(c){var f=this.last(),M=function(X){X.detail.situation==f&&c.call(this,X.detail.pos,t.morph(X.detail.pos),X.detail.eased,f)};return this.target().off("during.fx",M).on("during.fx",M),this.after(function(){this.off("during.fx",M)}),this._callStart()},afterAll:function(c){var f=function M(X){c.call(this),this.off("allfinished.fx",M)};return this.target().off("allfinished.fx",f).on("allfinished.fx",f),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(c,f,M){return this.last()[M||"animations"][c]=f,this._callStart()},step:function(c){var f,M,X;c||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(f=Math.max(this.absPos,0),M=Math.floor(f),!0===this.situation.loops||M<this.situation.loops?(this.pos=f-M,X=this.situation.loop,this.situation.loop=M):(this.absPos=this.situation.loops,this.pos=1,X=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-X)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var me=this.situation.ease(this.pos);for(var Le in this.situation.once)Le>this.lastPos&&Le<=me&&(this.situation.once[Le].call(this.target(),this.pos,me),delete this.situation.once[Le]);return this.active&&this.target().fire("during",{pos:this.pos,eased:me,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=me,this):this},eachAt:function(){var c,f=this,M=this.target(),X=this.situation;for(var me in X.animations)c=[].concat(X.animations[me]).map(function(Be){return"string"!=typeof Be&&Be.at?Be.at(X.ease(f.pos),f.pos):Be}),M[me].apply(M,c);for(var me in X.attrs)c=[me].concat(X.attrs[me]).map(function(ze){return"string"!=typeof ze&&ze.at?ze.at(X.ease(f.pos),f.pos):ze}),M.attr.apply(M,c);for(var me in X.styles)c=[me].concat(X.styles[me]).map(function(ze){return"string"!=typeof ze&&ze.at?ze.at(X.ease(f.pos),f.pos):ze}),M.style.apply(M,c);if(X.transforms.length){c=X.initialTransformation,me=0;for(var Le=X.transforms.length;me<Le;me++){var we=X.transforms[me];we instanceof t.Matrix?c=we.relative?c.multiply((new t.Matrix).morph(we).at(X.ease(this.pos))):c.morph(we).at(X.ease(this.pos)):(we.relative||we.undo(c.extract()),c=c.multiply(we.at(X.ease(this.pos))))}M.matrix(c)}return this},once:function(c,f,M){var X=this.last();return M||(c=X.ease(c)),X.once[c]=f,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:t.Element,construct:{animate:function(c,f,M){return(this.fx||(this.fx=new t.FX(this))).animate(c,f,M)},delay:function(c){return(this.fx||(this.fx=new t.FX(this))).delay(c)},stop:function(c,f){return this.fx&&this.fx.stop(c,f),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),t.MorphObj=t.invent({create:function(c,f){return t.Color.isColor(f)?new t.Color(c).morph(f):t.regex.delimiter.test(c)?t.regex.pathLetters.test(c)?new t.PathArray(c).morph(f):new t.Array(c).morph(f):t.regex.numberAndUnit.test(f)?new t.Number(c).morph(f):(this.value=c,void(this.destination=f))},extend:{at:function(c,f){return f<1?this.value:this.destination},valueOf:function(){return this.value}}}),t.extend(t.FX,{attr:function(c,f,M){if("object"===Me(c))for(var X in c)this.attr(X,c[X]);else this.add(c,f,"attrs");return this},plot:function(c,f,M,X){return 4==arguments.length?this.plot([c,f,M,X]):this.add("plot",new(this.target().morphArray)(c))}}),t.Box=t.invent({create:function(c,f,M,X){if(!("object"!==Me(c)||c instanceof t.Element))return t.Box.call(this,null!=c.left?c.left:c.x,null!=c.top?c.top:c.y,c.width,c.height);4==arguments.length&&(this.x=c,this.y=f,this.width=M,this.height=X),I(this)}}),t.BBox=t.invent({create:function(c){if(t.Box.apply(this,[].slice.call(arguments)),c instanceof t.Element){var f;try{if(!e.documentElement.contains){for(var M=c.node;M.parentNode;)M=M.parentNode;if(M!=e)throw new Error("Element not in the dom")}f=c.node.getBBox()}catch(me){if(c instanceof t.Shape){t.parser.draw||t.prepare();var X=c.clone(t.parser.draw.instance).show();X&&X.node&&"function"==typeof X.node.getBBox&&(f=X.node.getBBox()),X&&"function"==typeof X.remove&&X.remove()}else f={x:c.node.clientLeft,y:c.node.clientTop,width:c.node.clientWidth,height:c.node.clientHeight}}t.Box.call(this,f)}},inherit:t.Box,parent:t.Element,construct:{bbox:function(){return new t.BBox(this)}}}),t.BBox.prototype.constructor=t.BBox,t.Matrix=t.invent({create:function(c){var f=C([1,0,0,1,0,0]);c=null===c?f:c instanceof t.Element?c.matrixify():"string"==typeof c?C(c.split(t.regex.delimiter).map(parseFloat)):6==arguments.length?C([].slice.call(arguments)):Array.isArray(c)?C(c):c&&"object"===Me(c)?c:f;for(var M=Q.length-1;M>=0;--M)this[Q[M]]=null!=c[Q[M]]?c[Q[M]]:f[Q[M]]},extend:{extract:function(){var c=x(this,0,1);x(this,1,0);var f=180/Math.PI*Math.atan2(c.y,c.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(f*Math.PI/180)+this.f*Math.sin(f*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(f*Math.PI/180)+this.e*Math.sin(-f*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:f,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new t.Matrix(this)}},clone:function(){return new t.Matrix(this)},morph:function(c){return this.destination=new t.Matrix(c),this},multiply:function(c){return new t.Matrix(this.native().multiply((f=c,f instanceof t.Matrix||(f=new t.Matrix(f)),f).native()));var f},inverse:function(){return new t.Matrix(this.native().inverse())},translate:function(c,f){return new t.Matrix(this.native().translate(c||0,f||0))},native:function(){for(var c=t.parser.native.createSVGMatrix(),f=Q.length-1;f>=0;f--)c[Q[f]]=this[Q[f]];return c},toString:function(){return"matrix("+U(this.a)+","+U(this.b)+","+U(this.c)+","+U(this.d)+","+U(this.e)+","+U(this.f)+")"}},parent:t.Element,construct:{ctm:function(){return new t.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof t.Nested){var c=this.rect(1,1),f=c.node.getScreenCTM();return c.remove(),new t.Matrix(f)}return new t.Matrix(this.node.getScreenCTM())}}}),t.Point=t.invent({create:function(c,f){var M;M=Array.isArray(c)?{x:c[0],y:c[1]}:"object"===Me(c)?{x:c.x,y:c.y}:null!=c?{x:c,y:null!=f?f:c}:{x:0,y:0},this.x=M.x,this.y=M.y},extend:{clone:function(){return new t.Point(this)},morph:function(c,f){return this.destination=new t.Point(c,f),this}}}),t.extend(t.Element,{point:function(c,f){return new t.Point(c,f).transform(this.screenCTM().inverse())}}),t.extend(t.Element,{attr:function(c,f,M){if(null==c){for(c={},M=(f=this.node.attributes).length-1;M>=0;M--)c[f[M].nodeName]=t.regex.isNumber.test(f[M].nodeValue)?parseFloat(f[M].nodeValue):f[M].nodeValue;return c}if("object"===Me(c))for(var X in c)this.attr(X,c[X]);else if(null===f)this.node.removeAttribute(c);else{if(null==f)return null==(f=this.node.getAttribute(c))?t.defaults.attrs[c]:t.regex.isNumber.test(f)?parseFloat(f):f;"stroke-width"==c?this.attr("stroke",parseFloat(f)>0?this._stroke:null):"stroke"==c&&(this._stroke=f),"fill"!=c&&"stroke"!=c||(t.regex.isImage.test(f)&&(f=this.doc().defs().image(f,0,0)),f instanceof t.Image&&(f=this.doc().defs().pattern(0,0,function(){this.add(f)}))),"number"==typeof f?f=new t.Number(f):t.Color.isColor(f)?f=new t.Color(f):Array.isArray(f)&&(f=new t.Array(f)),"leading"==c?this.leading&&this.leading(f):"string"==typeof M?this.node.setAttributeNS(M,c,f.toString()):this.node.setAttribute(c,f.toString()),!this.rebuild||"font-size"!=c&&"x"!=c||this.rebuild(c,f)}return this}}),t.extend(t.Element,{transform:function(c,f){var M;return"object"!==Me(c)?(M=new t.Matrix(this).extract(),"string"==typeof c?M[c]:M):(M=new t.Matrix(this),f=!!f||!!c.relative,null!=c.a&&(M=f?M.multiply(new t.Matrix(c)):new t.Matrix(c)),this.attr("transform",M))}}),t.extend(t.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(t.regex.transforms).slice(0,-1).map(function(c){var f=c.trim().split("(");return[f[0],f[1].split(t.regex.delimiter).map(function(M){return parseFloat(M)})]}).reduce(function(c,f){return"matrix"==f[0]?c.multiply(C(f[1])):c[f[0]].apply(c,f[1])},new t.Matrix)},toParent:function(c){if(this==c)return this;var f=this.screenCTM(),M=c.screenCTM().inverse();return this.addTo(c).untransform().transform(M.multiply(f)),this},toDoc:function(){return this.toParent(this.doc())}}),t.Transformation=t.invent({create:function(c,f){if(arguments.length>1&&"boolean"!=typeof f)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(c))for(var M=0,X=this.arguments.length;M<X;++M)this[this.arguments[M]]=c[M];else if(c&&"object"===Me(c))for(M=0,X=this.arguments.length;M<X;++M)this[this.arguments[M]]=c[this.arguments[M]];this.inversed=!1,!0===f&&(this.inversed=!0)}}),t.Translate=t.invent({parent:t.Matrix,inherit:t.Transformation,create:function(c,f){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),t.extend(t.Element,{style:function(c,f){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===Me(c))for(var M in c)this.style(M,c[M]);else{if(!t.regex.isCss.test(c))return this.node.style[l(c)];for(c=c.split(/\s*;\s*/).filter(function(X){return!!X}).map(function(X){return X.split(/\s*:\s*/)});f=c.pop();)this.style(f[0],f[1])}else this.node.style[l(c)]=null===f||t.regex.isBlank.test(f)?"":f;return this}}),t.Parent=t.invent({create:function(c){this.constructor.call(this,c)},inherit:t.Element,extend:{children:function(){return t.utils.map(t.utils.filterSVGElements(this.node.childNodes),function(c){return t.adopt(c)})},add:function(c,f){return null==f?this.node.appendChild(c.node):c.node!=this.node.childNodes[f]&&this.node.insertBefore(c.node,this.node.childNodes[f]),this},put:function(c,f){return this.add(c,f),c},has:function(c){return this.index(c)>=0},index:function(c){return[].slice.call(this.node.childNodes).indexOf(c.node)},get:function(c){return t.adopt(this.node.childNodes[c])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(c,f){for(var M=this.children(),X=0,me=M.length;X<me;X++)M[X]instanceof t.Element&&c.apply(M[X],[X,M]),f&&M[X]instanceof t.Container&&M[X].each(c,f);return this},removeElement:function(c){return this.node.removeChild(c.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),t.extend(t.Parent,{ungroup:function(c,f){return 0===f||this instanceof t.Defs||this.node==t.parser.draw||(c=c||(this instanceof t.Doc?this:this.parent(t.Parent)),f=f||1/0,this.each(function(){return this instanceof t.Defs?this:this instanceof t.Parent?this.ungroup(c,f-1):this.toParent(c)}),this.node.firstChild||this.remove()),this},flatten:function(c,f){return this.ungroup(c,f)}}),t.Container=t.invent({create:function(c){this.constructor.call(this,c)},inherit:t.Parent}),t.ViewBox=t.invent({parent:t.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(c){t.Element.prototype[c]=function(f){return t.on(this.node,c,f),this}}),t.listeners=[],t.handlerMap=[],t.listenerId=0,t.on=function(c,f,M,X,me){var Le=M.bind(X||c.instance||c),we=(t.handlerMap.indexOf(c)+1||t.handlerMap.push(c))-1,Be=f.split(".")[0],ze=f.split(".")[1]||"*";t.listeners[we]=t.listeners[we]||{},t.listeners[we][Be]=t.listeners[we][Be]||{},t.listeners[we][Be][ze]=t.listeners[we][Be][ze]||{},M._svgjsListenerId||(M._svgjsListenerId=++t.listenerId),t.listeners[we][Be][ze][M._svgjsListenerId]=Le,c.addEventListener(Be,Le,me||{passive:!0})},t.off=function(c,f,M){var X=t.handlerMap.indexOf(c),me=f&&f.split(".")[0],Le=f&&f.split(".")[1],we="";if(-1!=X)if(M){if("function"==typeof M&&(M=M._svgjsListenerId),!M)return;t.listeners[X][me]&&t.listeners[X][me][Le||"*"]&&(c.removeEventListener(me,t.listeners[X][me][Le||"*"][M],!1),delete t.listeners[X][me][Le||"*"][M])}else if(Le&&me){if(t.listeners[X][me]&&t.listeners[X][me][Le]){for(var Be in t.listeners[X][me][Le])t.off(c,[me,Le].join("."),Be);delete t.listeners[X][me][Le]}}else if(Le)for(var ze in t.listeners[X])for(var we in t.listeners[X][ze])Le===we&&t.off(c,[ze,Le].join("."));else if(me){if(t.listeners[X][me]){for(var we in t.listeners[X][me])t.off(c,[me,we].join("."));delete t.listeners[X][me]}}else{for(var ze in t.listeners[X])t.off(c,ze);delete t.listeners[X],delete t.handlerMap[X]}},t.extend(t.Element,{on:function(c,f,M,X){return t.on(this.node,c,f,M,X),this},off:function(c,f){return t.off(this.node,c,f),this},fire:function(c,f){return this.node.dispatchEvent(c instanceof W.Event?c:c=new t.CustomEvent(c,{detail:f,cancelable:!0})),this._event=c,this},event:function(){return this._event}}),t.Defs=t.invent({create:"defs",inherit:t.Container}),t.G=t.invent({create:"g",inherit:t.Container,extend:{x:function(c){return null==c?this.transform("x"):this.transform({x:c-this.x()},!0)}},construct:{group:function(){return this.put(new t.G)}}}),t.Doc=t.invent({create:function(c){c&&("svg"==(c="string"==typeof c?e.getElementById(c):c).nodeName?this.constructor.call(this,c):(this.constructor.call(this,t.create("svg")),c.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:t.Container,extend:{namespace:function(){return this.attr({xmlns:t.ns,version:"1.1"}).attr("xmlns:xlink",t.xlink,t.xmlns).attr("xmlns:svgjs",t.svgjs,t.xmlns)},defs:function(){var c;return this._defs||(this._defs=(c=this.node.getElementsByTagName("defs")[0])?t.adopt(c):new t.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,t.parser.draw&&!t.parser.draw.parentNode&&this.node.appendChild(t.parser.draw),this},clone:function(c){this.writeDataToDom();var f=this.node,M=S(f.cloneNode(!0));return c?(c.node||c).appendChild(M.node):f.parentNode.insertBefore(M.node,f.nextSibling),M}}}),t.extend(t.Element,{}),t.Gradient=t.invent({create:function(c){this.constructor.call(this,t.create(c+"Gradient")),this.type=c},inherit:t.Container,extend:{at:function(c,f,M){return this.put(new t.Stop).update(c,f,M)},update:function(c){return this.clear(),"function"==typeof c&&c.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(c,f,M){return"transform"==c&&(c="gradientTransform"),t.Container.prototype.attr.call(this,c,f,M)}},construct:{gradient:function(c,f){return this.defs().gradient(c,f)}}}),t.extend(t.Gradient,t.FX,{from:function(c,f){return this.attr("radial"==(this._target||this).type?{fx:new t.Number(c),fy:new t.Number(f)}:{x1:new t.Number(c),y1:new t.Number(f)})},to:function(c,f){return this.attr("radial"==(this._target||this).type?{cx:new t.Number(c),cy:new t.Number(f)}:{x2:new t.Number(c),y2:new t.Number(f)})}}),t.extend(t.Defs,{gradient:function(c,f){return this.put(new t.Gradient(c)).update(f)}}),t.Stop=t.invent({create:"stop",inherit:t.Element,extend:{update:function(c){return("number"==typeof c||c instanceof t.Number)&&(c={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=c.opacity&&this.attr("stop-opacity",c.opacity),null!=c.color&&this.attr("stop-color",c.color),null!=c.offset&&this.attr("offset",new t.Number(c.offset)),this}}}),t.Pattern=t.invent({create:"pattern",inherit:t.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(c){return this.clear(),"function"==typeof c&&c.call(this,this),this},toString:function(){return this.fill()},attr:function(c,f,M){return"transform"==c&&(c="patternTransform"),t.Container.prototype.attr.call(this,c,f,M)}},construct:{pattern:function(c,f,M){return this.defs().pattern(c,f,M)}}}),t.extend(t.Defs,{pattern:function(c,f,M){return this.put(new t.Pattern).update(M).attr({x:0,y:0,width:c,height:f,patternUnits:"userSpaceOnUse"})}}),t.Shape=t.invent({create:function(c){this.constructor.call(this,c)},inherit:t.Element}),t.Symbol=t.invent({create:"symbol",inherit:t.Container,construct:{symbol:function(){return this.put(new t.Symbol)}}}),t.Use=t.invent({create:"use",inherit:t.Shape,extend:{element:function(c,f){return this.attr("href",(f||"")+"#"+c,t.xlink)}},construct:{use:function(c,f){return this.put(new t.Use).element(c,f)}}}),t.Rect=t.invent({create:"rect",inherit:t.Shape,construct:{rect:function(c,f){return this.put(new t.Rect).size(c,f)}}}),t.Circle=t.invent({create:"circle",inherit:t.Shape,construct:{circle:function(c){return this.put(new t.Circle).rx(new t.Number(c).divide(2)).move(0,0)}}}),t.extend(t.Circle,t.FX,{rx:function(c){return this.attr("r",c)},ry:function(c){return this.rx(c)}}),t.Ellipse=t.invent({create:"ellipse",inherit:t.Shape,construct:{ellipse:function(c,f){return this.put(new t.Ellipse).size(c,f).move(0,0)}}}),t.extend(t.Ellipse,t.Rect,t.FX,{rx:function(c){return this.attr("rx",c)},ry:function(c){return this.attr("ry",c)}}),t.extend(t.Circle,t.Ellipse,{x:function(c){return null==c?this.cx()-this.rx():this.cx(c+this.rx())},y:function(c){return null==c?this.cy()-this.ry():this.cy(c+this.ry())},cx:function(c){return null==c?this.attr("cx"):this.attr("cx",c)},cy:function(c){return null==c?this.attr("cy"):this.attr("cy",c)},width:function(c){return null==c?2*this.rx():this.rx(new t.Number(c).divide(2))},height:function(c){return null==c?2*this.ry():this.ry(new t.Number(c).divide(2))},size:function(c,f){var M=g(this,c,f);return this.rx(new t.Number(M.width).divide(2)).ry(new t.Number(M.height).divide(2))}}),t.Line=t.invent({create:"line",inherit:t.Shape,extend:{array:function(){return new t.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(c,f,M,X){return null==c?this.array():(c=void 0!==f?{x1:c,y1:f,x2:M,y2:X}:new t.PointArray(c).toLine(),this.attr(c))},move:function(c,f){return this.attr(this.array().move(c,f).toLine())},size:function(c,f){var M=g(this,c,f);return this.attr(this.array().size(M.width,M.height).toLine())}},construct:{line:function(c,f,M,X){return t.Line.prototype.plot.apply(this.put(new t.Line),null!=c?[c,f,M,X]:[0,0,0,0])}}}),t.Polyline=t.invent({create:"polyline",inherit:t.Shape,construct:{polyline:function(c){return this.put(new t.Polyline).plot(c||new t.PointArray)}}}),t.Polygon=t.invent({create:"polygon",inherit:t.Shape,construct:{polygon:function(c){return this.put(new t.Polygon).plot(c||new t.PointArray)}}}),t.extend(t.Polyline,t.Polygon,{array:function(){return this._array||(this._array=new t.PointArray(this.attr("points")))},plot:function(c){return null==c?this.array():this.clear().attr("points","string"==typeof c?c:this._array=new t.PointArray(c))},clear:function(){return delete this._array,this},move:function(c,f){return this.attr("points",this.array().move(c,f))},size:function(c,f){var M=g(this,c,f);return this.attr("points",this.array().size(M.width,M.height))}}),t.extend(t.Line,t.Polyline,t.Polygon,{morphArray:t.PointArray,x:function(c){return null==c?this.bbox().x:this.move(c,this.bbox().y)},y:function(c){return null==c?this.bbox().y:this.move(this.bbox().x,c)},width:function(c){var f=this.bbox();return null==c?f.width:this.size(c,f.height)},height:function(c){var f=this.bbox();return null==c?f.height:this.size(f.width,c)}}),t.Path=t.invent({create:"path",inherit:t.Shape,extend:{morphArray:t.PathArray,array:function(){return this._array||(this._array=new t.PathArray(this.attr("d")))},plot:function(c){return null==c?this.array():this.clear().attr("d","string"==typeof c?c:this._array=new t.PathArray(c))},clear:function(){return delete this._array,this}},construct:{path:function(c){return this.put(new t.Path).plot(c||new t.PathArray)}}}),t.Image=t.invent({create:"image",inherit:t.Shape,extend:{load:function(c){if(!c)return this;var f=this,M=new W.Image;return t.on(M,"load",function(){t.off(M);var X=f.parent(t.Pattern);null!==X&&(0==f.width()&&0==f.height()&&f.size(M.width,M.height),X&&0==X.width()&&0==X.height()&&X.size(f.width(),f.height()),"function"==typeof f._loaded&&f._loaded.call(f,{width:M.width,height:M.height,ratio:M.width/M.height,url:c}))}),t.on(M,"error",function(X){t.off(M),"function"==typeof f._error&&f._error.call(f,X)}),this.attr("href",M.src=this.src=c,t.xlink)},loaded:function(c){return this._loaded=c,this},error:function(c){return this._error=c,this}},construct:{image:function(c,f,M){return this.put(new t.Image).load(c).size(f||0,M||f||0)}}}),t.Text=t.invent({create:function(){this.constructor.call(this,t.create("text")),this.dom.leading=new t.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",t.defaults.attrs["font-family"])},inherit:t.Shape,extend:{x:function(c){return null==c?this.attr("x"):this.attr("x",c)},text:function(c){if(void 0===c){c="";for(var f=this.node.childNodes,M=0,X=f.length;M<X;++M)0!=M&&3!=f[M].nodeType&&1==t.adopt(f[M]).dom.newLined&&(c+="\n"),c+=f[M].textContent;return c}if(this.clear().build(!0),"function"==typeof c)c.call(this,this);else{M=0;for(var me=(c=c.split("\n")).length;M<me;M++)this.tspan(c[M]).newLine()}return this.build(!1).rebuild()},size:function(c){return this.attr("font-size",c).rebuild()},leading:function(c){return null==c?this.dom.leading:(this.dom.leading=new t.Number(c),this.rebuild())},lines:function(){var c=(this.textPath&&this.textPath()||this).node,f=t.utils.map(t.utils.filterSVGElements(c.childNodes),function(M){return t.adopt(M)});return new t.Set(f)},rebuild:function(c){if("boolean"==typeof c&&(this._rebuild=c),this._rebuild){var f=this,M=0,X=this.dom.leading*new t.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(f.textPath()||this.attr("x",f.attr("x")),"\n"==this.text()?M+=X:(this.attr("dy",X+M),M=0))}),this.fire("rebuild")}return this},build:function(c){return this._build=!!c,this},setData:function(c){return this.dom=c,this.dom.leading=new t.Number(c.leading||1.3),this}},construct:{text:function(c){return this.put(new t.Text).text(c)},plain:function(c){return this.put(new t.Text).plain(c)}}}),t.Tspan=t.invent({create:"tspan",inherit:t.Shape,extend:{text:function(c){return null==c?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof c?c.call(this,this):this.plain(c),this)},dx:function(c){return this.attr("dx",c)},dy:function(c){return this.attr("dy",c)},newLine:function(){var c=this.parent(t.Text);return this.dom.newLined=!0,this.dy(c.dom.leading*c.attr("font-size")).attr("x",c.x())}}}),t.extend(t.Text,t.Tspan,{plain:function(c){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(c)),this},tspan:function(c){var f=(this.textPath&&this.textPath()||this).node,M=new t.Tspan;return!1===this._build&&this.clear(),f.appendChild(M.node),M.text(c)},clear:function(){for(var c=(this.textPath&&this.textPath()||this).node;c.hasChildNodes();)c.removeChild(c.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),t.TextPath=t.invent({create:"textPath",inherit:t.Parent,parent:t.Text,construct:{morphArray:t.PathArray,array:function(){var c=this.track();return c?c.array():null},plot:function(c){var f=this.track(),M=null;return f&&(M=f.plot(c)),null==c?M:this},track:function(){var c=this.textPath();if(c)return c.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return t.adopt(this.node.firstChild)}}}),t.Nested=t.invent({create:function(){this.constructor.call(this,t.create("svg")),this.style("overflow","visible")},inherit:t.Container,construct:{nested:function(){return this.put(new t.Nested)}}});var n={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(c,f){return"color"==f?c:c+"-"+f}};function o(c,f,M,X){return M+X.replace(t.regex.dots," .")}function l(c){return c.toLowerCase().replace(/-(.)/g,function(f,M){return M.toUpperCase()})}function h(c){return c.charAt(0).toUpperCase()+c.slice(1)}function d(c){var f=c.toString(16);return 1==f.length?"0"+f:f}function g(c,f,M){if(null==f||null==M){var X=c.bbox();null==f?f=X.width/X.height*M:null==M&&(M=X.height/X.width*f)}return{width:f,height:M}}function x(c,f,M){return{x:f*c.a+M*c.c+0,y:f*c.b+M*c.d+0}}function C(c){return{a:c[0],b:c[1],c:c[2],d:c[3],e:c[4],f:c[5]}}function S(c){for(var f=c.childNodes.length-1;f>=0;f--)c.childNodes[f]instanceof W.SVGElement&&S(c.childNodes[f]);return t.adopt(c).id(t.eid(c.nodeName))}function I(c){return null==c.x&&(c.x=0,c.y=0,c.width=0,c.height=0),c.w=c.width,c.h=c.height,c.x2=c.x+c.width,c.y2=c.y+c.height,c.cx=c.x+c.width/2,c.cy=c.y+c.height/2,c}function U(c){return Math.abs(c)>1e-37?c:0}["fill","stroke"].forEach(function(c){var f={};f[c]=function(M){if(void 0===M)return this;if("string"==typeof M||t.Color.isRgb(M)||M&&"function"==typeof M.fill)this.attr(c,M);else for(var X=n[c].length-1;X>=0;X--)null!=M[n[c][X]]&&this.attr(n.prefix(c,n[c][X]),M[n[c][X]]);return this},t.extend(t.Element,t.FX,f)}),t.extend(t.Element,t.FX,{translate:function(c,f){return this.transform({x:c,y:f})},matrix:function(c){return this.attr("transform",new t.Matrix(6==arguments.length?[].slice.call(arguments):c))},opacity:function(c){return this.attr("opacity",c)},dx:function(c){return this.x(new t.Number(c).plus(this instanceof t.FX?0:this.x()),!0)},dy:function(c){return this.y(new t.Number(c).plus(this instanceof t.FX?0:this.y()),!0)}}),t.extend(t.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(c){return this.node.getPointAtLength(c)}}),t.Set=t.invent({create:function(c){Array.isArray(c)?this.members=c:this.clear()},extend:{add:function(){for(var c=[].slice.call(arguments),f=0,M=c.length;f<M;f++)this.members.push(c[f]);return this},remove:function(c){var f=this.index(c);return f>-1&&this.members.splice(f,1),this},each:function(c){for(var f=0,M=this.members.length;f<M;f++)c.apply(this.members[f],[f,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(c){return this.index(c)>=0},index:function(c){return this.members.indexOf(c)},get:function(c){return this.members[c]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(c){return new t.Set(c)}}}),t.FX.Set=t.invent({create:function(c){this.set=c}}),t.Set.inherit=function(){var c=[];for(var f in t.Shape.prototype)"function"==typeof t.Shape.prototype[f]&&"function"!=typeof t.Set.prototype[f]&&c.push(f);for(var f in c.forEach(function(X){t.Set.prototype[X]=function(){for(var me=0,Le=this.members.length;me<Le;me++)this.members[me]&&"function"==typeof this.members[me][X]&&this.members[me][X].apply(this.members[me],arguments);return"animate"==X?this.fx||(this.fx=new t.FX.Set(this)):this}}),c=[],t.FX.prototype)"function"==typeof t.FX.prototype[f]&&"function"!=typeof t.FX.Set.prototype[f]&&c.push(f);c.forEach(function(M){t.FX.Set.prototype[M]=function(){for(var X=0,me=this.set.members.length;X<me;X++)this.set.members[X].fx[M].apply(this.set.members[X].fx,arguments);return this}})},t.extend(t.Element,{}),t.extend(t.Element,{remember:function(c,f){if("object"===Me(arguments[0]))for(var M in c)this.remember(M,c[M]);else{if(1==arguments.length)return this.memory()[c];this.memory()[c]=f}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var c=arguments.length-1;c>=0;c--)delete this.memory()[arguments[c]];return this},memory:function(){return this._memory||(this._memory={})}}),t.get=function(c){var f=e.getElementById(function(M){var X=(M||"").toString().match(t.regex.reference);if(X)return X[1]}(c)||c);return t.adopt(f)},t.select=function(c,f){return new t.Set(t.utils.map((f||e).querySelectorAll(c),function(M){return t.adopt(M)}))},t.extend(t.Parent,{select:function(c){return t.select(c,this.node)}});var Q="abcdef".split("");if("function"!=typeof W.CustomEvent){var se=function(c,f){f=f||{bubbles:!1,cancelable:!1,detail:void 0};var M=e.createEvent("CustomEvent");return M.initCustomEvent(c,f.bubbles,f.cancelable,f.detail),M};se.prototype=W.Event.prototype,t.CustomEvent=se}else t.CustomEvent=W.CustomEvent;return t},void 0!==(z=function(){return Tt(_t,_t.document)}.call(ee,Ee,ee,Ne))&&(Ne.exports=z),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(n,o){return this.add(n,o),!n.attr("in")&&this.autoSetIn&&n.attr("in",this.source),n.attr("result")||n.attr("result",n),n},blend:function(n,o,l){return this.put(new SVG.BlendEffect(n,o,l))},colorMatrix:function(n,o){return this.put(new SVG.ColorMatrixEffect(n,o))},convolveMatrix:function(n){return this.put(new SVG.ConvolveMatrixEffect(n))},componentTransfer:function(n){return this.put(new SVG.ComponentTransferEffect(n))},composite:function(n,o,l){return this.put(new SVG.CompositeEffect(n,o,l))},flood:function(n,o){return this.put(new SVG.FloodEffect(n,o))},offset:function(n,o){return this.put(new SVG.OffsetEffect(n,o))},image:function(n){return this.put(new SVG.ImageEffect(n))},merge:function(){var n=[void 0];for(var o in arguments)n.push(arguments[o]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,n)))},gaussianBlur:function(n,o){return this.put(new SVG.GaussianBlurEffect(n,o))},morphology:function(n,o){return this.put(new SVG.MorphologyEffect(n,o))},diffuseLighting:function(n,o,l){return this.put(new SVG.DiffuseLightingEffect(n,o,l))},displacementMap:function(n,o,l,h,d){return this.put(new SVG.DisplacementMapEffect(n,o,l,h,d))},specularLighting:function(n,o,l,h){return this.put(new SVG.SpecularLightingEffect(n,o,l,h))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(n,o,l,h,d){return this.put(new SVG.TurbulenceEffect(n,o,l,h,d))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(n){var o=this.put(new SVG.Filter);return"function"==typeof n&&n.call(o,o),o}}),SVG.extend(SVG.Container,{filter:function(n){return this.defs().filter(n)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(n){return this.filterer=n instanceof SVG.Element?n:this.doc().filter(n),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(n){return this.filterer&&!0===n&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(n){return null==n?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",n)},result:function(n){return null==n?this.attr("result"):this.attr("result",n)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(n){return null==n?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",n)},result:function(n){return null==n?this.attr("result"):this.attr("result",n)},toString:function(){return this.result()}}});var W={blend:function(n,o){return this.parent()&&this.parent().blend(this,n,o)},colorMatrix:function(n,o){return this.parent()&&this.parent().colorMatrix(n,o).in(this)},convolveMatrix:function(n){return this.parent()&&this.parent().convolveMatrix(n).in(this)},componentTransfer:function(n){return this.parent()&&this.parent().componentTransfer(n).in(this)},composite:function(n,o){return this.parent()&&this.parent().composite(this,n,o)},flood:function(n,o){return this.parent()&&this.parent().flood(n,o)},offset:function(n,o){return this.parent()&&this.parent().offset(n,o).in(this)},image:function(n){return this.parent()&&this.parent().image(n)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(n,o){return this.parent()&&this.parent().gaussianBlur(n,o).in(this)},morphology:function(n,o){return this.parent()&&this.parent().morphology(n,o).in(this)},diffuseLighting:function(n,o,l){return this.parent()&&this.parent().diffuseLighting(n,o,l).in(this)},displacementMap:function(n,o,l,h){return this.parent()&&this.parent().displacementMap(this,n,o,l,h)},specularLighting:function(n,o,l,h){return this.parent()&&this.parent().specularLighting(n,o,l,h).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(n,o,l,h,d){return this.parent()&&this.parent().turbulence(n,o,l,h,d).in(this)}};SVG.extend(SVG.Effect,W),SVG.extend(SVG.ParentEffect,W),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(n){this.attr("in",n)}}});var e={blend:function(n,o,l){this.attr({in:n,in2:o,mode:l||"normal"})},colorMatrix:function(n,o){"matrix"==n&&(o=s(o)),this.attr({type:n,values:void 0===o?null:o})},convolveMatrix:function(n){n=s(n),this.attr({order:Math.sqrt(n.split(" ").length),kernelMatrix:n})},composite:function(n,o,l){this.attr({in:n,in2:o,operator:l})},flood:function(n,o){this.attr("flood-color",n),null!=o&&this.attr("flood-opacity",o)},offset:function(n,o){this.attr({dx:n,dy:o})},image:function(n){this.attr("href",n,SVG.xlink)},displacementMap:function(n,o,l,h,d){this.attr({in:n,in2:o,scale:l,xChannelSelector:h,yChannelSelector:d})},gaussianBlur:function(n,o){this.attr("stdDeviation",null!=n||null!=o?a(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(n,o){this.attr({operator:n,radius:o})},tile:function(){},turbulence:function(n,o,l,h,d){this.attr({numOctaves:o,seed:l,stitchTiles:h,baseFrequency:n,type:d})}},t={merge:function(){var n;if(arguments[0]instanceof SVG.Set){var o=this;arguments[0].each(function(h){this instanceof SVG.MergeNode?o.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&o.put(new SVG.MergeNode(this))})}else{n=Array.isArray(arguments[0])?arguments[0]:arguments;for(var l=0;l<n.length;l++)n[l]instanceof SVG.MergeNode?this.put(n[l]):this.put(new SVG.MergeNode(n[l]))}},componentTransfer:function(n){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(l){this[l]=new(SVG["Func"+l.toUpperCase()])("identity"),this.rgb.add(this[l]),this.node.appendChild(this[l].node)}.bind(this)),n)for(var o in n.rgb&&(["r","g","b"].forEach(function(l){this[l].attr(n.rgb)}.bind(this)),delete n.rgb),n)this[o].attr(n[o])},diffuseLighting:function(n,o,l){this.attr({surfaceScale:n,diffuseConstant:o,kernelUnitLength:l})},specularLighting:function(n,o,l,h){this.attr({surfaceScale:n,diffuseConstant:o,specularExponent:l,kernelUnitLength:h})}},i={distantLight:function(n,o){this.attr({azimuth:n,elevation:o})},pointLight:function(n,o,l){this.attr({x:n,y:o,z:l})},spotLight:function(n,o,l,h,d,g){this.attr({x:n,y:o,z:l,pointsAtX:h,pointsAtY:d,pointsAtZ:g})},mergeNode:function(n){this.attr("in",n)}};function s(n){return Array.isArray(n)&&(n=new SVG.Array(n)),n.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function a(n){if(!Array.isArray(n))return n;for(var o=0,l=n.length,h=[];o<l;o++)h.push(n[o]);return h.join(" ")}function r(){var n=function(){};for(var o in"function"==typeof arguments[arguments.length-1]&&(n=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var l in arguments[o])n(arguments[o][l],l,arguments[o])}["r","g","b","a"].forEach(function(n){i["Func"+n.toUpperCase()]=function(o){switch(this.attr("type",o),o){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),r(e,function(n,o){var l=o.charAt(0).toUpperCase()+o.slice(1);SVG[l+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+l)),n.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),r(t,function(n,o){var l=o.charAt(0).toUpperCase()+o.slice(1);SVG[l+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+l)),n.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),r(i,function(n,o){var l=o.charAt(0).toUpperCase()+o.slice(1);SVG[l]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+l)),n.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(n){return n instanceof SVG.MergeNode?this.add(n,0):this.add(new SVG.MergeNode(n),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(n){return null==n?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",n)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function W(a,r,n,o,l,h,d){for(var g=a.slice(r,n||d),x=o.slice(l,h||d),C=0,S={pos:[0,0],start:[0,0]},I={pos:[0,0],start:[0,0]};g[C]=e.call(S,g[C]),x[C]=e.call(I,x[C]),g[C][0]!=x[C][0]||"M"==g[C][0]||"A"==g[C][0]&&(g[C][4]!=x[C][4]||g[C][5]!=x[C][5])?(Array.prototype.splice.apply(g,[C,1].concat(i.call(S,g[C]))),Array.prototype.splice.apply(x,[C,1].concat(i.call(I,x[C])))):(g[C]=t.call(S,g[C]),x[C]=t.call(I,x[C])),++C!=g.length||C!=x.length;)C==g.length&&g.push(["C",S.pos[0],S.pos[1],S.pos[0],S.pos[1],S.pos[0],S.pos[1]]),C==x.length&&x.push(["C",I.pos[0],I.pos[1],I.pos[0],I.pos[1],I.pos[0],I.pos[1]]);return{start:g,dest:x}}function e(a){switch(a[0]){case"z":case"Z":a[0]="L",a[1]=this.start[0],a[2]=this.start[1];break;case"H":a[0]="L",a[2]=this.pos[1];break;case"V":a[0]="L",a[2]=a[1],a[1]=this.pos[0];break;case"T":a[0]="Q",a[3]=a[1],a[4]=a[2],a[1]=this.reflection[1],a[2]=this.reflection[0];break;case"S":a[0]="C",a[6]=a[4],a[5]=a[3],a[4]=a[2],a[3]=a[1],a[2]=this.reflection[1],a[1]=this.reflection[0]}return a}function t(a){var r=a.length;return this.pos=[a[r-2],a[r-1]],-1!="SCQT".indexOf(a[0])&&(this.reflection=[2*this.pos[0]-a[r-4],2*this.pos[1]-a[r-3]]),a}function i(a){var r=[a];switch(a[0]){case"M":return this.pos=this.start=[a[1],a[2]],r;case"L":a[5]=a[3]=a[1],a[6]=a[4]=a[2],a[1]=this.pos[0],a[2]=this.pos[1];break;case"Q":a[6]=a[4],a[5]=a[3],a[4]=1*a[4]/3+2*a[2]/3,a[3]=1*a[3]/3+2*a[1]/3,a[2]=1*this.pos[1]/3+2*a[2]/3,a[1]=1*this.pos[0]/3+2*a[1]/3;break;case"A":a=(r=function(n,o){var l,h,d,g,x,C,S,I,U,Q,se,c,f,M,X,me,Le,we,Be,ze,Ve,je,it,Ke,ht,pt,vt=Math.abs(o[1]),At=Math.abs(o[2]),kt=o[3]%360,Zt=o[4],Rt=o[5],It=o[6],Ft=o[7],mt=new SVG.Point(n),dt=new SVG.Point(It,Ft),Wt=[];if(0===vt||0===At||mt.x===dt.x&&mt.y===dt.y)return[["C",mt.x,mt.y,dt.x,dt.y,dt.x,dt.y]];for((h=(l=new SVG.Point((mt.x-dt.x)/2,(mt.y-dt.y)/2).transform((new SVG.Matrix).rotate(kt))).x*l.x/(vt*vt)+l.y*l.y/(At*At))>1&&(vt*=h=Math.sqrt(h),At*=h),d=(new SVG.Matrix).rotate(kt).scale(1/vt,1/At).rotate(-kt),mt=mt.transform(d),C=(g=[(dt=dt.transform(d)).x-mt.x,dt.y-mt.y])[0]*g[0]+g[1]*g[1],x=Math.sqrt(C),g[0]/=x,g[1]/=x,S=C<4?Math.sqrt(1-C/4):0,Zt===Rt&&(S*=-1),I=new SVG.Point((dt.x+mt.x)/2+S*-g[1],(dt.y+mt.y)/2+S*g[0]),U=new SVG.Point(mt.x-I.x,mt.y-I.y),Q=new SVG.Point(dt.x-I.x,dt.y-I.y),se=Math.acos(U.x/Math.sqrt(U.x*U.x+U.y*U.y)),U.y<0&&(se*=-1),c=Math.acos(Q.x/Math.sqrt(Q.x*Q.x+Q.y*Q.y)),Q.y<0&&(c*=-1),Rt&&se>c&&(c+=2*Math.PI),!Rt&&se<c&&(c-=2*Math.PI),me=[],Le=se,f=(c-se)/(M=Math.ceil(2*Math.abs(se-c)/Math.PI)),X=4*Math.tan(f/4)/3,Ve=0;Ve<=M;Ve++)Be=Math.cos(Le),we=Math.sin(Le),ze=new SVG.Point(I.x+Be,I.y+we),me[Ve]=[new SVG.Point(ze.x+X*we,ze.y-X*Be),ze,new SVG.Point(ze.x-X*we,ze.y+X*Be)],Le+=f;for(me[0][0]=me[0][1].clone(),me[me.length-1][2]=me[me.length-1][1].clone(),d=(new SVG.Matrix).rotate(kt).scale(vt,At).rotate(-kt),Ve=0,je=me.length;Ve<je;Ve++)me[Ve][0]=me[Ve][0].transform(d),me[Ve][1]=me[Ve][1].transform(d),me[Ve][2]=me[Ve][2].transform(d);for(Ve=1,je=me.length;Ve<je;Ve++)it=(ze=me[Ve-1][2]).x,Ke=ze.y,ht=(ze=me[Ve][0]).x,pt=ze.y,It=(ze=me[Ve][1]).x,Wt.push(["C",it,Ke,ht,pt,It,Ft=ze.y]);return Wt}(this.pos,a))[0]}return a[0]="C",this.pos=[a[5],a[6]],this.reflection=[2*a[5]-a[3],2*a[6]-a[4]],r}function s(a,r){if(!1===r)return!1;for(var n=r,o=a.length;n<o;++n)if("M"==a[n][0])return n;return!1}SVG.extend(SVG.PathArray,{morph:function(a){for(var r=this.value,n=this.parse(a),o=0,l=0,h=!1,d=!1;!1!==o||!1!==l;){var g;h=s(r,!1!==o&&o+1),d=s(n,!1!==l&&l+1),!1===o&&(o=0==(g=new SVG.PathArray(x.start).bbox()).height||0==g.width?r.push(r[0])-1:r.push(["M",g.x+g.width/2,g.y+g.height/2])-1),!1===l&&(l=0==(g=new SVG.PathArray(x.dest).bbox()).height||0==g.width?n.push(n[0])-1:n.push(["M",g.x+g.width/2,g.y+g.height/2])-1);var x=W(r,o,h,n,l,d);r=r.slice(0,o).concat(x.start,!1===h?[]:r.slice(h)),n=n.slice(0,l).concat(x.dest,!1===d?[]:n.slice(d)),o=!1!==h&&o+x.start.length,l=!1!==d&&l+x.dest.length}return this.value=r,this.destination=new SVG.PathArray,this.destination.value=n,this}})}(),function(){function W(e){e.remember("_draggable",this),this.el=e}W.prototype.init=function(e,t){var i=this;this.constraint=e,this.value=t,this.el.on("mousedown.drag",function(s){i.start(s)}),this.el.on("touchstart.drag",function(s){i.start(s)})},W.prototype.transformPoint=function(e,t){var i=(e=e||window.event).changedTouches&&e.changedTouches[0]||e;return this.p.x=i.clientX-(t||0),this.p.y=i.clientY,this.p.matrixTransform(this.m)},W.prototype.getBBox=function(){var e=this.el.bbox();return this.el instanceof SVG.Nested&&(e=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(e.x=this.el.x(),e.y=this.el.y()),e},W.prototype.start=function(e){if("click"!=e.type&&"mousedown"!=e.type&&"mousemove"!=e.type||1==(e.which||e.buttons)){var t=this;if(this.el.fire("beforedrag",{event:e,handler:this}),!this.el.event().defaultPrevented){e.preventDefault(),e.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var i,s=this.getBBox();if(this.el instanceof SVG.Text)switch(i=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":i/=2;break;case"start":i=0}this.startPoints={point:this.transformPoint(e,i),box:s,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(a){t.drag(a)}),SVG.on(window,"touchmove.drag",function(a){t.drag(a)}),SVG.on(window,"mouseup.drag",function(a){t.end(a)}),SVG.on(window,"touchend.drag",function(a){t.end(a)}),this.el.fire("dragstart",{event:e,p:this.startPoints.point,m:this.m,handler:this})}}},W.prototype.drag=function(e){var t=this.getBBox(),i=this.transformPoint(e),s=this.startPoints.box.x+i.x-this.startPoints.point.x,a=this.startPoints.box.y+i.y-this.startPoints.point.y,r=this.constraint,n=i.x-this.startPoints.point.x,o=i.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:e,p:i,m:this.m,handler:this}),this.el.event().defaultPrevented)return i;if("function"==typeof r){var l=r.call(this.el,s,a,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(s):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(a):!1!==l.y&&this.el.y(l.y)}else"object"==typeof r&&(null!=r.minX&&s<r.minX?n=(s=r.minX)-this.startPoints.box.x:null!=r.maxX&&s>r.maxX-t.width&&(n=(s=r.maxX-t.width)-this.startPoints.box.x),null!=r.minY&&a<r.minY?o=(a=r.minY)-this.startPoints.box.y:null!=r.maxY&&a>r.maxY-t.height&&(o=(a=r.maxY-t.height)-this.startPoints.box.y),null!=r.snapToGrid&&(s-=s%r.snapToGrid,a-=a%r.snapToGrid,n-=n%r.snapToGrid,o-=o%r.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:n,y:o},!0):this.el.move(s,a));return i},W.prototype.end=function(e){var t=this.drag(e);this.el.fire("dragend",{event:e,p:t,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(e,t){"function"!=typeof e&&"object"!=typeof e||(t=e,e=!0);var i=this.remember("_draggable")||new W(this);return(e=void 0===e||e)?i.init(t||{},e):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function W(e){this.el=e,e.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,i,s){var a="string"!=typeof t?t:i[t];return s?a/2:a},this.pointCoords=function(t,i){var s=this.pointsList[t];return{x:this.pointCoord(s[0],i,"t"===t||"b"===t),y:this.pointCoord(s[1],i,"r"===t||"l"===t)}}}W.prototype.init=function(e,t){var i=this.el.bbox();this.options={};var s=this.el.selectize.defaults.points;for(var a in this.el.selectize.defaults)this.options[a]=this.el.selectize.defaults[a],void 0!==t[a]&&(this.options[a]=t[a]);var r=["points","pointsExclude"];for(var a in r){var n=this.options[r[a]];"string"==typeof n?n=n.length>0?n.split(/\s*,\s*/i):[]:"boolean"==typeof n&&"points"===r[a]&&(n=n?s:[]),this.options[r[a]]=n}this.options.points=[s,this.options.points].reduce(function(o,l){return o.filter(function(h){return l.indexOf(h)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(o,l){return o.filter(function(h){return l.indexOf(h)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(e):this.selectRect(e),this.observe(),this.cleanup()},W.prototype.selectPoints=function(e){return this.pointSelection.isSelected=e,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},W.prototype.getPointArray=function(){var e=this.el.bbox();return this.el.array().valueOf().map(function(t){return[t[0]-e.x,t[1]-e.y]})},W.prototype.drawPoints=function(){for(var e=this,t=this.getPointArray(),i=0,s=t.length;i<s;++i){var a=function(n){return function(o){(o=o||window.event).preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation(),e.el.fire("point",{x:o.pageX||o.touches[0].pageX,y:o.pageY||o.touches[0].pageY,i:n,event:o})}}(i),r=this.drawPoint(t[i][0],t[i][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",a).on("mousedown",a);this.pointSelection.set.add(r)}},W.prototype.drawPoint=function(e,t){var i=this.options.pointType;switch(i){case"circle":return this.drawCircle(e,t);case"rect":return this.drawRect(e,t);default:if("function"==typeof i)return i.call(this,e,t);throw new Error("Unknown "+i+" point type!")}},W.prototype.drawCircle=function(e,t){return this.nested.circle(this.options.pointSize).center(e,t)},W.prototype.drawRect=function(e,t){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(e,t)},W.prototype.updatePointSelection=function(){var e=this.getPointArray();this.pointSelection.set.each(function(t){this.cx()===e[t][0]&&this.cy()===e[t][1]||this.center(e[t][0],e[t][1])})},W.prototype.updateRectSelection=function(){var e=this,t=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:t.width,height:t.height}),this.options.points.length&&this.options.points.map(function(s,a){var r=e.pointCoords(s,t);e.rectSelection.set.get(a+1).center(r.x,r.y)}),this.options.rotationPoint){var i=this.rectSelection.set.length();this.rectSelection.set.get(i-1).center(t.width/2,20)}},W.prototype.selectRect=function(e){var t=this,i=this.el.bbox();function s(n){return function(o){(o=o||window.event).preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation(),t.el.fire(n,{x:o.pageX||o.touches[0].pageX,y:o.pageY||o.touches[0].pageY,event:o})}}if(this.rectSelection.isSelected=e,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(i.width,i.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(n,o){var l=t.pointCoords(n,i),h=t.drawPoint(l.x,l.y).attr("class",t.options.classPoints+"_"+n).on("mousedown",s(n)).on("touchstart",s(n));t.rectSelection.set.add(h)}),this.rectSelection.set.each(function(){this.addClass(t.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var a=function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation(),t.el.fire("rot",{x:n.pageX||n.touches[0].pageX,y:n.pageY||n.touches[0].pageY,event:n})},r=this.drawPoint(i.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",a).on("mousedown",a);this.rectSelection.set.add(r)}},W.prototype.handler=function(){var e=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(e.x,e.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},W.prototype.observe=function(){var e=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){e.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){e.handler()})},W.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(e,t){return"object"==typeof e&&(t=e,e=!0),(this.remember("_selectHandler")||new W(this)).init(void 0===e||e,t||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function W(e){e.remember("_resizeHandler",this),this.el=e,this.parameters={},this.lastUpdateCall=null,this.p=e.doc().node.createSVGPoint()}W.prototype.transformPoint=function(e,t,i){return this.p.x=e-(this.offset.x-window.pageXOffset),this.p.y=t-(this.offset.y-window.pageYOffset),this.p.matrixTransform(i||this.m)},W.prototype._extractPosition=function(e){return{x:null!=e.clientX?e.clientX:e.touches[0].clientX,y:null!=e.clientY?e.clientY:e.touches[0].clientY}},W.prototype.init=function(e){var t=this;if(this.stop(),"stop"!==e){for(var i in this.options={},this.el.resize.defaults)this.options[i]=this.el.resize.defaults[i],void 0!==e[i]&&(this.options[i]=e[i]);this.el.on("lt.resize",function(s){t.resize(s||window.event)}),this.el.on("rt.resize",function(s){t.resize(s||window.event)}),this.el.on("rb.resize",function(s){t.resize(s||window.event)}),this.el.on("lb.resize",function(s){t.resize(s||window.event)}),this.el.on("t.resize",function(s){t.resize(s||window.event)}),this.el.on("r.resize",function(s){t.resize(s||window.event)}),this.el.on("b.resize",function(s){t.resize(s||window.event)}),this.el.on("l.resize",function(s){t.resize(s||window.event)}),this.el.on("rot.resize",function(s){t.resize(s||window.event)}),this.el.on("point.resize",function(s){t.resize(s||window.event)}),this.update()}},W.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},W.prototype.resize=function(e){var t=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var i=this._extractPosition(e.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(i.x,i.y),x:e.detail.x,y:e.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==e.detail.i){var s=this.el.array().valueOf();this.parameters.i=e.detail.i,this.parameters.pointCoords=[s[e.detail.i][0],s[e.detail.i][1]]}switch(e.type){case"lt":this.calc=function(a,r){var n=this.snapToGrid(a,r);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y+n[1]).size(this.parameters.box.width-n[0],this.parameters.box.height-n[1])}};break;case"rt":this.calc=function(a,r){var n=this.snapToGrid(a,r,2);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).size(this.parameters.box.width+n[0],this.parameters.box.height-n[1])}};break;case"rb":this.calc=function(a,r){var n=this.snapToGrid(a,r,0);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+n[0],this.parameters.box.height+n[1])}};break;case"lb":this.calc=function(a,r){var n=this.snapToGrid(a,r,1);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).size(this.parameters.box.width-n[0],this.parameters.box.height+n[1])}};break;case"t":this.calc=function(a,r){var n=this.snapToGrid(a,r,2);if(this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).height(this.parameters.box.height-n[1])}};break;case"r":this.calc=function(a,r){var n=this.snapToGrid(a,r,0);if(this.parameters.box.width+n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+n[0])}};break;case"b":this.calc=function(a,r){var n=this.snapToGrid(a,r,0);if(this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+n[1])}};break;case"l":this.calc=function(a,r){var n=this.snapToGrid(a,r,1);if(this.parameters.box.width-n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).width(this.parameters.box.width-n[0])}};break;case"rot":this.calc=function(a,r){var n=a+this.parameters.p.x,o=r+this.parameters.p.y,l=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),h=Math.atan2(o-this.parameters.box.y-this.parameters.box.height/2,n-this.parameters.box.x-this.parameters.box.width/2),d=this.parameters.rotation+180*(h-l)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(d-d%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(a,r){var n=this.snapToGrid(a,r,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),o=this.el.array().valueOf();o[this.parameters.i][0]=this.parameters.pointCoords[0]+n[0],o[this.parameters.i][1]=this.parameters.pointCoords[1]+n[1],this.el.plot(o)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:e}),SVG.on(window,"touchmove.resize",function(a){t.update(a||window.event)}),SVG.on(window,"touchend.resize",function(){t.done()}),SVG.on(window,"mousemove.resize",function(a){t.update(a||window.event)}),SVG.on(window,"mouseup.resize",function(){t.done()})},W.prototype.update=function(e){if(e){var t=this._extractPosition(e),i=this.transformPoint(t.x,t.y),s=i.x-this.parameters.p.x,a=i.y-this.parameters.p.y;this.lastUpdateCall=[s,a],this.calc(s,a),this.el.fire("resizing",{dx:s,dy:a,event:e})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},W.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},W.prototype.snapToGrid=function(e,t,i,s){var a;return a=void 0!==s?[(i+e)%this.options.snapToGrid,(s+t)%this.options.snapToGrid]:[(this.parameters.box.x+e+(1&(i=null==i?3:i)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+t+(2&i?0:this.parameters.box.height))%this.options.snapToGrid],e<0&&(a[0]-=this.options.snapToGrid),t<0&&(a[1]-=this.options.snapToGrid),e-=Math.abs(a[0])<this.options.snapToGrid/2?a[0]:a[0]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),t-=Math.abs(a[1])<this.options.snapToGrid/2?a[1]:a[1]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(e,t,i,s)},W.prototype.constraintToBox=function(e,t,i,s){var a,r,n=this.options.constraint||{};return void 0!==s?(a=i,r=s):(a=this.parameters.box.x+(1&i?0:this.parameters.box.width),r=this.parameters.box.y+(2&i?0:this.parameters.box.height)),void 0!==n.minX&&a+e<n.minX&&(e=n.minX-a),void 0!==n.maxX&&a+e>n.maxX&&(e=n.maxX-a),void 0!==n.minY&&r+t<n.minY&&(t=n.minY-r),void 0!==n.maxY&&r+t>n.maxY&&(t=n.maxY-r),[e,t]},W.prototype.checkAspectRatio=function(e,t){if(!this.options.saveAspectRatio)return e;var i=e.slice(),s=this.parameters.box.width/this.parameters.box.height,a=this.parameters.box.width+e[0],r=this.parameters.box.height-e[1],n=a/r;return n<s?(i[1]=a/s-this.parameters.box.height,t&&(i[1]=-i[1])):n>s&&(i[0]=this.parameters.box.width-r*s,t&&(i[0]=-i[0])),i},SVG.extend(SVG.Element,{resize:function(e){return(this.remember("_resizeHandler")||new W(this)).init(e||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Ht=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new m(this.ctx),this.ctx.axes=new ve(this.ctx),this.ctx.core=new Ct(this.ctx.el,this.ctx),this.ctx.config=new q({}),this.ctx.data=new fe(this.ctx),this.ctx.grid=new De(this.ctx),this.ctx.graphics=new T(this.ctx),this.ctx.coreUtils=new F(this.ctx),this.ctx.crosshairs=new $(this.ctx),this.ctx.events=new re(this.ctx),this.ctx.exports=new Ce(this.ctx),this.ctx.localization=new Pe(this.ctx),this.ctx.options=new oe,this.ctx.responsive=new be(this.ctx),this.ctx.series=new _(this.ctx),this.ctx.theme=new ae(this.ctx),this.ctx.formatters=new Ae(this.ctx),this.ctx.titleSubtitle=new ye(this.ctx),this.ctx.legend=new Je(this.ctx),this.ctx.toolbar=new ot(this.ctx),this.ctx.dimensions=new tt(this.ctx),this.ctx.updateHelpers=new Et(this.ctx),this.ctx.zoomPanSelection=new nt(this.ctx),this.ctx.w.globals.tooltip=new Qe(this.ctx)}}]),W}(),Vt=function(){function W(e){ue(this,W),this.ctx=e,this.w=e.w}return u(W,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(t,i){this.removeClass("*"),this.off(),this.stop()},!0),e.ungroup(),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,s=this.w.globals.dom.Paper.node;s.parentNode&&s.parentNode.parentNode&&!e.isUpdating&&(s.parentNode.parentNode.style.minHeight="unset");var a=this.w.globals.dom.baseEl;a&&this.ctx.eventList.forEach(function(n){a.removeEventListener(n,t.ctx.events.documentEvent)});var r=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(r.Paper),r.Paper.remove(),r.elWrap=null,r.elGraphical=null,r.elAnnotations=null,r.elLegendWrap=null,r.baseEl=null,r.elGridRect=null,r.elGridRectMask=null,r.elGridRectMarkerMask=null,r.elForecastMask=null,r.elNonForecastMask=null,r.elDefs=null}}]),W}(),Ot=new WeakMap,qt=function(){function W(e,t){ue(this,W),this.opts=t,this.ctx=this,this.w=new N(t).init(),this.el=e,this.w.globals.cuid=w.randomId(),this.w.globals.chartID=this.w.config.chart.id?w.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ht(this).initModules(),this.create=w.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return u(W,[{key:"render",value:function(){var e=this;return new Promise(function(t,i){if(null!==e.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var s=e.w.config.chart.events.beforeMount;if("function"==typeof s&&s(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(h,d){var g=!1,x=h.getBoundingClientRect();"none"!==h.style.display&&0!==x.width||(g=!0);var C=new ResizeObserver(function(S){g&&d.call(h,S),g=!0});h.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(h.children).forEach(function(S){return C.observe(S)}):C.observe(h),Ot.set(d,C)}(e.el.parentNode,e.parentResizeHandler),!e.css){var a=e.el.getRootNode&&e.el.getRootNode(),r=w.is("ShadowRoot",a),n=e.el.ownerDocument,o=n.getElementById("apexcharts-css");!r&&o||(e.css=document.createElement("style"),e.css.id="apexcharts-css",e.css.textContent='.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-title:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}',r?a.prepend(e.css):n.head.appendChild(e.css))}var l=e.create(e.w.config.series,{});if(!l)return t(e);e.mount(l).then(function(){"function"==typeof e.w.config.chart.events.mounted&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(l)}).catch(function(h){i(h)})}else i(new Error("Element not found"))})}},{key:"create",value:function(e,t){var i=this.w;new Ht(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,this.responsive.checkResponsiveConfig(t),i.config.xaxis.convertedCatToNumeric&&new j(i.config).convertCatToNumericXaxis(i.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===i.config.chart.type&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),0===s.svgWidth))return s.animationEnded=!0,null;var a=F.checkComboSeries(e);s.comboCharts=a.comboCharts,s.comboBarCount=a.comboBarCount;var r=e.every(function(d){return d.data&&0===d.data.length});(0===e.length||r)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(e),this.theme.init(),new ie(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),"category"!==i.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new F(this).getLargestMarkerSize(),this.dimensions.plotCoords();var n=this.core.xySettings();this.grid.createGridMask();var o=this.core.plotChartType(e,n),l=new V(this);return l.bringForward(),i.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:o,xyRatios:n,elInner:i.globals.dom.elGraphical,dimensions:{plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this,s=i.w;return new Promise(function(a,r){if(null===i.el)return r(new Error("Not enough data to display or target element not found"));(null===t||s.globals.allSeriesCollapsed)&&i.series.handleNoData(),"treemap"!==s.config.chart.type&&i.axes.drawAxis(s.config.chart.type,t.xyRatios),i.grid=new De(i);var n=i.grid.drawGrid();i.annotations=new le(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),"back"===s.config.grid.position&&n&&s.globals.dom.elGraphical.add(n.el);var o=new Te(e.ctx),l=new L(e.ctx);if(null!==n&&(o.xAxisLabelCorrections(n.xAxisTickWidth),l.setYAxisTextAlignments(),s.config.yaxis.map(function(g,x){-1===s.globals.ignoreYAxisIndexes.indexOf(x)&&l.yAxisTitleRotate(x,g.opposite)})),"back"===s.config.annotations.position&&(s.globals.dom.Paper.add(s.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),Array.isArray(t.elGraph))for(var h=0;h<t.elGraph.length;h++)s.globals.dom.elGraphical.add(t.elGraph[h]);else s.globals.dom.elGraphical.add(t.elGraph);if("front"===s.config.grid.position&&n&&s.globals.dom.elGraphical.add(n.el),"front"===s.config.xaxis.crosshairs.position&&i.crosshairs.drawXCrosshairs(),"front"===s.config.yaxis[0].crosshairs.position&&i.crosshairs.drawYCrosshairs(),"front"===s.config.annotations.position&&(s.globals.dom.Paper.add(s.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),!s.globals.noData){if(s.config.tooltip.enabled&&!s.globals.noData&&i.w.globals.tooltip.drawTooltip(t.xyRatios),s.globals.axisCharts&&(s.globals.isXNumeric||s.config.xaxis.convertedCatToNumeric||s.globals.isRangeBar))(s.config.chart.zoom.enabled||s.config.chart.selection&&s.config.chart.selection.enabled||s.config.chart.pan&&s.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:t.xyRatios});else{var d=s.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(g){d[g]=!1})}s.config.chart.toolbar.show&&!s.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}s.globals.memory.methodsToExec.length>0&&s.globals.memory.methodsToExec.forEach(function(g){g.method(g.params,!1,g.context)}),s.globals.axisCharts||s.globals.noData||i.core.resizeNonAxisCharts(),a(i)})}},{key:"destroy",value:function(){var e,t;window.removeEventListener("resize",this.windowResizeHandler),(t=Ot.get(e=this.parentResizeHandler))&&(t.disconnect(),Ot.delete(e));var i=this.w.config.chart.id;i&&Apex._chartInstances.forEach(function(s,a){s.id===w.escapeString(i)&&Apex._chartInstances.splice(a,1)}),new Vt(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=this.w;return n.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(o,l){return t.updateHelpers._extendSeries(o,l)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),n.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,i,s,a,r)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,i)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.w.config.series.slice();return s.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(s,t,i)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this;i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var s=i.w.config.series.slice(),a=0;a<s.length;a++)if(null!=e[a])for(var r=0;r<e[a].data.length;r++)s[a].data.push(e[a].data[r]);return i.w.config.series=s,t&&(i.w.globals.initialSeries=w.clone(i.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(i,s){new Vt(t.ctx).clear({isUpdating:!0});var a=t.create(t.w.config.series,e);if(!a)return i(t);t.mount(a).then(function(){"function"==typeof t.w.config.chart.events.updated&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,i(t)}).catch(function(r){s(r)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(i){t.push(i)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addXaxisAnnotationExternal(e,t,s)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addYaxisAnnotationExternal(e,t,s)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addPointAnnotationExternal(e,t,s)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=this;t&&(i=t),i.annotations.removeAnnotation(i,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new He(this.ctx);return t.getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new He(this.ctx);return t.getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Ce(this.ctx).dataURI(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;"function"==typeof e&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=w.escapeString(e),i=Apex._chartInstances.filter(function(s){return s.id===t})[0];return i&&i.chart}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new W(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var i=this.getChartByID(e);if(i){i.w.globals.isExecCalled=!0;var s=null;if(-1!==i.publicMethods.indexOf(t)){for(var a=arguments.length,r=new Array(a>2?a-2:0),n=2;n<a;n++)r[n-2]=arguments[n];s=i[t].apply(i,r)}return s}}},{key:"merge",value:function(e,t){return w.extend(e,t)}}]),W}();Ne.exports=qt},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,Ee;Ee=function(){return(()=>{"use strict";var __webpack_modules__=[,(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.VerbosityLevel=ee.Util=ee.UnknownErrorException=ee.UnexpectedResponseException=ee.UNSUPPORTED_FEATURES=ee.TextRenderingMode=ee.StreamType=ee.RenderingIntentFlag=ee.PermissionFlag=ee.PasswordResponses=ee.PasswordException=ee.PageActionEventType=ee.OPS=ee.MissingPDFException=ee.IsLittleEndianCached=ee.IsEvalSupportedCached=ee.InvalidPDFException=ee.ImageKind=ee.IDENTITY_MATRIX=ee.FormatError=ee.FontType=ee.FONT_IDENTITY_MATRIX=ee.DocumentActionEventType=ee.CMapCompressionType=ee.BaseException=ee.AnnotationType=ee.AnnotationStateModelType=ee.AnnotationReviewState=ee.AnnotationReplyType=ee.AnnotationMode=ee.AnnotationMarkedState=ee.AnnotationFlag=ee.AnnotationFieldFlag=ee.AnnotationBorderStyleType=ee.AnnotationActionEventType=ee.AbortException=void 0,ee.arrayByteLength=Ce,ee.arraysToBytes=function Te(Oe){const Se=Oe.length;if(1===Se&&Oe[0]instanceof Uint8Array)return Oe[0];let ke=0;for(let Ze=0;Ze<Se;Ze++)ke+=Ce(Oe[Ze]);let We=0;const Ye=new Uint8Array(ke);for(let Ze=0;Ze<Se;Ze++){let Qe=Oe[Ze];Qe instanceof Uint8Array||(Qe="string"==typeof Qe?_e(Qe):new Uint8Array(Qe));const ct=Qe.byteLength;Ye.set(Qe,We),We+=ct}return Ye},ee.assert=function xe(Oe,Se){Oe||ie(Se)},ee.bytesToString=function Ae(Oe){("object"!=typeof Oe||null===Oe||void 0===Oe.length)&&ie("Invalid argument for bytesToString");const Se=Oe.length;if(Se<8192)return String.fromCharCode.apply(null,Oe);const We=[];for(let Ye=0;Ye<Se;Ye+=8192){const Ze=Math.min(Ye+8192,Se),Qe=Oe.subarray(Ye,Ze);We.push(String.fromCharCode.apply(null,Qe))}return We.join("")},ee.createPromiseCapability=function nt(){const Oe=Object.create(null);let Se=!1;return Object.defineProperty(Oe,"settled",{get:()=>Se}),Oe.promise=new Promise(function(ke,We){Oe.resolve=function(Ye){Se=!0,ke(Ye)},Oe.reject=function(Ye){Se=!0,We(Ye)}}),Oe},ee.createValidAbsoluteUrl=function _(Oe,Se=null,ke=null){if(!Oe)return null;try{if(ke&&"string"==typeof Oe){if(ke.addDefaultProtocol&&Oe.startsWith("www.")){const Ye=Oe.match(/\./g);Ye&&Ye.length>=2&&(Oe=`http://${Oe}`)}if(ke.tryConvertEncoding)try{Oe=$e(Oe)}catch(Ye){}}const We=Se?new URL(Oe,Se):new URL(Oe);if(function E(Oe){if(!Oe)return!1;switch(Oe.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(We))return We}catch(We){}return null},ee.escapeString=function Re(Oe){return Oe.replace(/([()\\\n\r])/g,Se=>"\n"===Se?"\\n":"\r"===Se?"\\r":`\\${Se}`)},ee.getModificationDate=function ot(Oe=new Date){return[Oe.getUTCFullYear().toString(),(Oe.getUTCMonth()+1).toString().padStart(2,"0"),Oe.getUTCDate().toString().padStart(2,"0"),Oe.getUTCHours().toString().padStart(2,"0"),Oe.getUTCMinutes().toString().padStart(2,"0"),Oe.getUTCSeconds().toString().padStart(2,"0")].join("")},ee.getVerbosityLevel=function oe(){return de},ee.info=function le(Oe){de>=T.INFOS&&console.log(`Info: ${Oe}`)},ee.isArrayBuffer=function qe(Oe){return"object"==typeof Oe&&null!==Oe&&void 0!==Oe.byteLength},ee.isArrayEqual=function Je(Oe,Se){if(Oe.length!==Se.length)return!1;for(let ke=0,We=Oe.length;ke<We;ke++)if(Oe[ke]!==Se[ke])return!1;return!0},ee.isAscii=function Xe(Oe){return/^[\x00-\x7F]*$/.test(Oe)},ee.isSameOrigin=function V(Oe,Se){let ke;try{if(ke=new URL(Oe),!ke.origin||"null"===ke.origin)return!1}catch(Ye){return!1}const We=new URL(Se,ke);return ke.origin===We.origin},ee.objectFromMap=function He(Oe){const Se=Object.create(null);for(const[ke,We]of Oe)Se[ke]=We;return Se},ee.objectSize=function Fe(Oe){return Object.keys(Oe).length},ee.setVerbosityLevel=function ge(Oe){Number.isInteger(Oe)&&(de=Oe)},ee.shadow=Y,ee.string32=function De(Oe){return String.fromCharCode(Oe>>24&255,Oe>>16&255,Oe>>8&255,255&Oe)},ee.stringToBytes=_e,ee.stringToPDFString=function ye(Oe){if(Oe[0]>="\xef"){let ke;if("\xfe"===Oe[0]&&"\xff"===Oe[1]?ke="utf-16be":"\xff"===Oe[0]&&"\xfe"===Oe[1]?ke="utf-16le":"\xef"===Oe[0]&&"\xbb"===Oe[1]&&"\xbf"===Oe[2]&&(ke="utf-8"),ke)try{const We=new TextDecoder(ke,{fatal:!0}),Ye=_e(Oe);return We.decode(Ye)}catch(We){pe(`stringToPDFString: "${We}".`)}}const Se=[];for(let ke=0,We=Oe.length;ke<We;ke++){const Ye=ae[Oe.charCodeAt(ke)];Se.push(Ye?String.fromCharCode(Ye):Oe.charAt(ke))}return Se.join("")},ee.stringToUTF16BEString=function Ge(Oe){const Se=["\xfe\xff"];for(let ke=0,We=Oe.length;ke<We;ke++){const Ye=Oe.charCodeAt(ke);Se.push(String.fromCharCode(Ye>>8&255),String.fromCharCode(255&Ye))}return Se.join("")},ee.stringToUTF8String=$e,ee.unreachable=ie,ee.utf8StringToString=function tt(Oe){return unescape(encodeURIComponent(Oe))},ee.warn=pe,Ee(2),ee.IDENTITY_MATRIX=[1,0,0,1,0,0],ee.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],ee.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},ee.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ee.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ee.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ee.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ee.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ee.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},ee.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},ee.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},ee.AnnotationReplyType={GROUP:"Group",REPLY:"R"},ee.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},ee.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},ee.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ee.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},ee.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},ee.PageActionEventType={O:"PageOpen",C:"PageClose"},ee.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},ee.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const T={ERRORS:0,WARNINGS:1,INFOS:5};ee.VerbosityLevel=T,ee.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},ee.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},ee.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},ee.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let de=T.WARNINGS;function pe(Oe){de>=T.WARNINGS&&console.log(`Warning: ${Oe}`)}function ie(Oe){throw new Error(Oe)}function Y(Oe,Se,ke){return Object.defineProperty(Oe,Se,{value:ke,enumerable:!0,configurable:!0,writable:!1}),ke}const D=function(){function Se(ke,We){this.constructor===Se&&ie("Cannot initialize BaseException."),this.message=ke,this.name=We}return Se.prototype=new Error,Se.constructor=Se,Se}();function _e(Oe){"string"!=typeof Oe&&ie("Invalid argument for stringToBytes");const Se=Oe.length,ke=new Uint8Array(Se);for(let We=0;We<Se;++We)ke[We]=255&Oe.charCodeAt(We);return ke}function Ce(Oe){return void 0!==Oe.length?Oe.length:void 0!==Oe.byteLength?Oe.byteLength:void ie("Invalid argument for arrayByteLength")}ee.BaseException=D,ee.PasswordException=class Z extends D{constructor(Se,ke){super(Se,"PasswordException"),this.code=ke}},ee.UnknownErrorException=class y extends D{constructor(Se,ke){super(Se,"UnknownErrorException"),this.details=ke}},ee.InvalidPDFException=class j extends D{constructor(Se){super(Se,"InvalidPDFException")}},ee.MissingPDFException=class q extends D{constructor(Se){super(Se,"MissingPDFException")}},ee.UnexpectedResponseException=class he extends D{constructor(Se,ke){super(Se,"UnexpectedResponseException"),this.status=ke}},ee.FormatError=class N extends D{constructor(Se){super(Se,"FormatError")}},ee.AbortException=class fe extends D{constructor(Se){super(Se,"AbortException")}},ee.IsLittleEndianCached={get value(){return Y(this,"value",function L(){const Oe=new Uint8Array(4);return Oe[0]=1,1===new Uint32Array(Oe.buffer,0,1)[0]}())}},ee.IsEvalSupportedCached={get value(){return Y(this,"value",function Pe(){try{return new Function(""),!0}catch(Oe){return!1}}())}};const $=[...Array(256).keys()].map(Oe=>Oe.toString(16).padStart(2,"0"));class be{static makeHexColor(Se,ke,We){return`#${$[Se]}${$[ke]}${$[We]}`}static transform(Se,ke){return[Se[0]*ke[0]+Se[2]*ke[1],Se[1]*ke[0]+Se[3]*ke[1],Se[0]*ke[2]+Se[2]*ke[3],Se[1]*ke[2]+Se[3]*ke[3],Se[0]*ke[4]+Se[2]*ke[5]+Se[4],Se[1]*ke[4]+Se[3]*ke[5]+Se[5]]}static applyTransform(Se,ke){return[Se[0]*ke[0]+Se[1]*ke[2]+ke[4],Se[0]*ke[1]+Se[1]*ke[3]+ke[5]]}static applyInverseTransform(Se,ke){const We=ke[0]*ke[3]-ke[1]*ke[2];return[(Se[0]*ke[3]-Se[1]*ke[2]+ke[2]*ke[5]-ke[4]*ke[3])/We,(-Se[0]*ke[1]+Se[1]*ke[0]+ke[4]*ke[1]-ke[5]*ke[0])/We]}static getAxialAlignedBoundingBox(Se,ke){const We=be.applyTransform(Se,ke),Ye=be.applyTransform(Se.slice(2,4),ke),Ze=be.applyTransform([Se[0],Se[3]],ke),Qe=be.applyTransform([Se[2],Se[1]],ke);return[Math.min(We[0],Ye[0],Ze[0],Qe[0]),Math.min(We[1],Ye[1],Ze[1],Qe[1]),Math.max(We[0],Ye[0],Ze[0],Qe[0]),Math.max(We[1],Ye[1],Ze[1],Qe[1])]}static inverseTransform(Se){const ke=Se[0]*Se[3]-Se[1]*Se[2];return[Se[3]/ke,-Se[1]/ke,-Se[2]/ke,Se[0]/ke,(Se[2]*Se[5]-Se[4]*Se[3])/ke,(Se[4]*Se[1]-Se[5]*Se[0])/ke]}static apply3dTransform(Se,ke){return[Se[0]*ke[0]+Se[1]*ke[1]+Se[2]*ke[2],Se[3]*ke[0]+Se[4]*ke[1]+Se[5]*ke[2],Se[6]*ke[0]+Se[7]*ke[1]+Se[8]*ke[2]]}static singularValueDecompose2dScale(Se){const ke=[Se[0],Se[2],Se[1],Se[3]],We=Se[0]*ke[0]+Se[1]*ke[2],Qe=Se[2]*ke[1]+Se[3]*ke[3],ct=(We+Qe)/2,ut=Math.sqrt((We+Qe)**2-4*(We*Qe-(Se[2]*ke[0]+Se[3]*ke[2])*(Se[0]*ke[1]+Se[1]*ke[3])))/2,lt=ct-ut||1;return[Math.sqrt(ct+ut||1),Math.sqrt(lt)]}static normalizeRect(Se){const ke=Se.slice(0);return Se[0]>Se[2]&&(ke[0]=Se[2],ke[2]=Se[0]),Se[1]>Se[3]&&(ke[1]=Se[3],ke[3]=Se[1]),ke}static intersect(Se,ke){function We(ct,ut){return ct-ut}const Ye=[Se[0],Se[2],ke[0],ke[2]].sort(We),Ze=[Se[1],Se[3],ke[1],ke[3]].sort(We),Qe=[];return Se=be.normalizeRect(Se),ke=be.normalizeRect(ke),Ye[0]===Se[0]&&Ye[1]===ke[0]||Ye[0]===ke[0]&&Ye[1]===Se[0]?(Qe[0]=Ye[1],Qe[2]=Ye[2],Ze[0]===Se[1]&&Ze[1]===ke[1]||Ze[0]===ke[1]&&Ze[1]===Se[1]?(Qe[1]=Ze[1],Qe[3]=Ze[2],Qe):null):null}static bezierBoundingBox(Se,ke,We,Ye,Ze,Qe,ct,ut){const gt=[],lt=[[],[]];let bt,xt,yt,at,Pt,wt,_t,Tt;for(let Et=0;Et<2;++Et)if(0===Et?(xt=6*Se-12*We+6*Ze,bt=-3*Se+9*We-9*Ze+3*ct,yt=3*We-3*Se):(xt=6*ke-12*Ye+6*Qe,bt=-3*ke+9*Ye-9*Qe+3*ut,yt=3*Ye-3*ke),Math.abs(bt)<1e-12){if(Math.abs(xt)<1e-12)continue;at=-yt/xt,0<at&&at<1&&gt.push(at)}else _t=xt*xt-4*yt*bt,Tt=Math.sqrt(_t),!(_t<0)&&(Pt=(-xt+Tt)/(2*bt),0<Pt&&Pt<1&&gt.push(Pt),wt=(-xt-Tt)/(2*bt),0<wt&&wt<1&&gt.push(wt));let ft,St=gt.length;const Ct=St;for(;St--;)at=gt[St],ft=1-at,lt[0][St]=ft*ft*ft*Se+3*ft*ft*at*We+3*ft*at*at*Ze+at*at*at*ct,lt[1][St]=ft*ft*ft*ke+3*ft*ft*at*Ye+3*ft*at*at*Qe+at*at*at*ut;return lt[0][Ct]=Se,lt[1][Ct]=ke,lt[0][Ct+1]=ct,lt[1][Ct+1]=ut,lt[0].length=lt[1].length=Ct+2,[Math.min(...lt[0]),Math.min(...lt[1]),Math.max(...lt[0]),Math.max(...lt[1])]}}ee.Util=be;const ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function $e(Oe){return decodeURIComponent(escape(Oe))}},(Ne,ee,Ee)=>{Ee(3)},(Ne,ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.isNodeJS=void 0;const Ee=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);ee.isNodeJS=Ee},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var Ne,ee,Ee,z,Ie,p,Me,Yt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(K){createPDFNetworkStream=K}function getDocument(K){const u=new PDFDocumentLoadingTask;let k;if("string"==typeof K||K instanceof URL)k={url:K};else if((0,_util.isArrayBuffer)(K))k={data:K};else if(K instanceof PDFDataRangeTransport)k={range:K};else{if("object"!=typeof K)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!K.url&&!K.data&&!K.range)throw new Error("Invalid parameter object: need either .data, .range or .url");k=K}const b=Object.create(null);let P=null,R=null;for(const O in k){const A=k[O];switch(O){case"url":if("undefined"!=typeof window)try{b[O]=new URL(A,window.location).href;continue}catch(G){(0,_util.warn)(`Cannot create valid URL: "${G}".`)}else if("string"==typeof A||A instanceof URL){b[O]=A.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":P=A;continue;case"worker":R=A;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&A instanceof Buffer)b[O]=new Uint8Array(A);else{if(A instanceof Uint8Array)break;if("string"==typeof A)b[O]=(0,_util.stringToBytes)(A);else if("object"!=typeof A||null===A||isNaN(A.length)){if(!(0,_util.isArrayBuffer)(A))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");b[O]=new Uint8Array(A)}else b[O]=new Uint8Array(A)}continue}b[O]=A}if(b.rangeChunkSize=b.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,b.CMapReaderFactory=b.CMapReaderFactory||DefaultCMapReaderFactory,b.StandardFontDataFactory=b.StandardFontDataFactory||DefaultStandardFontDataFactory,b.ignoreErrors=!0!==b.stopAtErrors,b.fontExtraProperties=!0===b.fontExtraProperties,b.pdfBug=!0===b.pdfBug,b.enableXfa=!0===b.enableXfa,("string"!=typeof b.docBaseUrl||(0,_display_utils.isDataScheme)(b.docBaseUrl))&&(b.docBaseUrl=null),Number.isInteger(b.maxImageSize)||(b.maxImageSize=-1),"boolean"!=typeof b.useWorkerFetch&&(b.useWorkerFetch=b.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&b.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof b.isEvalSupported&&(b.isEvalSupported=!0),"boolean"!=typeof b.disableFontFace&&(b.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof b.useSystemFonts&&(b.useSystemFonts=!_is_node.isNodeJS&&!b.disableFontFace),void 0===b.ownerDocument&&(b.ownerDocument=globalThis.document),"boolean"!=typeof b.disableRange&&(b.disableRange=!1),"boolean"!=typeof b.disableStream&&(b.disableStream=!1),"boolean"!=typeof b.disableAutoFetch&&(b.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(b.verbosity),!R){const O={verbosity:b.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};R=O.port?_PDFWorker.fromPort(O):new _PDFWorker(O),u._worker=R}const J=u.docId;return R.promise.then(function(){if(u.destroyed)throw new Error("Loading aborted");const O=_fetchDocument(R,b,P,J),A=new Promise(function(G){let te;P?te=new _transport_stream.PDFDataTransportStream({length:b.length,initialData:b.initialData,progressiveDone:b.progressiveDone,contentDispositionFilename:b.contentDispositionFilename,disableRange:b.disableRange,disableStream:b.disableStream},P):b.data||(te=createPDFNetworkStream({url:b.url,length:b.length,httpHeaders:b.httpHeaders,withCredentials:b.withCredentials,rangeChunkSize:b.rangeChunkSize,disableRange:b.disableRange,disableStream:b.disableStream})),G(te)});return Promise.all([O,A]).then(function([G,te]){if(u.destroyed)throw new Error("Loading aborted");const B=new _message_handler.MessageHandler(J,G,R.port),w=new WorkerTransport(B,u,te,b);u._transport=w,B.send("Ready",null)})}).catch(u._capability.reject),u}function _fetchDocument(K,u,k,b){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(K,u,k,b){if(K.destroyed)throw new Error("Worker was destroyed");k&&(u.length=k.length,u.initialData=k.initialData,u.progressiveDone=k.progressiveDone,u.contentDispositionFilename=k.contentDispositionFilename);const P=yield K.messageHandler.sendWithPromise("GetDocRequest",{docId:b,apiVersion:"2.13.216",source:{data:u.data,url:u.url,password:u.password,disableAutoFetch:u.disableAutoFetch,rangeChunkSize:u.rangeChunkSize,length:u.length},maxImageSize:u.maxImageSize,disableFontFace:u.disableFontFace,docBaseUrl:u.docBaseUrl,ignoreErrors:u.ignoreErrors,isEvalSupported:u.isEvalSupported,fontExtraProperties:u.fontExtraProperties,enableXfa:u.enableXfa,useSystemFonts:u.useSystemFonts,cMapUrl:u.useWorkerFetch?u.cMapUrl:null,standardFontDataUrl:u.useWorkerFetch?u.standardFontDataUrl:null});if(K.destroyed)throw new Error("Worker was destroyed");return P})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var u=this;return _asyncToGenerator(function*(){var k;u.destroyed=!0,yield null==(k=u._transport)?void 0:k.destroy(),u._transport=null,u._worker&&(u._worker.destroy(),u._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(u,k,b=!1,P=null){this.length=u,this.initialData=k,this.progressiveDone=b,this.contentDispositionFilename=P,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(u){this._rangeListeners.push(u)}addProgressListener(u){this._progressListeners.push(u)}addProgressiveReadListener(u){this._progressiveReadListeners.push(u)}addProgressiveDoneListener(u){this._progressiveDoneListeners.push(u)}onDataRange(u,k){for(const b of this._rangeListeners)b(u,k)}onDataProgress(u,k){this._readyCapability.promise.then(()=>{for(const b of this._progressListeners)b(u,k)})}onDataProgressiveRead(u){this._readyCapability.promise.then(()=>{for(const k of this._progressiveReadListeners)k(u)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const u of this._progressiveDoneListeners)u()})}transportReady(){this._readyCapability.resolve()}requestDataRange(u,k){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(u,k){var P,b=this;this._pdfInfo=u,this._transport=k,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(P=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),b.stats||{streamTypes:{},fontTypes:{}}}),function(){return P.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(u){return this._transport.getPage(u)}getPageIndex(u){return this._transport.getPageIndex(u)}getDestinations(){return this._transport.getDestinations()}getDestination(u){return this._transport.getDestination(u)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(u=!1){return this._transport.startCleanup(u||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(u,k,b,P,R=!1){this._pageIndex=u,this._pageInfo=k,this._ownerDocument=P,this._transport=b,this._stats=R?new _display_utils.StatTimer:null,this._pdfBug=R,this.commonObjs=b.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:u,rotation:k=this.rotate,offsetX:b=0,offsetY:P=0,dontFlip:R=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:u,rotation:k,offsetX:b,offsetY:P,dontFlip:R})}getAnnotations({intent:u="display"}={}){const k=this._transport.getRenderingIntent(u);let b=this._annotationPromises.get(k.cacheKey);return b||(b=this._transport.getAnnotations(this._pageIndex,k.renderingIntent),this._annotationPromises.set(k.cacheKey,b),b=b.then(P=>{for(const R of P)void 0!==R.titleObj&&Object.defineProperty(R,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),R.titleObj.str)}),void 0!==R.contentsObj&&Object.defineProperty(R,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),R.contentsObj.str)});return P})),b}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var u=this;return _asyncToGenerator(function*(){var k;return(null==(k=u._transport._htmlForXfa)?void 0:k.children[u._pageIndex])||null})()}render({canvasContext:u,viewport:k,intent:b="display",annotationMode:P=_util.AnnotationMode.ENABLE,transform:R=null,imageLayer:J=null,canvasFactory:O=null,background:A=null,optionalContentConfigPromise:G=null,annotationCanvasMap:te=null}){var ce,ne;void 0!==(null==(ce=arguments[0])?void 0:ce.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&P===_util.AnnotationMode.ENABLE&&(P=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(ne=arguments[0])?void 0:ne.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&P===_util.AnnotationMode.ENABLE&&(P=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const B=this._transport.getRenderingIntent(b,P);this.pendingCleanup=!1,G||(G=this._transport.getOptionalContentConfig());let w=this._intentStates.get(B.cacheKey);w||(w=Object.create(null),this._intentStates.set(B.cacheKey,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const m=O||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),v=!!(B.renderingIntent&_util.RenderingIntentFlag.PRINT);w.displayReadyCapability||(w.displayReadyCapability=(0,_util.createPromiseCapability)(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(B));const T=de=>{w.renderTasks.delete(F),(this.cleanupAfterRender||v)&&(this.pendingCleanup=!0),this._tryCleanup(),de?(F.capability.reject(de),this._abortOperatorList({intentState:w,reason:de instanceof Error?de:new Error(de)})):F.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},F=new InternalRenderTask({callback:T,params:{canvasContext:u,viewport:k,transform:R,imageLayer:J,background:A},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:te,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:m,useRequestAnimationFrame:!v,pdfBug:this._pdfBug});(w.renderTasks||(w.renderTasks=new Set)).add(F);const H=F.task;return Promise.all([w.displayReadyCapability.promise,G]).then(([de,ge])=>{this.pendingCleanup?T():(this._stats&&this._stats.time("Rendering"),F.initializeGraphics({transparency:de,optionalContentConfig:ge}),F.operatorListChanged())}).catch(T),H}getOperatorList({intent:u="display",annotationMode:k=_util.AnnotationMode.ENABLE}={}){const P=this._transport.getRenderingIntent(u,k,!0);let J,R=this._intentStates.get(P.cacheKey);return R||(R=Object.create(null),this._intentStates.set(P.cacheKey,R)),R.opListReadCapability||(J=Object.create(null),J.operatorListChanged=function b(){R.operatorList.lastChunk&&(R.opListReadCapability.resolve(R.operatorList),R.renderTasks.delete(J))},R.opListReadCapability=(0,_util.createPromiseCapability)(),(R.renderTasks||(R.renderTasks=new Set)).add(J),R.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(P)),R.opListReadCapability.promise}streamTextContent({disableCombineTextItems:u=!1,includeMarkedContent:k=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==u,includeMarkedContent:!0===k},{highWaterMark:100,size:P=>P.items.length})}getTextContent(u={}){if(this._transport._htmlForXfa)return this.getXfa().then(b=>_xfa_text.XfaText.textContent(b));const k=this.streamTextContent(u);return new Promise(function(b,P){const J=k.getReader(),O={items:[],styles:Object.create(null)};!function R(){J.read().then(function({value:A,done:G}){G?b(O):(Object.assign(O.styles,A.styles),O.items.push(...A.items),R())},P)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const u=[];for(const k of this._intentStates.values())if(this._abortOperatorList({intentState:k,reason:new Error("Page was destroyed."),force:!0}),!k.opListReadCapability)for(const b of k.renderTasks)u.push(b.completed),b.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(u)}cleanup(u=!1){return this.pendingCleanup=!0,this._tryCleanup(u)}_tryCleanup(u=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:k,operatorList:b}of this._intentStates.values())if(k.size>0||!b.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,u&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(u,k){const b=this._intentStates.get(k);!b||(this._stats&&this._stats.timeEnd("Page Request"),b.displayReadyCapability&&b.displayReadyCapability.resolve(u))}_renderPageChunk(u,k){for(let b=0,P=u.length;b<P;b++)k.operatorList.fnArray.push(u.fnArray[b]),k.operatorList.argsArray.push(u.argsArray[b]);k.operatorList.lastChunk=u.lastChunk;for(const b of k.renderTasks)b.operatorListChanged();u.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:u,cacheKey:k}){const P=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:u,cacheKey:k,annotationStorage:u&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),R=this._intentStates.get(k);R.streamReader=P;const J=()=>{P.read().then(({value:O,done:A})=>{A?R.streamReader=null:this._transport.destroyed||(this._renderPageChunk(O,R),J())},O=>{if(R.streamReader=null,!this._transport.destroyed){if(R.operatorList){R.operatorList.lastChunk=!0;for(const A of R.renderTasks)A.operatorListChanged();this._tryCleanup()}if(R.displayReadyCapability)R.displayReadyCapability.reject(O);else{if(!R.opListReadCapability)throw O;R.opListReadCapability.reject(O)}}})};J()}_abortOperatorList({intentState:u,reason:k,force:b=!1}){if(u.streamReader){if(!b){if(u.renderTasks.size>0)return;if(k instanceof _display_utils.RenderingCancelledException)return void(u.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:u,reason:k,force:!0}),u.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(u.streamReader.cancel(new _util.AbortException(k.message)).catch(()=>{}),u.streamReader=null,!this._transport.destroyed){for(const[P,R]of this._intentStates)if(R===u){this._intentStates.delete(P);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(u,k){const b={data:structuredClone(u,k)};this._deferred.then(()=>{for(const P of this._listeners)P.call(this,b)})}addEventListener(u,k){this._listeners.push(k)}removeEventListener(u,k){const b=this._listeners.indexOf(k);this._listeners.splice(b,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const K=null==(Ne=null==document?void 0:document.currentScript)?void 0:Ne.src;K&&(PDFWorkerUtil.fallbackWorkerSrc=K.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(K){return URL.createObjectURL(new Blob([`importScripts("${K}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:K=null,port:u=null,verbosity:k=(0,_util.getVerbosityLevel)()}={}){if(u&&_PDFWorker._workerPorts.has(u))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=K,this.destroyed=!1,this.verbosity=k,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,u)return _PDFWorker._workerPorts.set(u,this),void this._initializeFromPort(u);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(K){this._port=K,this._messageHandler=new _message_handler.MessageHandler("main","worker",K),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let K=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,K)||(K=PDFWorkerUtil.createCDNWrapper(new URL(K,window.location).href));const u=new Worker(K),k=new _message_handler.MessageHandler("main","worker",u),b=()=>{u.removeEventListener("error",P),k.destroy(),u.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},P=()=>{this._webWorker||b()};u.addEventListener("error",P),k.on("test",J=>{u.removeEventListener("error",P),this.destroyed?b():J?(this._messageHandler=k,this._port=u,this._webWorker=u,this._readyCapability.resolve(),k.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),k.destroy(),u.terminate())}),k.on("ready",J=>{if(u.removeEventListener("error",P),this.destroyed)b();else try{R()}catch(O){this._setupFakeWorker()}});const R=()=>{const J=new Uint8Array([255]);try{k.send("test",J,[J.buffer])}catch(O){(0,_util.warn)("Cannot use postMessage transfers."),J[0]=0,k.send("test",J)}};return void R()}catch(u){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(K=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const u=new LoopbackPort;this._port=u;const k="fake"+PDFWorkerUtil.fakeWorkerId++,b=new _message_handler.MessageHandler(k+"_worker",k,u);K.setup(b,u);const P=new _message_handler.MessageHandler(k,k+"_worker",u);this._messageHandler=P,this._readyCapability.resolve(),P.send("configure",{verbosity:this.verbosity})}).catch(K=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${K.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(K){if(!(null==K?void 0:K.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(K.port)?this._workerPorts.get(K.port):new _PDFWorker(K)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var K;try{return(null==(K=globalThis.pdfjsWorker)?void 0:K.WorkerMessageHandler)||null}catch(u){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function K(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(u,k,b,P){et(this,ee,null),et(this,Ee,new Map),et(this,z,new Map),et(this,Ie,null),this.messageHandler=u,this.loadingTask=k,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:k.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:P.ownerDocument,styleElement:P.styleElement}),this._params=P,P.useWorkerFetch||(this.CMapReaderFactory=new P.CMapReaderFactory({baseUrl:P.cMapUrl,isCompressed:P.cMapPacked}),this.StandardFontDataFactory=new P.StandardFontDataFactory({baseUrl:P.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=b,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Ue(this,ee)}getRenderingIntent(u,k=_util.AnnotationMode.ENABLE,b=!1){let P=_util.RenderingIntentFlag.DISPLAY,R="";switch(u){case"any":P=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":P=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${u}`)}switch(k){case _util.AnnotationMode.DISABLE:P+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:P+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:P+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,R=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${k}`)}return b&&(P+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:P,cacheKey:`${P}_${R}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const u=[];for(const b of Ue(this,Ee).values())u.push(b._destroy());Ue(this,Ee).clear(),Ue(this,z).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const k=this.messageHandler.sendWithPromise("Terminate",null);return u.push(k),Promise.all(u).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),st(this,Ie,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:u,loadingTask:k}=this;u.on("GetReader",(b,P)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=R=>{this._lastProgress={loaded:R.loaded,total:R.total}},P.onPull=()=>{this._fullReader.read().then(function({value:R,done:J}){J?P.close():((0,_util.assert)((0,_util.isArrayBuffer)(R),"GetReader - expected an ArrayBuffer."),P.enqueue(new Uint8Array(R),1,[R]))}).catch(R=>{P.error(R)})},P.onCancel=R=>{this._fullReader.cancel(R),P.ready.catch(J=>{if(!this.destroyed)throw J})}}),u.on("ReaderHeadersReady",b=>{const P=(0,_util.createPromiseCapability)(),R=this._fullReader;return R.headersReady.then(()=>{var J;(!R.isStreamingSupported||!R.isRangeSupported)&&(this._lastProgress&&(null==(J=k.onProgress)||J.call(k,this._lastProgress)),R.onProgress=O=>{var A;null==(A=k.onProgress)||A.call(k,{loaded:O.loaded,total:O.total})}),P.resolve({isStreamingSupported:R.isStreamingSupported,isRangeSupported:R.isRangeSupported,contentLength:R.contentLength})},P.reject),P.promise}),u.on("GetRangeReader",(b,P)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const R=this._networkStream.getRangeReader(b.begin,b.end);R?(P.onPull=()=>{R.read().then(function({value:J,done:O}){O?P.close():((0,_util.assert)((0,_util.isArrayBuffer)(J),"GetRangeReader - expected an ArrayBuffer."),P.enqueue(new Uint8Array(J),1,[J]))}).catch(J=>{P.error(J)})},P.onCancel=J=>{R.cancel(J),P.ready.catch(O=>{if(!this.destroyed)throw O})}):P.close()}),u.on("GetDoc",({pdfInfo:b})=>{this._numPages=b.numPages,this._htmlForXfa=b.htmlForXfa,delete b.htmlForXfa,k._capability.resolve(new PDFDocumentProxy(b,this))}),u.on("DocException",function(b){let P;switch(b.name){case"PasswordException":P=new _util.PasswordException(b.message,b.code);break;case"InvalidPDFException":P=new _util.InvalidPDFException(b.message);break;case"MissingPDFException":P=new _util.MissingPDFException(b.message);break;case"UnexpectedResponseException":P=new _util.UnexpectedResponseException(b.message,b.status);break;case"UnknownErrorException":P=new _util.UnknownErrorException(b.message,b.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}k._capability.reject(P)}),u.on("PasswordRequest",b=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),k.onPassword){const P=R=>{R instanceof Error?this._passwordCapability.reject(R):this._passwordCapability.resolve({password:R})};try{k.onPassword(P,b.code)}catch(R){this._passwordCapability.reject(R)}}else this._passwordCapability.reject(new _util.PasswordException(b.message,b.code));return this._passwordCapability.promise}),u.on("DataLoaded",b=>{var P;null==(P=k.onProgress)||P.call(k,{loaded:b.length,total:b.length}),this.downloadInfoCapability.resolve(b)}),u.on("StartRenderPage",b=>{this.destroyed||Ue(this,Ee).get(b.pageIndex)._startRenderPage(b.transparency,b.cacheKey)}),u.on("commonobj",([b,P,R])=>{var J;if(!this.destroyed&&!this.commonObjs.has(b))switch(P){case"Font":const O=this._params;if("error"in R){const te=R.error;(0,_util.warn)(`Error during font loading: ${te}`),this.commonObjs.resolve(b,te);break}let A=null;O.pdfBug&&(null==(J=globalThis.FontInspector)?void 0:J.enabled)&&(A={registerFont(te,B){globalThis.FontInspector.fontAdded(te,B)}});const G=new _font_loader.FontFaceObject(R,{isEvalSupported:O.isEvalSupported,disableFontFace:O.disableFontFace,ignoreErrors:O.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:A});this.fontLoader.bind(G).catch(te=>u.sendWithPromise("FontFallback",{id:b})).finally(()=>{!O.fontExtraProperties&&G.data&&(G.data=null),this.commonObjs.resolve(b,G)});break;case"FontPath":case"Image":this.commonObjs.resolve(b,R);break;default:throw new Error(`Got unknown common object type ${P}`)}}),u.on("obj",([b,P,R,J])=>{var A;if(this.destroyed)return;const O=Ue(this,Ee).get(P);if(!O.objs.has(b))switch(R){case"Image":O.objs.resolve(b,J),(null==(A=null==J?void 0:J.data)?void 0:A.length)>8e6&&(O.cleanupAfterRender=!0);break;case"Pattern":O.objs.resolve(b,J);break;default:throw new Error(`Got unknown object type ${R}`)}}),u.on("DocProgress",b=>{var P;this.destroyed||null==(P=k.onProgress)||P.call(k,{loaded:b.loaded,total:b.total})}),u.on("DocStats",b=>{this.destroyed||st(this,ee,Object.freeze({streamTypes:Object.freeze(b.streamTypes),fontTypes:Object.freeze(b.fontTypes)}))}),u.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),u.on("FetchBuiltInCMap",b=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(b):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),u.on("FetchStandardFontData",b=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(b):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:u}){var k,b;this.destroyed||null==(b=(k=this.loadingTask).onUnsupportedFeature)||b.call(k,u)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(u){if(!Number.isInteger(u)||u<=0||u>this._numPages)return Promise.reject(new Error("Invalid page request."));const k=u-1,b=Ue(this,z).get(k);if(b)return b;const P=this.messageHandler.sendWithPromise("GetPage",{pageIndex:k}).then(R=>{if(this.destroyed)throw new Error("Transport destroyed");const J=new PDFPageProxy(k,R,this,this._params.ownerDocument,this._params.pdfBug);return Ue(this,Ee).set(k,J),J});return Ue(this,z).set(k,P),P}getPageIndex(u){return"object"!=typeof u||null===u||!Number.isInteger(u.num)||u.num<0||!Number.isInteger(u.gen)||u.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:u.num,gen:u.gen})}getAnnotations(u,k){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:u,intent:k})}saveDocument(){var u,k;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(k=null==(u=this._fullReader)?void 0:u.filename)?k:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(u){return"string"!=typeof u?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:u})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(u){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:u})}getStructTree(u){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:u})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(u=>new _optional_content_config.OptionalContentConfig(u))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Ue(this,Ie)||st(this,Ie,this.messageHandler.sendWithPromise("GetMetadata",null).then(u=>{var k,b,P,R;return{info:u[0],metadata:u[1]?new _metadata.Metadata(u[1]):null,contentDispositionFilename:null!=(b=null==(k=this._fullReader)?void 0:k.filename)?b:null,contentLength:null!=(R=null==(P=this._fullReader)?void 0:P.contentLength)?R:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(u=!1){var k=this;return _asyncToGenerator(function*(){if(yield k.messageHandler.sendWithPromise("Cleanup",null),!k.destroyed){for(const b of Ue(k,Ee).values())if(!b.cleanup())throw new Error(`startCleanup: Page ${b.pageNumber} is currently rendering.`);k.commonObjs.clear(),u||k.fontLoader.clear(),st(k,Ie,null),k._getFieldObjectsPromise=null,k._hasJSActionsPromise=null}})()}get loadingParams(){const u=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:u.disableAutoFetch,enableXfa:u.enableXfa})}}ee=new WeakMap,Ee=new WeakMap,z=new WeakMap,Ie=new WeakMap;class PDFObjects{constructor(){et(this,Me),et(this,p,Object.create(null))}get(u,k=null){if(k){const P=rt(this,Me,Yt).call(this,u);return P.capability.promise.then(()=>k(P.data)),null}const b=Ue(this,p)[u];if(!(null==b?void 0:b.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${u}.`);return b.data}has(u){const k=Ue(this,p)[u];return(null==k?void 0:k.capability.settled)||!1}resolve(u,k=null){const b=rt(this,Me,Yt).call(this,u);b.data=k,b.capability.resolve()}clear(){st(this,p,Object.create(null))}}p=new WeakMap,Me=new WeakSet,Yt=function(u){return Ue(this,p)[u]||(Ue(this,p)[u]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(u){this._internalRenderTask=u,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:u,params:k,objs:b,commonObjs:P,annotationCanvasMap:R,operatorList:J,pageIndex:O,canvasFactory:A,useRequestAnimationFrame:G=!1,pdfBug:te=!1}){this.callback=u,this.params=k,this.objs=b,this.commonObjs=P,this.annotationCanvasMap=R,this.operatorListIdx=null,this.operatorList=J,this._pageIndex=O,this.canvasFactory=A,this._pdfBug=te,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===G&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=k.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:u=!1,optionalContentConfig:k}){var A;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&(null==(A=globalThis.StepperManager)?void 0:A.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:b,viewport:P,transform:R,imageLayer:J,background:O}=this.params;this.gfx=new _canvas.CanvasGraphics(b,this.commonObjs,this.objs,this.canvasFactory,J,k,this.annotationCanvasMap),this.gfx.beginDrawing({transform:R,viewport:P,transparency:u,background:O}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(u=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(u||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var u=this;return _asyncToGenerator(function*(){u.cancelled||(u.operatorListIdx=u.gfx.executeOperatorList(u.operatorList,u.operatorListIdx,u._continueBound,u.stepper),u.operatorListIdx===u.operatorList.argsArray.length&&(u.running=!1,u.operatorList.lastChunk&&(u.gfx.endDrawing(),u._canvas&&InternalRenderTask.canvasInUse.delete(u._canvas),u.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.StatTimer=ee.RenderingCancelledException=ee.PixelsPerInch=ee.PageViewport=ee.PDFDateString=ee.DOMStandardFontDataFactory=ee.DOMSVGFactory=ee.DOMCanvasFactory=ee.DOMCMapReaderFactory=void 0,ee.deprecated=function v(ne){console.log("Deprecated API usage: "+ne)},ee.getFilenameFromUrl=function G(ne){const de=ne.indexOf("#"),ge=ne.indexOf("?"),oe=Math.min(de>0?de:ne.length,ge>0?ge:ne.length);return ne.substring(ne.lastIndexOf("/",oe)+1,oe)},ee.getPdfFilenameFromUrl=function te(ne,de="document.pdf"){if("string"!=typeof ne)return de;if(O(ne))return(0,Ie.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),de;const oe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,le=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(ne);let pe=oe.exec(le[1])||oe.exec(le[2])||oe.exec(le[3]);if(pe&&(pe=pe[0],pe.includes("%")))try{pe=oe.exec(decodeURIComponent(pe))[0]}catch(ie){}return pe||de},ee.getXfaPageViewport=function H(ne,{scale:de=1,rotation:ge=0}){const{width:oe,height:le}=ne.attributes.style,pe=[0,0,parseInt(oe),parseInt(le)];return new R({viewBox:pe,scale:de,rotation:ge})},ee.isDataScheme=O,ee.isPdfFile=function A(ne){return"string"==typeof ne&&/\.pdf$/i.test(ne)},ee.isValidFetchUrl=w,ee.loadScript=function m(ne,de=!1){return new Promise((ge,oe)=>{const le=document.createElement("script");le.src=ne,le.onload=function(pe){de&&le.remove(),ge(pe)},le.onerror=function(){oe(new Error(`Cannot load script at: ${le.src}`))},(document.head||document.documentElement).appendChild(le)})};var z=Ee(6),Ie=Ee(1);const ce=class{};let T,Me=ce;function K(ne){return u.apply(this,arguments)}function u(){return(u=_asyncToGenerator(function*(ne,de=!1){if(w(ne,document.baseURI)){const ge=yield fetch(ne);if(!ge.ok)throw new Error(ge.statusText);return de?new Uint8Array(yield ge.arrayBuffer()):(0,Ie.stringToBytes)(yield ge.text())}return new Promise((ge,oe)=>{const le=new XMLHttpRequest;le.open("GET",ne,!0),de&&(le.responseType="arraybuffer"),le.onreadystatechange=()=>{if(le.readyState===XMLHttpRequest.DONE){if(200===le.status||0===le.status){let pe;if(de&&le.response?pe=new Uint8Array(le.response):!de&&le.responseText&&(pe=(0,Ie.stringToBytes)(le.responseText)),pe)return void ge(pe)}oe(new Error(le.statusText))}},le.send(null)})})).apply(this,arguments)}Mt(Me,"CSS",96),Mt(Me,"PDF",72),Mt(Me,"PDF_TO_CSS_UNITS",ce.CSS/ce.PDF),ee.PixelsPerInch=Me,ee.DOMCanvasFactory=class ue extends z.BaseCanvasFactory{constructor({ownerDocument:de=globalThis.document}={}){super(),this._document=de}_createCanvas(de,ge){const oe=this._document.createElement("canvas");return oe.width=de,oe.height=ge,oe}},ee.DOMCMapReaderFactory=class k extends z.BaseCMapReaderFactory{_fetchData(de,ge){return K(de,this.isCompressed).then(oe=>({cMapData:oe,compressionType:ge}))}},ee.DOMStandardFontDataFactory=class b extends z.BaseStandardFontDataFactory{_fetchData(de){return K(de,!0)}},ee.DOMSVGFactory=class P extends z.BaseSVGFactory{_createSVG(de){return document.createElementNS("http://www.w3.org/2000/svg",de)}};class R{constructor({viewBox:de,scale:ge,rotation:oe,offsetX:le=0,offsetY:pe=0,dontFlip:ie=!1}){this.viewBox=de,this.scale=ge,this.rotation=oe,this.offsetX=le,this.offsetY=pe;const xe=(de[2]+de[0])/2,V=(de[3]+de[1])/2;let E,_,Y,D,Z,y,j,q;switch((oe%=360)<0&&(oe+=360),oe){case 180:E=-1,_=0,Y=0,D=1;break;case 90:E=0,_=1,Y=1,D=0;break;case 270:E=0,_=-1,Y=-1,D=0;break;case 0:E=1,_=0,Y=0,D=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ie&&(Y=-Y,D=-D),0===E?(Z=Math.abs(V-de[1])*ge+le,y=Math.abs(xe-de[0])*ge+pe,j=Math.abs(de[3]-de[1])*ge,q=Math.abs(de[2]-de[0])*ge):(Z=Math.abs(xe-de[0])*ge+le,y=Math.abs(V-de[1])*ge+pe,j=Math.abs(de[2]-de[0])*ge,q=Math.abs(de[3]-de[1])*ge),this.transform=[E*ge,_*ge,Y*ge,D*ge,Z-E*ge*xe-Y*ge*V,y-_*ge*xe-D*ge*V],this.width=j,this.height=q}clone({scale:de=this.scale,rotation:ge=this.rotation,offsetX:oe=this.offsetX,offsetY:le=this.offsetY,dontFlip:pe=!1}={}){return new R({viewBox:this.viewBox.slice(),scale:de,rotation:ge,offsetX:oe,offsetY:le,dontFlip:pe})}convertToViewportPoint(de,ge){return Ie.Util.applyTransform([de,ge],this.transform)}convertToViewportRectangle(de){const ge=Ie.Util.applyTransform([de[0],de[1]],this.transform),oe=Ie.Util.applyTransform([de[2],de[3]],this.transform);return[ge[0],ge[1],oe[0],oe[1]]}convertToPdfPoint(de,ge){return Ie.Util.applyInverseTransform([de,ge],this.transform)}}function O(ne){const de=ne.length;let ge=0;for(;ge<de&&""===ne[ge].trim();)ge++;return"data:"===ne.substring(ge,ge+5).toLowerCase()}function w(ne,de){try{const{protocol:ge}=de?new URL(ne,de):new URL(ne);return"http:"===ge||"https:"===ge}catch(ge){return!1}}ee.PageViewport=R,ee.RenderingCancelledException=class J extends Ie.BaseException{constructor(de,ge){super(de,"RenderingCancelledException"),this.type=ge}},ee.StatTimer=class B{constructor(){this.started=Object.create(null),this.times=[]}time(de){de in this.started&&(0,Ie.warn)(`Timer is already running for ${de}`),this.started[de]=Date.now()}timeEnd(de){de in this.started||(0,Ie.warn)(`Timer has not been started for ${de}`),this.times.push({name:de,start:this.started[de],end:Date.now()}),delete this.started[de]}toString(){const de=[];let ge=0;for(const oe of this.times){const le=oe.name;le.length>ge&&(ge=le.length)}for(const oe of this.times){const le=oe.end-oe.start;de.push(`${oe.name.padEnd(ge)} ${le}ms\n`)}return de.join("")}},ee.PDFDateString=class F{static toDateObject(de){if(!de||"string"!=typeof de)return null;T||(T=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ge=T.exec(de);if(!ge)return null;const oe=parseInt(ge[1],10);let le=parseInt(ge[2],10);le=le>=1&&le<=12?le-1:0;let pe=parseInt(ge[3],10);pe=pe>=1&&pe<=31?pe:1;let ie=parseInt(ge[4],10);ie=ie>=0&&ie<=23?ie:0;let xe=parseInt(ge[5],10);xe=xe>=0&&xe<=59?xe:0;let V=parseInt(ge[6],10);V=V>=0&&V<=59?V:0;const E=ge[7]||"Z";let _=parseInt(ge[8],10);_=_>=0&&_<=23?_:0;let Y=parseInt(ge[9],10)||0;return Y=Y>=0&&Y<=59?Y:0,"-"===E?(ie+=_,xe+=Y):"+"===E&&(ie-=_,xe-=Y),new Date(Date.UTC(oe,le,pe,ie,xe,V))}}},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.BaseStandardFontDataFactory=ee.BaseSVGFactory=ee.BaseCanvasFactory=ee.BaseCMapReaderFactory=void 0;var z=Ee(1);class Ie{constructor(){this.constructor===Ie&&(0,z.unreachable)("Cannot initialize BaseCanvasFactory.")}create(u,k){if(u<=0||k<=0)throw new Error("Invalid canvas size");const b=this._createCanvas(u,k);return{canvas:b,context:b.getContext("2d")}}reset(u,k,b){if(!u.canvas)throw new Error("Canvas is not specified");if(k<=0||b<=0)throw new Error("Invalid canvas size");u.canvas.width=k,u.canvas.height=b}destroy(u){if(!u.canvas)throw new Error("Canvas is not specified");u.canvas.width=0,u.canvas.height=0,u.canvas=null,u.context=null}_createCanvas(u,k){(0,z.unreachable)("Abstract method `_createCanvas` called.")}}ee.BaseCanvasFactory=Ie;class p{constructor({baseUrl:u=null,isCompressed:k=!1}){this.constructor===p&&(0,z.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=u,this.isCompressed=k}fetch({name:u}){var k=this;return _asyncToGenerator(function*(){if(!k.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!u)throw new Error("CMap name must be specified.");const b=k.baseUrl+u+(k.isCompressed?".bcmap":"");return k._fetchData(b,k.isCompressed?z.CMapCompressionType.BINARY:z.CMapCompressionType.NONE).catch(R=>{throw new Error(`Unable to load ${k.isCompressed?"binary ":""}CMap at: ${b}`)})})()}_fetchData(u,k){(0,z.unreachable)("Abstract method `_fetchData` called.")}}ee.BaseCMapReaderFactory=p;class Me{constructor({baseUrl:u=null}){this.constructor===Me&&(0,z.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=u}fetch({filename:u}){var k=this;return _asyncToGenerator(function*(){if(!k.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!u)throw new Error("Font filename must be specified.");const b=`${k.baseUrl}${u}`;return k._fetchData(b).catch(P=>{throw new Error(`Unable to load font data at: ${b}`)})})()}_fetchData(u){(0,z.unreachable)("Abstract method `_fetchData` called.")}}ee.BaseStandardFontDataFactory=Me;class ue{constructor(){this.constructor===ue&&(0,z.unreachable)("Cannot initialize BaseSVGFactory.")}create(u,k){if(u<=0||k<=0)throw new Error("Invalid SVG dimensions");const b=this._createSVG("svg:svg");return b.setAttribute("version","1.1"),b.setAttribute("width",`${u}px`),b.setAttribute("height",`${k}px`),b.setAttribute("preserveAspectRatio","none"),b.setAttribute("viewBox",`0 0 ${u} ${k}`),b}createElement(u){if("string"!=typeof u)throw new Error("Invalid SVG element type");return this._createSVG(u)}_createSVG(u){(0,z.unreachable)("Abstract method `_createSVG` called.")}}ee.BaseSVGFactory=ue},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.FontLoader=ee.FontFaceObject=void 0;var z=Ee(1);class Ie{constructor({docId:K,onUnsupportedFeature:u,ownerDocument:k=globalThis.document,styleElement:b=null}){this.constructor===Ie&&(0,z.unreachable)("Cannot initialize BaseFontLoader."),this.docId=K,this._onUnsupportedFeature=u,this._document=k,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(K){this.nativeFontFaces.push(K),this._document.fonts.add(K)}insertRule(K){let u=this.styleElement;u||(u=this.styleElement=this._document.createElement("style"),u.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(u));const k=u.sheet;k.insertRule(K,k.cssRules.length)}clear(){for(const K of this.nativeFontFaces)this._document.fonts.delete(K);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(K){var u=this;return _asyncToGenerator(function*(){if(K.attached||K.missingFile)return;if(K.attached=!0,u.isFontLoadingAPISupported){const b=K.createNativeFontFace();if(b){u.addNativeFontFace(b);try{yield b.loaded}catch(P){throw u._onUnsupportedFeature({featureId:z.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,z.warn)(`Failed to load font '${b.family}': '${P}'.`),K.disableFontFace=!0,P}}return}const k=K.createFontFaceRule();if(k){if(u.insertRule(k),u.isSyncFontLoadingSupported)return;yield new Promise(b=>{const P=u._queueLoadingCallback(b);u._prepareFontLoadEvent([k],[K],P)})}})()}_queueLoadingCallback(K){(0,z.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var u;const K=!!(null==(u=this._document)?void 0:u.fonts);return(0,z.shadow)(this,"isFontLoadingAPISupported",K)}get isSyncFontLoadingSupported(){(0,z.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,z.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(K,u,k){(0,z.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let p;ee.FontLoader=p,ee.FontLoader=p=class extends Ie{constructor(K){super(K),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let K=!1;if("undefined"==typeof navigator)K=!0;else{const u=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==u?void 0:u[1])>=14&&(K=!0)}return(0,z.shadow)(this,"isSyncFontLoadingSupported",K)}_queueLoadingCallback(K){const k=this.loadingContext,b={id:"pdfjs-font-loading-"+k.nextRequestId++,done:!1,complete:function u(){for((0,z.assert)(!b.done,"completeRequest() cannot be called twice."),b.done=!0;k.requests.length>0&&k.requests[0].done;){const P=k.requests.shift();setTimeout(P.callback,0)}},callback:K};return k.requests.push(b),b}get _loadTestFont(){return(0,z.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(K,u,k){function b(ge,oe){return ge.charCodeAt(oe)<<24|ge.charCodeAt(oe+1)<<16|ge.charCodeAt(oe+2)<<8|255&ge.charCodeAt(oe+3)}function P(ge,oe,le,pe){return ge.substring(0,oe)+pe+ge.substring(oe+le)}let R,J;const O=this._document.createElement("canvas");O.width=1,O.height=1;const A=O.getContext("2d");let G=0;const B=`lt${Date.now()}${this.loadTestFontId++}`;let w=this._loadTestFont;w=P(w,976,B.length,B);const T=1482184792;let F=b(w,16);for(R=0,J=B.length-3;R<J;R+=4)F=F-T+b(B,R)|0;R<B.length&&(F=F-T+b(B+"XXX",R)|0),w=P(w,16,4,(0,z.string32)(F));const H=`url(data:font/opentype;base64,${btoa(w)});`;this.insertRule(`@font-face {font-family:"${B}";src:${H}}`);const ne=[];for(const ge of u)ne.push(ge.loadedName);ne.push(B);const de=this._document.createElement("div");de.style.visibility="hidden",de.style.width=de.style.height="10px",de.style.position="absolute",de.style.top=de.style.left="0px";for(const ge of ne){const oe=this._document.createElement("span");oe.textContent="Hi",oe.style.fontFamily=ge,de.appendChild(oe)}this._document.body.appendChild(de),function te(ge,oe){if(G++,G>30)return(0,z.warn)("Load test font never loaded."),void oe();A.font="30px "+ge,A.fillText(".",0,20),A.getImageData(0,0,1,1).data[3]>0?oe():setTimeout(te.bind(null,ge,oe))}(B,()=>{de.remove(),k.complete()})}},ee.FontFaceObject=class Me{constructor(K,{isEvalSupported:u=!0,disableFontFace:k=!1,ignoreErrors:b=!1,onUnsupportedFeature:P,fontRegistry:R=null}){this.compiledGlyphs=Object.create(null);for(const J in K)this[J]=K[J];this.isEvalSupported=!1!==u,this.disableFontFace=!0===k,this.ignoreErrors=!0===b,this._onUnsupportedFeature=P,this.fontRegistry=R}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let K;if(this.cssFontInfo){const u={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(u.style=`oblique ${this.cssFontInfo.italicAngle}deg`),K=new FontFace(this.cssFontInfo.fontFamily,this.data,u)}else K=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),K}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const K=(0,z.bytesToString)(this.data),u=`url(data:${this.mimetype};base64,${btoa(K)});`;let k;if(this.cssFontInfo){let b=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(b+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),k=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${b}src:${u}}`}else k=`@font-face {font-family:"${this.loadedName}";src:${u}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,u),k}getPathGenerator(K,u){if(void 0!==this.compiledGlyphs[u])return this.compiledGlyphs[u];let k;try{k=K.get(this.loadedName+"_path_"+u)}catch(b){if(!this.ignoreErrors)throw b;return this._onUnsupportedFeature({featureId:z.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,z.warn)(`getPathGenerator - ignoring character: "${b}".`),this.compiledGlyphs[u]=function(P,R){}}if(this.isEvalSupported&&z.IsEvalSupportedCached.value){const b=[];for(const P of k){const R=void 0!==P.args?P.args.join(","):"";b.push("c.",P.cmd,"(",R,");\n")}return this.compiledGlyphs[u]=new Function("c","size",b.join(""))}return this.compiledGlyphs[u]=function(b,P){for(const R of k)"scale"===R.cmd&&(R.args=[P,-P]),b[R.cmd].apply(b,R.args)}}}},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.NodeStandardFontDataFactory=ee.NodeCanvasFactory=ee.NodeCMapReaderFactory=void 0;var z=Ee(6),Ie=Ee(3),p=Ee(1);let Me=class{constructor(){(0,p.unreachable)("Not implemented: NodeCanvasFactory")}};ee.NodeCanvasFactory=Me;let ue=class{constructor(){(0,p.unreachable)("Not implemented: NodeCMapReaderFactory")}};ee.NodeCMapReaderFactory=ue;let K=class{constructor(){(0,p.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(ee.NodeStandardFontDataFactory=K,Ie.isNodeJS){const u=function(k){return new Promise((b,P)=>{__webpack_require__(172).readFile(k,(J,O)=>{!J&&O?b(new Uint8Array(O)):P(new Error(J))})})};ee.NodeCanvasFactory=Me=class extends z.BaseCanvasFactory{_createCanvas(k,b){return __webpack_require__(3414).createCanvas(k,b)}},ee.NodeCMapReaderFactory=ue=class extends z.BaseCMapReaderFactory{_fetchData(k,b){return u(k).then(P=>({cMapData:P,compressionType:b}))}},ee.NodeStandardFontDataFactory=K=class extends z.BaseStandardFontDataFactory{_fetchData(k){return u(k)}}}},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.AnnotationStorage=void 0;var z=Ee(1);ee.AnnotationStorage=class Ie{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(Me,ue){const K=this._storage.get(Me);return void 0===K?ue:Object.assign(ue,K)}setValue(Me,ue){const K=this._storage.get(Me);let u=!1;if(void 0!==K)for(const[k,b]of Object.entries(ue))K[k]!==b&&(u=!0,K[k]=b);else u=!0,this._storage.set(Me,ue);u&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,z.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.CanvasGraphics=void 0;var z=Ee(1),Ie=Ee(11),p=Ee(5);const K=4096,R=16;function A(V){if(V._transformStack&&(V._transformStack=[]),!V.mozCurrentTransform){V._originalSave=V.save,V._originalRestore=V.restore,V._originalRotate=V.rotate,V._originalScale=V.scale,V._originalTranslate=V.translate,V._originalTransform=V.transform,V._originalSetTransform=V.setTransform,V._originalResetTransform=V.resetTransform,V._transformMatrix=V._transformMatrix||[1,0,0,1,0,0],V._transformStack=[];try{const E=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(V),"lineWidth");V._setLineWidth=E.set,V._getLineWidth=E.get,Object.defineProperty(V,"lineWidth",{set:function(Y){this._setLineWidth(1.000001*Y)},get:function(){return this._getLineWidth()}})}catch(E){}Object.defineProperty(V,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(V,"mozCurrentTransformInverse",{get:function(){const[_,Y,D,Z,y,j]=this._transformMatrix,q=_*Z-Y*D,he=Y*D-_*Z;return[Z/q,Y/he,D/he,_/q,(Z*y-D*j)/he,(Y*y-_*j)/q]}}),V.save=function(){const _=this._transformMatrix;this._transformStack.push(_),this._transformMatrix=_.slice(0,6),this._originalSave()},V.restore=function(){0===this._transformStack.length&&(0,z.warn)("Tried to restore a ctx when the stack was already empty.");const _=this._transformStack.pop();_&&(this._transformMatrix=_,this._originalRestore())},V.translate=function(_,Y){const D=this._transformMatrix;D[4]=D[0]*_+D[2]*Y+D[4],D[5]=D[1]*_+D[3]*Y+D[5],this._originalTranslate(_,Y)},V.scale=function(_,Y){const D=this._transformMatrix;D[0]*=_,D[1]*=_,D[2]*=Y,D[3]*=Y,this._originalScale(_,Y)},V.transform=function(_,Y,D,Z,y,j){const q=this._transformMatrix;this._transformMatrix=[q[0]*_+q[2]*Y,q[1]*_+q[3]*Y,q[0]*D+q[2]*Z,q[1]*D+q[3]*Z,q[0]*y+q[2]*j+q[4],q[1]*y+q[3]*j+q[5]],V._originalTransform(_,Y,D,Z,y,j)},V.setTransform=function(_,Y,D,Z,y,j){this._transformMatrix=[_,Y,D,Z,y,j],V._originalSetTransform(_,Y,D,Z,y,j)},V.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],V._originalResetTransform()},V.rotate=function(_){const Y=Math.cos(_),D=Math.sin(_),Z=this._transformMatrix;this._transformMatrix=[Z[0]*Y+Z[2]*D,Z[1]*Y+Z[3]*D,Z[0]*-D+Z[2]*Y,Z[1]*-D+Z[3]*Y,Z[4],Z[5]],this._originalRotate(_)}}}class G{constructor(E){this.canvasFactory=E,this.cache=Object.create(null)}getCanvas(E,_,Y,D){let Z;return void 0!==this.cache[E]?(Z=this.cache[E],this.canvasFactory.reset(Z,_,Y),Z.context.setTransform(1,0,0,1,0,0)):(Z=this.canvasFactory.create(_,Y),this.cache[E]=Z),D&&A(Z.context),Z}clear(){for(const E in this.cache)this.canvasFactory.destroy(this.cache[E]),delete this.cache[E]}}class B{constructor(E,_){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=z.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=z.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=z.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,E,_])}clone(){const E=Object.create(this);return E.clipBox=this.clipBox.slice(),E}setCurrentPoint(E,_){this.x=E,this.y=_}updatePathMinMax(E,_,Y){[_,Y]=z.Util.applyTransform([_,Y],E),this.minX=Math.min(this.minX,_),this.minY=Math.min(this.minY,Y),this.maxX=Math.max(this.maxX,_),this.maxY=Math.max(this.maxY,Y)}updateCurvePathMinMax(E,_,Y,D,Z,y,j,q,he){const N=z.Util.bezierBoundingBox(_,Y,D,Z,y,j,q,he);this.updatePathMinMax(E,N[0],N[1]),this.updatePathMinMax(E,N[2],N[3])}getPathBoundingBox(E=Ie.PathType.FILL,_=null){const Y=[this.minX,this.minY,this.maxX,this.maxY];if(E===Ie.PathType.STROKE){_||(0,z.unreachable)("Stroke bounding box must include transform.");const D=z.Util.singularValueDecompose2dScale(_),Z=D[0]*this.lineWidth/2,y=D[1]*this.lineWidth/2;Y[0]-=Z,Y[1]-=y,Y[2]+=Z,Y[3]+=y}return Y}updateClipFromPath(){const E=z.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(E||[0,0,0,0])}startNewPathAndClipBox(E){this.clipBox=E,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(E=Ie.PathType.FILL,_=null){return z.Util.intersect(this.clipBox,this.getPathBoundingBox(E,_))}}function w(V,E,_=null){if("undefined"!=typeof ImageData&&E instanceof ImageData)return void V.putImageData(E,0,0);const Y=E.height,D=E.width,Z=Y%R,y=(Y-Z)/R,j=0===Z?y:y+1,q=V.createImageData(D,R);let N,he=0;const fe=E.data,Ae=q.data;let _e,Ce,Te,De,Fe,He,L,re;if(_)switch(_.length){case 1:Fe=_[0],He=_[0],L=_[0],re=_[0];break;case 4:Fe=_[0],He=_[1],L=_[2],re=_[3]}if(E.kind===z.ImageKind.GRAYSCALE_1BPP){const Pe=fe.byteLength,ve=new Uint32Array(Ae.buffer,0,Ae.byteLength>>2),$=ve.length,be=D+7>>3;let ae=4294967295,ye=z.IsLittleEndianCached.value?4278190080:255;for(re&&255===re[0]&&0===re[255]&&([ae,ye]=[ye,ae]),_e=0;_e<j;_e++){for(Te=_e<y?R:Z,N=0,Ce=0;Ce<Te;Ce++){const Re=Pe-he;let Xe=0;const Ge=Re>be?D:8*Re-7,$e=-8&Ge;let tt=0,qe=0;for(;Xe<$e;Xe+=8)qe=fe[he++],ve[N++]=128&qe?ae:ye,ve[N++]=64&qe?ae:ye,ve[N++]=32&qe?ae:ye,ve[N++]=16&qe?ae:ye,ve[N++]=8&qe?ae:ye,ve[N++]=4&qe?ae:ye,ve[N++]=2&qe?ae:ye,ve[N++]=1&qe?ae:ye;for(;Xe<Ge;Xe++)0===tt&&(qe=fe[he++],tt=128),ve[N++]=qe&tt?ae:ye,tt>>=1}for(;N<$;)ve[N++]=0;V.putImageData(q,0,_e*R)}}else if(E.kind===z.ImageKind.RGBA_32BPP){const Pe=!!(Fe||He||L);for(Ce=0,De=D*R*4,_e=0;_e<y;_e++){if(Ae.set(fe.subarray(he,he+De)),he+=De,Pe)for(let ve=0;ve<De;ve+=4)Fe&&(Ae[ve+0]=Fe[Ae[ve+0]]),He&&(Ae[ve+1]=He[Ae[ve+1]]),L&&(Ae[ve+2]=L[Ae[ve+2]]);V.putImageData(q,0,Ce),Ce+=R}if(_e<j){if(De=D*Z*4,Ae.set(fe.subarray(he,he+De)),Pe)for(let ve=0;ve<De;ve+=4)Fe&&(Ae[ve+0]=Fe[Ae[ve+0]]),He&&(Ae[ve+1]=He[Ae[ve+1]]),L&&(Ae[ve+2]=L[Ae[ve+2]]);V.putImageData(q,0,Ce)}}else{if(E.kind!==z.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${E.kind}`);{const Pe=!!(Fe||He||L);for(Te=R,De=D*Te,_e=0;_e<j;_e++){for(_e>=y&&(Te=Z,De=D*Te),N=0,Ce=De;Ce--;)Ae[N++]=fe[he++],Ae[N++]=fe[he++],Ae[N++]=fe[he++],Ae[N++]=255;if(Pe)for(let ve=0;ve<N;ve+=4)Fe&&(Ae[ve+0]=Fe[Ae[ve+0]]),He&&(Ae[ve+1]=He[Ae[ve+1]]),L&&(Ae[ve+2]=L[Ae[ve+2]]);V.putImageData(q,0,_e*R)}}}}function m(V,E){const _=E.height,Y=E.width,D=_%R,Z=(_-D)/R,y=0===D?Z:Z+1,j=V.createImageData(Y,R);let q=0;const he=E.data,N=j.data;for(let fe=0;fe<y;fe++){const Ae=fe<Z?R:D;let _e=3;for(let Ce=0;Ce<Ae;Ce++){let Te,De=0;for(let Fe=0;Fe<Y;Fe++)De||(Te=he[q++],De=128),N[_e]=Te&De?0:255,_e+=4,De>>=1}V.putImageData(j,0,fe*R)}}function v(V,E){const _=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let Y=0,D=_.length;Y<D;Y++){const Z=_[Y];void 0!==V[Z]&&(E[Z]=V[Z])}void 0!==V.setLineDash&&(E.setLineDash(V.getLineDash()),E.lineDashOffset=V.lineDashOffset)}function T(V){V.strokeStyle="#000000",V.fillStyle="#000000",V.fillRule="nonzero",V.globalAlpha=1,V.lineWidth=1,V.lineCap="butt",V.lineJoin="miter",V.miterLimit=10,V.globalCompositeOperation="source-over",V.font="10px sans-serif",void 0!==V.setLineDash&&(V.setLineDash([]),V.lineDashOffset=0)}function F(V,E,_,Y){const D=V.length;for(let Z=3;Z<D;Z+=4){const y=V[Z];if(0===y)V[Z-3]=E,V[Z-2]=_,V[Z-1]=Y;else if(y<255){const j=255-y;V[Z-3]=V[Z-3]*y+E*j>>8,V[Z-2]=V[Z-2]*y+_*j>>8,V[Z-1]=V[Z-1]*y+Y*j>>8}}}function H(V,E,_){const Y=V.length;for(let Z=3;Z<Y;Z+=4)E[Z]=E[Z]*(_?_[V[Z]]:V[Z])*.00392156862745098|0}function ce(V,E,_){const Y=V.length;for(let D=3;D<Y;D+=4){const Z=77*V[D-3]+152*V[D-2]+28*V[D-1];E[D]=_?E[D]*_[Z>>8]>>8:E[D]*Z>>16}}function ge(V,E){const _=z.Util.singularValueDecompose2dScale(V);_[0]=Math.fround(_[0]),_[1]=Math.fround(_[1]);const Y=Math.fround((globalThis.devicePixelRatio||1)*p.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==E?E:_[0]<=Y||_[1]<=Y}const oe=["butt","round","square"],le=["miter","round","bevel"],pe={},ie={};class xe{constructor(E,_,Y,D,Z,y,j){this.ctx=E,this.current=new B(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=_,this.objs=Y,this.canvasFactory=D,this.imageLayer=Z,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=y,this.cachedCanvases=new G(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=j,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,E&&A(E),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:E,viewport:_,transparency:Y=!1,background:D=null}){const Z=this.ctx.canvas.width,y=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=D||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,Z,y),this.ctx.restore(),Y){const j=this.cachedCanvases.getCanvas("transparent",Z,y,!0);this.compositeCtx=this.ctx,this.transparentCanvas=j.canvas,this.ctx=j.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),T(this.ctx),E&&(this.ctx.transform.apply(this.ctx,E),this.outputScaleX=E[0],this.outputScaleY=E[0]),this.ctx.transform.apply(this.ctx,_.transform),this.viewportScale=_.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(E,_,Y,D){const Z=E.argsArray,y=E.fnArray;let j=_||0;const q=Z.length;if(q===j)return j;const he=q-j>10&&"function"==typeof Y,N=he?Date.now()+15:0;let fe=0;const Ae=this.commonObjs,_e=this.objs;let Ce;for(;;){if(void 0!==D&&j===D.nextBreakPoint)return D.breakIt(j,Y),j;if(Ce=y[j],Ce!==z.OPS.dependency)this[Ce].apply(this,Z[j]);else for(const Te of Z[j]){const De=Te.startsWith("g_")?Ae:_e;if(!De.has(Te))return De.get(Te,Y),j}if(j++,j===q)return j;if(he&&++fe>10){if(Date.now()>N)return Y(),j;fe=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(E,_){const Y=E.width,D=E.height;let N,fe,Z=Math.max(Math.hypot(_[0],_[1]),1),y=Math.max(Math.hypot(_[2],_[3]),1),j=Y,q=D,he="prescale1";for(;Z>2&&j>1||y>2&&q>1;){let Ae=j,_e=q;Z>2&&j>1&&(Ae=Math.ceil(j/2),Z/=j/Ae),y>2&&q>1&&(_e=Math.ceil(q/2),y/=q/_e),N=this.cachedCanvases.getCanvas(he,Ae,_e),fe=N.context,fe.clearRect(0,0,Ae,_e),fe.drawImage(E,0,0,j,q,0,0,Ae,_e),E=N.canvas,j=Ae,q=_e,he="prescale1"===he?"prescale2":"prescale1"}return{img:E,paintWidth:j,paintHeight:q}}_createMaskCanvas(E){const _=this.ctx,Y=E.width,D=E.height,Z=this.current.fillColor,y=this.current.patternFill,j=this.cachedCanvases.getCanvas("maskCanvas",Y,D);m(j.context,E);let N=z.Util.transform(_.mozCurrentTransform,[1/Y,0,0,-1/D,0,0]);N=z.Util.transform(N,[1,0,0,1,0,-D]);const fe=z.Util.applyTransform([0,0],N),Ae=z.Util.applyTransform([Y,D],N),_e=z.Util.normalizeRect([fe[0],fe[1],Ae[0],Ae[1]]),Ce=Math.ceil(_e[2]-_e[0]),Te=Math.ceil(_e[3]-_e[1]),De=this.cachedCanvases.getCanvas("fillCanvas",Ce,Te,!0),Fe=De.context,He=Math.min(fe[0],Ae[0]),L=Math.min(fe[1],Ae[1]);Fe.translate(-He,-L),Fe.transform.apply(Fe,N);const re=this._scaleImage(j.canvas,Fe.mozCurrentTransformInverse);Fe.imageSmoothingEnabled=ge(Fe.mozCurrentTransform,E.interpolate),Fe.drawImage(re.img,0,0,re.img.width,re.img.height,0,0,Y,D),Fe.globalCompositeOperation="source-in";const Pe=z.Util.transform(Fe.mozCurrentTransformInverse,[1,0,0,1,-He,-L]);return Fe.fillStyle=y?Z.getPattern(_,this,Pe,Ie.PathType.FILL):Z,Fe.fillRect(0,0,Y,D),{canvas:De.canvas,offsetX:Math.round(He),offsetY:Math.round(L)}}setLineWidth(E){this.current.lineWidth=E,this.ctx.lineWidth=E}setLineCap(E){this.ctx.lineCap=oe[E]}setLineJoin(E){this.ctx.lineJoin=le[E]}setMiterLimit(E){this.ctx.miterLimit=E}setDash(E,_){const Y=this.ctx;void 0!==Y.setLineDash&&(Y.setLineDash(E),Y.lineDashOffset=_)}setRenderingIntent(E){}setFlatness(E){}setGState(E){for(let _=0,Y=E.length;_<Y;_++){const D=E[_],y=D[1];switch(D[0]){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y[0],y[1]);break;case"CA":this.current.strokeAlpha=D[1];break;case"ca":this.current.fillAlpha=D[1],this.ctx.globalAlpha=D[1];break;case"BM":this.ctx.globalCompositeOperation=y;break;case"SMask":this.current.activeSMask=y?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=y}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const E=this.inSMaskMode;this.current.activeSMask&&!E?this.beginSMaskMode():!this.current.activeSMask&&E&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const D=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=D.context;const Z=this.ctx;Z.setTransform.apply(Z,this.suspendedCtx.mozCurrentTransform),v(this.suspendedCtx,Z),function O(V,E){if(V._removeMirroring)throw new Error("Context is already forwarding operations.");V.__originalSave=V.save,V.__originalRestore=V.restore,V.__originalRotate=V.rotate,V.__originalScale=V.scale,V.__originalTranslate=V.translate,V.__originalTransform=V.transform,V.__originalSetTransform=V.setTransform,V.__originalResetTransform=V.resetTransform,V.__originalClip=V.clip,V.__originalMoveTo=V.moveTo,V.__originalLineTo=V.lineTo,V.__originalBezierCurveTo=V.bezierCurveTo,V.__originalRect=V.rect,V.__originalClosePath=V.closePath,V.__originalBeginPath=V.beginPath,V._removeMirroring=()=>{V.save=V.__originalSave,V.restore=V.__originalRestore,V.rotate=V.__originalRotate,V.scale=V.__originalScale,V.translate=V.__originalTranslate,V.transform=V.__originalTransform,V.setTransform=V.__originalSetTransform,V.resetTransform=V.__originalResetTransform,V.clip=V.__originalClip,V.moveTo=V.__originalMoveTo,V.lineTo=V.__originalLineTo,V.bezierCurveTo=V.__originalBezierCurveTo,V.rect=V.__originalRect,V.closePath=V.__originalClosePath,V.beginPath=V.__originalBeginPath,delete V._removeMirroring},V.save=function(){E.save(),this.__originalSave()},V.restore=function(){E.restore(),this.__originalRestore()},V.translate=function(Y,D){E.translate(Y,D),this.__originalTranslate(Y,D)},V.scale=function(Y,D){E.scale(Y,D),this.__originalScale(Y,D)},V.transform=function(Y,D,Z,y,j,q){E.transform(Y,D,Z,y,j,q),this.__originalTransform(Y,D,Z,y,j,q)},V.setTransform=function(Y,D,Z,y,j,q){E.setTransform(Y,D,Z,y,j,q),this.__originalSetTransform(Y,D,Z,y,j,q)},V.resetTransform=function(){E.resetTransform(),this.__originalResetTransform()},V.rotate=function(Y){E.rotate(Y),this.__originalRotate(Y)},V.clip=function(Y){E.clip(Y),this.__originalClip(Y)},V.moveTo=function(_,Y){E.moveTo(_,Y),this.__originalMoveTo(_,Y)},V.lineTo=function(_,Y){E.lineTo(_,Y),this.__originalLineTo(_,Y)},V.bezierCurveTo=function(_,Y,D,Z,y,j){E.bezierCurveTo(_,Y,D,Z,y,j),this.__originalBezierCurveTo(_,Y,D,Z,y,j)},V.rect=function(_,Y,D,Z){E.rect(_,Y,D,Z),this.__originalRect(_,Y,D,Z)},V.closePath=function(){E.closePath(),this.__originalClosePath()},V.beginPath=function(){E.beginPath(),this.__originalBeginPath()}}(Z,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),v(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(E){this.current.activeSMask&&(E?(E[0]=Math.floor(E[0]),E[1]=Math.floor(E[1]),E[2]=Math.ceil(E[2]),E[3]=Math.ceil(E[3])):E=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function de(V,E,_,Y){const D=Y[0],Z=Y[1],y=Y[2]-D,j=Y[3]-Z;0===y||0===j||(function ne(V,E,_,Y,D,Z,y,j,q,he,N){const fe=!!Z,Ae=fe?Z[0]:0,_e=fe?Z[1]:0,Ce=fe?Z[2]:0;let Te;Te="Luminosity"===D?ce:H;const Fe=Math.min(Y,Math.ceil(1048576/_));for(let He=0;He<Y;He+=Fe){const L=Math.min(Fe,Y-He),re=V.getImageData(j-he,He+(q-N),_,L),Pe=E.getImageData(j,He+q,_,L);fe&&F(re.data,Ae,_e,Ce),Te(re.data,Pe.data,y),E.putImageData(Pe,j,He+q)}}(E.context,_,y,j,E.subtype,E.backdrop,E.transferMap,D,Z,E.offsetX,E.offsetY),V.save(),V.globalAlpha=1,V.globalCompositeOperation="source-over",V.setTransform(1,0,0,1,0,0),V.drawImage(_.canvas,0,0),V.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,E),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(v(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const E=this.current;this.stateStack.push(E),this.current=E.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),v(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(E,_,Y,D,Z,y){this.ctx.transform(E,_,Y,D,Z,y),this._cachedGetSinglePixelWidth=null}constructPath(E,_){const Y=this.ctx,D=this.current;let j,q,Z=D.x,y=D.y;for(let he=0,N=0,fe=E.length;he<fe;he++)switch(0|E[he]){case z.OPS.rectangle:Z=_[N++],y=_[N++];const Ae=_[N++],_e=_[N++],Ce=Z+Ae,Te=y+_e;Y.moveTo(Z,y),0===Ae||0===_e?Y.lineTo(Ce,Te):(Y.lineTo(Ce,y),Y.lineTo(Ce,Te),Y.lineTo(Z,Te)),D.updatePathMinMax(Y.mozCurrentTransform,Z,y),D.updatePathMinMax(Y.mozCurrentTransform,Ce,Te),Y.closePath();break;case z.OPS.moveTo:Z=_[N++],y=_[N++],Y.moveTo(Z,y),D.updatePathMinMax(Y.mozCurrentTransform,Z,y);break;case z.OPS.lineTo:Z=_[N++],y=_[N++],Y.lineTo(Z,y),D.updatePathMinMax(Y.mozCurrentTransform,Z,y);break;case z.OPS.curveTo:j=Z,q=y,Z=_[N+4],y=_[N+5],Y.bezierCurveTo(_[N],_[N+1],_[N+2],_[N+3],Z,y),D.updateCurvePathMinMax(Y.mozCurrentTransform,j,q,_[N],_[N+1],_[N+2],_[N+3],Z,y),N+=6;break;case z.OPS.curveTo2:j=Z,q=y,Y.bezierCurveTo(Z,y,_[N],_[N+1],_[N+2],_[N+3]),D.updateCurvePathMinMax(Y.mozCurrentTransform,j,q,Z,y,_[N],_[N+1],_[N+2],_[N+3]),Z=_[N+2],y=_[N+3],N+=4;break;case z.OPS.curveTo3:j=Z,q=y,Z=_[N+2],y=_[N+3],Y.bezierCurveTo(_[N],_[N+1],Z,y,Z,y),D.updateCurvePathMinMax(Y.mozCurrentTransform,j,q,_[N],_[N+1],Z,y,Z,y),N+=4;break;case z.OPS.closePath:Y.closePath()}D.setCurrentPoint(Z,y)}closePath(){this.ctx.closePath()}stroke(E){E=void 0===E||E;const _=this.ctx,Y=this.current.strokeColor;if(_.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof Y&&(null==Y?void 0:Y.getPattern)){const D=this.getSinglePixelWidth();_.save(),_.strokeStyle=Y.getPattern(_,this,_.mozCurrentTransformInverse,Ie.PathType.STROKE),_.lineWidth=Math.max(D,this.current.lineWidth),_.stroke(),_.restore()}else{const D=this.getSinglePixelWidth();D<0&&-D>=this.current.lineWidth?(_.save(),_.resetTransform(),_.lineWidth=Math.floor(this._combinedScaleFactor),_.stroke(),_.restore()):(_.lineWidth=Math.max(D,this.current.lineWidth),_.stroke())}E&&this.consumePath(this.current.getClippedPathBoundingBox()),_.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(E){E=void 0===E||E;const _=this.ctx,Y=this.current.fillColor;let Z=!1;this.current.patternFill&&(_.save(),_.fillStyle=Y.getPattern(_,this,_.mozCurrentTransformInverse,Ie.PathType.FILL),Z=!0);const y=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==y&&(this.pendingEOFill?(_.fill("evenodd"),this.pendingEOFill=!1):_.fill()),Z&&_.restore(),E&&this.consumePath(y)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=pe}eoClip(){this.pendingClip=ie}beginText(){this.current.textMatrix=z.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const E=this.pendingTextPaths,_=this.ctx;if(void 0!==E){_.save(),_.beginPath();for(let Y=0;Y<E.length;Y++){const D=E[Y];_.setTransform.apply(_,D.transform),_.translate(D.x,D.y),D.addToPath(_,D.fontSize)}_.restore(),_.clip(),_.beginPath(),delete this.pendingTextPaths}else _.beginPath()}setCharSpacing(E){this.current.charSpacing=E}setWordSpacing(E){this.current.wordSpacing=E}setHScale(E){this.current.textHScale=E/100}setLeading(E){this.current.leading=-E}setFont(E,_){const Y=this.commonObjs.get(E),D=this.current;if(!Y)throw new Error(`Can't find font for ${E}`);if(D.fontMatrix=Y.fontMatrix||z.FONT_IDENTITY_MATRIX,(0===D.fontMatrix[0]||0===D.fontMatrix[3])&&(0,z.warn)("Invalid font matrix for font "+E),_<0?(_=-_,D.fontDirection=-1):D.fontDirection=1,this.current.font=Y,this.current.fontSize=_,Y.isType3Font)return;let y="normal";Y.black?y="900":Y.bold&&(y="bold");const j=Y.italic?"italic":"normal",q=`"${Y.loadedName||"sans-serif"}", ${Y.fallbackName}`;let he=_;_<16?he=16:_>100&&(he=100),this.current.fontSizeScale=_/he,this.ctx.font=`${j} ${y} ${he}px ${q}`}setTextRenderingMode(E){this.current.textRenderingMode=E}setTextRise(E){this.current.textRise=E}moveText(E,_){this.current.x=this.current.lineX+=E,this.current.y=this.current.lineY+=_}setLeadingMoveText(E,_){this.setLeading(-_),this.moveText(E,_)}setTextMatrix(E,_,Y,D,Z,y){this.current.textMatrix=[E,_,Y,D,Z,y],this.current.textMatrixScale=Math.hypot(E,_),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(E,_,Y,D,Z){const y=this.ctx,j=this.current,q=j.font,he=j.textRenderingMode,N=j.fontSize/j.fontSizeScale,fe=he&z.TextRenderingMode.FILL_STROKE_MASK,Ae=!!(he&z.TextRenderingMode.ADD_TO_PATH_FLAG),_e=j.patternFill&&!q.missingFile;let Ce;(q.disableFontFace||Ae||_e)&&(Ce=q.getPathGenerator(this.commonObjs,E)),q.disableFontFace||_e?(y.save(),y.translate(_,Y),y.beginPath(),Ce(y,N),D&&y.setTransform.apply(y,D),(fe===z.TextRenderingMode.FILL||fe===z.TextRenderingMode.FILL_STROKE)&&y.fill(),(fe===z.TextRenderingMode.STROKE||fe===z.TextRenderingMode.FILL_STROKE)&&(Z&&(y.resetTransform(),y.lineWidth=Math.floor(this._combinedScaleFactor)),y.stroke()),y.restore()):((fe===z.TextRenderingMode.FILL||fe===z.TextRenderingMode.FILL_STROKE)&&y.fillText(E,_,Y),(fe===z.TextRenderingMode.STROKE||fe===z.TextRenderingMode.FILL_STROKE)&&(Z?(y.save(),y.moveTo(_,Y),y.resetTransform(),y.lineWidth=Math.floor(this._combinedScaleFactor),y.strokeText(E,0,0),y.restore()):y.strokeText(E,_,Y))),Ae&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:y.mozCurrentTransform,x:_,y:Y,fontSize:N,addToPath:Ce})}get isFontSubpixelAAEnabled(){const{context:E}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);E.scale(1.5,1),E.fillText("I",0,10);const _=E.getImageData(0,0,10,10).data;let Y=!1;for(let D=3;D<_.length;D+=4)if(_[D]>0&&_[D]<255){Y=!0;break}return(0,z.shadow)(this,"isFontSubpixelAAEnabled",Y)}showText(E){const _=this.current,Y=_.font;if(Y.isType3Font)return this.showType3Text(E);const D=_.fontSize;if(0===D)return;const Z=this.ctx,y=_.fontSizeScale,j=_.charSpacing,q=_.wordSpacing,he=_.fontDirection,N=_.textHScale*he,fe=E.length,Ae=Y.vertical,_e=Ae?1:-1,Ce=Y.defaultVMetrics,Te=D*_.fontMatrix[0],De=_.textRenderingMode===z.TextRenderingMode.FILL&&!Y.disableFontFace&&!_.patternFill;let Fe;if(Z.save(),Z.transform.apply(Z,_.textMatrix),Z.translate(_.x,_.y+_.textRise),Z.scale(N,he>0?-1:1),_.patternFill){Z.save();const $=_.fillColor.getPattern(Z,this,Z.mozCurrentTransformInverse,Ie.PathType.FILL);Fe=Z.mozCurrentTransform,Z.restore(),Z.fillStyle=$}let He=_.lineWidth,L=!1;const re=_.textMatrixScale;if(0===re||0===He){const $=_.textRenderingMode&z.TextRenderingMode.FILL_STROKE_MASK;($===z.TextRenderingMode.STROKE||$===z.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,He=this.getSinglePixelWidth(),L=He<0)}else He/=re;1!==y&&(Z.scale(y,y),He/=y),Z.lineWidth=He;let ve,Pe=0;for(ve=0;ve<fe;++ve){const $=E[ve];if("number"==typeof $){Pe+=_e*$*D/1e3;continue}let be=!1;const ae=($.isSpace?q:0)+j,ye=$.fontChar,Re=$.accent;let Xe,Ge,tt,$e=$.width;if(Ae){const qe=$.vmetric||Ce,Je=-($.vmetric?qe[1]:.5*$e)*Te;$e=qe?-qe[0]:$e,Xe=Je/y,Ge=(Pe+qe[2]*Te)/y}else Xe=Pe/y,Ge=0;if(Y.remeasure&&$e>0){const qe=1e3*Z.measureText(ye).width/D*y;if($e<qe&&this.isFontSubpixelAAEnabled){const Je=$e/qe;be=!0,Z.save(),Z.scale(Je,1),Xe/=Je}else $e!==qe&&(Xe+=($e-qe)/2e3*D/y)}this.contentVisible&&($.isInFont||Y.missingFile)&&(De&&!Re?Z.fillText(ye,Xe,Ge):(this.paintChar(ye,Xe,Ge,Fe,L),Re&&this.paintChar(Re.fontChar,Xe+D*Re.offset.x/y,Ge-D*Re.offset.y/y,Fe,L))),tt=Ae?$e*Te-ae*he:$e*Te+ae*he,Pe+=tt,be&&Z.restore()}Ae?_.y-=Pe:_.x+=Pe*N,Z.restore(),this.compose()}showType3Text(E){const _=this.ctx,Y=this.current,D=Y.font,Z=Y.fontSize,y=Y.fontDirection,j=D.vertical?1:-1,q=Y.charSpacing,he=Y.wordSpacing,N=Y.textHScale*y,fe=Y.fontMatrix||z.FONT_IDENTITY_MATRIX,Ae=E.length;let Ce,Te,De,Fe;if(Y.textRenderingMode!==z.TextRenderingMode.INVISIBLE&&0!==Z){for(this._cachedGetSinglePixelWidth=null,_.save(),_.transform.apply(_,Y.textMatrix),_.translate(Y.x,Y.y),_.scale(N,y),Ce=0;Ce<Ae;++Ce){if(Te=E[Ce],"number"==typeof Te){Fe=j*Te*Z/1e3,this.ctx.translate(Fe,0),Y.x+=Fe*N;continue}const He=(Te.isSpace?he:0)+q,L=D.charProcOperatorList[Te.operatorListId];L?(this.contentVisible&&(this.processingType3=Te,this.save(),_.scale(Z,Z),_.transform.apply(_,fe),this.executeOperatorList(L),this.restore()),De=z.Util.applyTransform([Te.width,0],fe)[0]*Z+He,_.translate(De,0),Y.x+=De*N):(0,z.warn)(`Type3 character "${Te.operatorListId}" is not available.`)}_.restore(),this.processingType3=null}}setCharWidth(E,_){}setCharWidthAndBounds(E,_,Y,D,Z,y){this.ctx.rect(Y,D,Z-Y,y-D),this.clip(),this.endPath()}getColorN_Pattern(E){let _;if("TilingPattern"===E[0]){const Y=E[1],D=this.baseTransform||this.ctx.mozCurrentTransform.slice();_=new Ie.TilingPattern(E,Y,this.ctx,{createCanvasGraphics:y=>new xe(y,this.commonObjs,this.objs,this.canvasFactory)},D)}else _=this._getPattern(E[1],E[2]);return _}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(E,_,Y){const D=z.Util.makeHexColor(E,_,Y);this.ctx.strokeStyle=D,this.current.strokeColor=D}setFillRGBColor(E,_,Y){const D=z.Util.makeHexColor(E,_,Y);this.ctx.fillStyle=D,this.current.fillColor=D,this.current.patternFill=!1}_getPattern(E,_=null){let Y;return this.cachedPatterns.has(E)?Y=this.cachedPatterns.get(E):(Y=(0,Ie.getShadingPattern)(this.objs.get(E)),this.cachedPatterns.set(E,Y)),_&&(Y.matrix=_),Y}shadingFill(E){if(!this.contentVisible)return;const _=this.ctx;this.save();const Y=this._getPattern(E);_.fillStyle=Y.getPattern(_,this,_.mozCurrentTransformInverse,Ie.PathType.SHADING);const D=_.mozCurrentTransformInverse;if(D){const Z=_.canvas,y=Z.width,j=Z.height,q=z.Util.applyTransform([0,0],D),he=z.Util.applyTransform([0,j],D),N=z.Util.applyTransform([y,0],D),fe=z.Util.applyTransform([y,j],D),Ae=Math.min(q[0],he[0],N[0],fe[0]),_e=Math.min(q[1],he[1],N[1],fe[1]),Ce=Math.max(q[0],he[0],N[0],fe[0]),Te=Math.max(q[1],he[1],N[1],fe[1]);this.ctx.fillRect(Ae,_e,Ce-Ae,Te-_e)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,z.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,z.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(E,_){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(E)&&6===E.length&&this.transform.apply(this,E),this.baseTransform=this.ctx.mozCurrentTransform,_)&&(this.ctx.rect(_[0],_[1],_[2]-_[0],_[3]-_[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,_[0],_[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,_[2],_[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(E){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const _=this.ctx;E.isolated||(0,z.info)("TODO: Support non-isolated groups."),E.knockout&&(0,z.warn)("Knockout groups not supported.");const Y=_.mozCurrentTransform;if(E.matrix&&_.transform.apply(_,E.matrix),!E.bbox)throw new Error("Bounding box is required.");let D=z.Util.getAxialAlignedBoundingBox(E.bbox,_.mozCurrentTransform);D=z.Util.intersect(D,[0,0,_.canvas.width,_.canvas.height])||[0,0,0,0];const y=Math.floor(D[0]),j=Math.floor(D[1]);let q=Math.max(Math.ceil(D[2])-y,1),he=Math.max(Math.ceil(D[3])-j,1),N=1,fe=1;q>K&&(N=q/K,q=K),he>K&&(fe=he/K,he=K),this.current.startNewPathAndClipBox([0,0,q,he]);let Ae="groupAt"+this.groupLevel;E.smask&&(Ae+="_smask_"+this.smaskCounter++%2);const _e=this.cachedCanvases.getCanvas(Ae,q,he,!0),Ce=_e.context;Ce.scale(1/N,1/fe),Ce.translate(-y,-j),Ce.transform.apply(Ce,Y),E.smask?this.smaskStack.push({canvas:_e.canvas,context:Ce,offsetX:y,offsetY:j,scaleX:N,scaleY:fe,subtype:E.smask.subtype,backdrop:E.smask.backdrop,transferMap:E.smask.transferMap||null,startTransformInverse:null}):(_.setTransform(1,0,0,1,0,0),_.translate(y,j),_.scale(N,fe),_.save()),v(_,Ce),this.ctx=Ce,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(_),this.groupLevel++}endGroup(E){if(!this.contentVisible)return;this.groupLevel--;const _=this.ctx,Y=this.groupStack.pop();if(this.ctx=Y,this.ctx.imageSmoothingEnabled=!1,E.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const D=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,D);const Z=z.Util.getAxialAlignedBoundingBox([0,0,_.canvas.width,_.canvas.height],D);this.ctx.drawImage(_.canvas,0,0),this.ctx.restore(),this.compose(Z)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(E,_,Y,D,Z){if(this.save(),Array.isArray(_)&&4===_.length){const y=_[2]-_[0],j=_[3]-_[1];if(Z&&this.annotationCanvasMap){(Y=Y.slice())[4]-=_[0],Y[5]-=_[1],(_=_.slice())[0]=_[1]=0,_[2]=y,_[3]=j;const[q,he]=z.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:N}=this,fe=Math.ceil(y*this.outputScaleX*N),Ae=Math.ceil(j*this.outputScaleY*N);this.annotationCanvas=this.canvasFactory.create(fe,Ae);const{canvas:_e,context:Ce}=this.annotationCanvas;_e.style.width=`calc(${y}px * var(--viewport-scale-factor))`,_e.style.height=`calc(${j}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(E,_e),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ce,this.ctx.setTransform(q,0,0,-he,0,j*he),A(this.ctx),T(this.ctx)}else T(this.ctx),this.ctx.rect(_[0],_[1],y,j),this.clip(),this.endPath()}this.current=new B(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,Y),this.transform.apply(this,D)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(E){if(!this.contentVisible)return;const _=this.ctx,Y=E.width,D=E.height,Z=this.processingType3;if(Z&&void 0===Z.compiled&&(Z.compiled=Y<=1e3&&D<=1e3?function te(V){const _=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Y=V.width,D=V.height,Z=Y+1;let y,j,q,he;const N=new Uint8Array(Z*(D+1)),fe=Y+7&-8,Ae=V.data,_e=new Uint8Array(fe*D);let Ce=0;for(y=0,j=Ae.length;y<j;y++){const L=Ae[y];let re=128;for(;re>0;)_e[Ce++]=L&re?0:255,re>>=1}let Te=0;for(Ce=0,0!==_e[Ce]&&(N[0]=1,++Te),q=1;q<Y;q++)_e[Ce]!==_e[Ce+1]&&(N[q]=_e[Ce]?2:1,++Te),Ce++;for(0!==_e[Ce]&&(N[q]=2,++Te),y=1;y<D;y++){Ce=y*fe,he=y*Z,_e[Ce-fe]!==_e[Ce]&&(N[he]=_e[Ce]?1:8,++Te);let L=(_e[Ce]?4:0)+(_e[Ce-fe]?8:0);for(q=1;q<Y;q++)L=(L>>2)+(_e[Ce+1]?4:0)+(_e[Ce-fe+1]?8:0),_[L]&&(N[he+q]=_[L],++Te),Ce++;if(_e[Ce-fe]!==_e[Ce]&&(N[he+q]=_e[Ce]?2:4,++Te),Te>1e3)return null}for(Ce=fe*(D-1),he=y*Z,0!==_e[Ce]&&(N[he]=8,++Te),q=1;q<Y;q++)_e[Ce]!==_e[Ce+1]&&(N[he+q]=_e[Ce]?4:8,++Te),Ce++;if(0!==_e[Ce]&&(N[he+q]=4,++Te),Te>1e3)return null;const De=new Int32Array([0,Z,-1,0,-Z,0,0,0,1]),Fe=[];for(y=0;Te&&y<=D;y++){let L=y*Z;const re=L+Y;for(;L<re&&!N[L];)L++;if(L===re)continue;const Pe=[L%Z,y],ve=L;let $=N[L];do{const be=De[$];do{L+=be}while(!N[L]);const ae=N[L];5!==ae&&10!==ae?($=ae,N[L]=0):($=ae&51*$>>4,N[L]&=$>>2|$<<2),Pe.push(L%Z,L/Z|0),N[L]||--Te}while(ve!==L);Fe.push(Pe),--y}return function(L){L.save(),L.scale(1/Y,-1/D),L.translate(0,-D),L.beginPath();for(let re=0,Pe=Fe.length;re<Pe;re++){const ve=Fe[re];L.moveTo(ve[0],ve[1]);for(let $=2,be=ve.length;$<be;$+=2)L.lineTo(ve[$],ve[$+1])}L.fill(),L.beginPath(),L.restore()}}({data:E.data,width:Y,height:D}):null),null==Z?void 0:Z.compiled)return void Z.compiled(_);const y=this._createMaskCanvas(E),j=y.canvas;_.save(),_.setTransform(1,0,0,1,0,0),_.drawImage(j,y.offsetX,y.offsetY),_.restore(),this.compose()}paintImageMaskXObjectRepeat(E,_,Y=0,D=0,Z,y){if(!this.contentVisible)return;const j=this.ctx;j.save();const q=j.mozCurrentTransform;j.transform(_,Y,D,Z,0,0);const he=this._createMaskCanvas(E);j.setTransform(1,0,0,1,0,0);for(let N=0,fe=y.length;N<fe;N+=2){const Ae=z.Util.transform(q,[_,Y,D,Z,y[N],y[N+1]]),[_e,Ce]=z.Util.applyTransform([0,0],Ae);j.drawImage(he.canvas,_e,Ce)}j.restore(),this.compose()}paintImageMaskXObjectGroup(E){if(!this.contentVisible)return;const _=this.ctx,Y=this.current.fillColor,D=this.current.patternFill;for(let Z=0,y=E.length;Z<y;Z++){const j=E[Z],q=j.width,he=j.height,N=this.cachedCanvases.getCanvas("maskCanvas",q,he),fe=N.context;fe.save(),m(fe,j),fe.globalCompositeOperation="source-in",fe.fillStyle=D?Y.getPattern(fe,this,_.mozCurrentTransformInverse,Ie.PathType.FILL):Y,fe.fillRect(0,0,q,he),fe.restore(),_.save(),_.transform.apply(_,j.transform),_.scale(1,-1),_.drawImage(N.canvas,0,0,q,he,0,-1,1,1),_.restore()}this.compose()}paintImageXObject(E){if(!this.contentVisible)return;const _=E.startsWith("g_")?this.commonObjs.get(E):this.objs.get(E);_?this.paintInlineImageXObject(_):(0,z.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(E,_,Y,D){if(!this.contentVisible)return;const Z=E.startsWith("g_")?this.commonObjs.get(E):this.objs.get(E);if(!Z)return void(0,z.warn)("Dependent image isn't ready yet");const y=Z.width,j=Z.height,q=[];for(let he=0,N=D.length;he<N;he+=2)q.push({transform:[_,0,0,Y,D[he],D[he+1]],x:0,y:0,w:y,h:j});this.paintInlineImageXObjectGroup(Z,q)}paintInlineImageXObject(E){if(!this.contentVisible)return;const _=E.width,Y=E.height,D=this.ctx;let Z;if(this.save(),D.scale(1/_,-1/Y),"function"==typeof HTMLElement&&E instanceof HTMLElement||!E.data)Z=E;else{const j=this.cachedCanvases.getCanvas("inlineImage",_,Y);w(j.context,E,this.current.transferMaps),Z=j.canvas}const y=this._scaleImage(Z,D.mozCurrentTransformInverse);if(D.imageSmoothingEnabled=ge(D.mozCurrentTransform,E.interpolate),D.drawImage(y.img,0,0,y.paintWidth,y.paintHeight,0,-Y,_,Y),this.imageLayer){const j=this.getCanvasPosition(0,-Y);this.imageLayer.appendImage({imgData:E,left:j[0],top:j[1],width:_/D.mozCurrentTransformInverse[0],height:Y/D.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(E,_){if(!this.contentVisible)return;const Y=this.ctx,D=E.width,Z=E.height,y=this.cachedCanvases.getCanvas("inlineImage",D,Z);w(y.context,E,this.current.transferMaps);for(let q=0,he=_.length;q<he;q++){const N=_[q];if(Y.save(),Y.transform.apply(Y,N.transform),Y.scale(1,-1),Y.drawImage(y.canvas,N.x,N.y,N.w,N.h,0,-1,1,1),this.imageLayer){const fe=this.getCanvasPosition(N.x,N.y);this.imageLayer.appendImage({imgData:E,left:fe[0],top:fe[1],width:D,height:Z})}Y.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(E){}markPointProps(E,_){}beginMarkedContent(E){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(E,_){this.markedContentStack.push("OC"===E?{visible:this.optionalContentConfig.isVisible(_)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(E){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(E);const _=this.ctx;this.pendingClip&&(this.pendingClip===ie?_.clip("evenodd"):_.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),_.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const E=this.ctx.mozCurrentTransform,_=Math.abs(E[0]*E[3]-E[2]*E[1]),Y=E[0]**2+E[2]**2,D=E[1]**2+E[3]**2,Z=Math.sqrt(Math.max(Y,D))/_;this._cachedGetSinglePixelWidth=Y!==D&&this._combinedScaleFactor*Z>1?-this._combinedScaleFactor*Z:_>Number.EPSILON?Z:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(E,_){const Y=this.ctx.mozCurrentTransform;return[Y[0]*E+Y[2]*_+Y[4],Y[1]*E+Y[3]*_+Y[5]]}isContentVisible(){for(let E=this.markedContentStack.length-1;E>=0;E--)if(!this.markedContentStack[E].visible)return!1;return!0}}ee.CanvasGraphics=xe;for(const V in z.OPS)void 0!==xe.prototype[V]&&(xe.prototype[z.OPS[V]]=xe.prototype[V])},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.TilingPattern=ee.PathType=void 0,ee.getShadingPattern=function P(O){switch(O[0]){case"RadialAxial":return new ue(O);case"Mesh":return new k(O);case"Dummy":return new b}throw new Error(`Unknown IR type: ${O[0]}`)};var z=Ee(1);const Ie={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function p(O,A){if(!A||"undefined"==typeof Path2D)return;const G=A[2]-A[0],te=A[3]-A[1],B=new Path2D;B.rect(A[0],A[1],G,te),O.clip(B)}ee.PathType=Ie;class Me{constructor(){this.constructor===Me&&(0,z.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,z.unreachable)("Abstract method `getPattern` called.")}}class ue extends Me{constructor(A){super(),this._type=A[1],this._bbox=A[2],this._colorStops=A[3],this._p0=A[4],this._p1=A[5],this._r0=A[6],this._r1=A[7],this.matrix=null}_createGradient(A){let G;"axial"===this._type?G=A.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(G=A.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const te of this._colorStops)G.addColorStop(te[0],te[1]);return G}getPattern(A,G,te,B){let w;if(B===Ie.STROKE||B===Ie.FILL){const m=G.current.getClippedPathBoundingBox(B,A.mozCurrentTransform)||[0,0,0,0],v=Math.ceil(m[2]-m[0])||1,T=Math.ceil(m[3]-m[1])||1,F=G.cachedCanvases.getCanvas("pattern",v,T,!0),H=F.context;H.clearRect(0,0,H.canvas.width,H.canvas.height),H.beginPath(),H.rect(0,0,H.canvas.width,H.canvas.height),H.translate(-m[0],-m[1]),te=z.Util.transform(te,[1,0,0,1,m[0],m[1]]),H.transform.apply(H,G.baseTransform),this.matrix&&H.transform.apply(H,this.matrix),p(H,this._bbox),H.fillStyle=this._createGradient(H),H.fill(),w=A.createPattern(F.canvas,"no-repeat");const ce=new DOMMatrix(te);try{w.setTransform(ce)}catch(ne){(0,z.warn)(`RadialAxialShadingPattern.getPattern: "${null==ne?void 0:ne.message}".`)}}else p(A,this._bbox),w=this._createGradient(A);return w}}function K(O,A,G,te,B,w,m,v){const T=A.coords,F=A.colors,H=O.data,ce=4*O.width;let ne;T[G+1]>T[te+1]&&(ne=G,G=te,te=ne,ne=w,w=m,m=ne),T[te+1]>T[B+1]&&(ne=te,te=B,B=ne,ne=m,m=v,v=ne),T[G+1]>T[te+1]&&(ne=G,G=te,te=ne,ne=w,w=m,m=ne);const de=(T[G]+A.offsetX)*A.scaleX,ge=(T[G+1]+A.offsetY)*A.scaleY,oe=(T[te]+A.offsetX)*A.scaleX,le=(T[te+1]+A.offsetY)*A.scaleY,pe=(T[B]+A.offsetX)*A.scaleX,ie=(T[B+1]+A.offsetY)*A.scaleY;if(ge>=ie)return;const xe=F[w],V=F[w+1],E=F[w+2],_=F[m],Y=F[m+1],D=F[m+2],Z=F[v],y=F[v+1],j=F[v+2],q=Math.round(ge),he=Math.round(ie);let N,fe,Ae,_e,Ce,Te,De,Fe;for(let He=q;He<=he;He++){if(He<le){let $;$=He<ge?0:(ge-He)/(ge-le),N=de-(de-oe)*$,fe=xe-(xe-_)*$,Ae=V-(V-Y)*$,_e=E-(E-D)*$}else{let $;$=He>ie?1:le===ie?0:(le-He)/(le-ie),N=oe-(oe-pe)*$,fe=_-(_-Z)*$,Ae=Y-(Y-y)*$,_e=D-(D-j)*$}let L;L=He<ge?0:He>ie?1:(ge-He)/(ge-ie),Ce=de-(de-pe)*L,Te=xe-(xe-Z)*L,De=V-(V-y)*L,Fe=E-(E-j)*L;const re=Math.round(Math.min(N,Ce)),Pe=Math.round(Math.max(N,Ce));let ve=ce*He+4*re;for(let $=re;$<=Pe;$++)L=(N-$)/(N-Ce),L<0?L=0:L>1&&(L=1),H[ve++]=fe-(fe-Te)*L|0,H[ve++]=Ae-(Ae-De)*L|0,H[ve++]=_e-(_e-Fe)*L|0,H[ve++]=255}}function u(O,A,G){const te=A.coords,B=A.colors;let w,m;switch(A.type){case"lattice":const v=A.verticesPerRow,T=Math.floor(te.length/v)-1,F=v-1;for(w=0;w<T;w++){let H=w*v;for(let ce=0;ce<F;ce++,H++)K(O,G,te[H],te[H+1],te[H+v],B[H],B[H+1],B[H+v]),K(O,G,te[H+v+1],te[H+1],te[H+v],B[H+v+1],B[H+1],B[H+v])}break;case"triangles":for(w=0,m=te.length;w<m;w+=3)K(O,G,te[w],te[w+1],te[w+2],B[w],B[w+1],B[w+2]);break;default:throw new Error("illegal figure")}}class k extends Me{constructor(A){super(),this._coords=A[2],this._colors=A[3],this._figures=A[4],this._bounds=A[5],this._bbox=A[7],this._background=A[8],this.matrix=null}_createMeshCanvas(A,G,te){const v=Math.floor(this._bounds[0]),T=Math.floor(this._bounds[1]),F=Math.ceil(this._bounds[2])-v,H=Math.ceil(this._bounds[3])-T,ce=Math.min(Math.ceil(Math.abs(F*A[0]*1.1)),3e3),ne=Math.min(Math.ceil(Math.abs(H*A[1]*1.1)),3e3),de=F/ce,ge=H/ne,oe={coords:this._coords,colors:this._colors,offsetX:-v,offsetY:-T,scaleX:1/de,scaleY:1/ge},ie=te.getCanvas("mesh",ce+4,ne+4,!1),xe=ie.context,V=xe.createImageData(ce,ne);if(G){const _=V.data;for(let Y=0,D=_.length;Y<D;Y+=4)_[Y]=G[0],_[Y+1]=G[1],_[Y+2]=G[2],_[Y+3]=255}for(const _ of this._figures)u(V,_,oe);return xe.putImageData(V,2,2),{canvas:ie.canvas,offsetX:v-2*de,offsetY:T-2*ge,scaleX:de,scaleY:ge}}getPattern(A,G,te,B){let w;if(p(A,this._bbox),B===Ie.SHADING)w=z.Util.singularValueDecompose2dScale(A.mozCurrentTransform);else if(w=z.Util.singularValueDecompose2dScale(G.baseTransform),this.matrix){const v=z.Util.singularValueDecompose2dScale(this.matrix);w=[w[0]*v[0],w[1]*v[1]]}const m=this._createMeshCanvas(w,B===Ie.SHADING?null:this._background,G.cachedCanvases);return B!==Ie.SHADING&&(A.setTransform.apply(A,G.baseTransform),this.matrix&&A.transform.apply(A,this.matrix)),A.translate(m.offsetX,m.offsetY),A.scale(m.scaleX,m.scaleY),A.createPattern(m.canvas,"no-repeat")}}class b extends Me{getPattern(){return"hotpink"}}class J{static get MAX_PATTERN_SIZE(){return(0,z.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(A,G,te,B,w){this.operatorList=A[2],this.matrix=A[3]||[1,0,0,1,0,0],this.bbox=A[4],this.xstep=A[5],this.ystep=A[6],this.paintType=A[7],this.tilingType=A[8],this.color=G,this.ctx=te,this.canvasGraphicsFactory=B,this.baseTransform=w}createPatternCanvas(A){const G=this.operatorList,te=this.bbox,B=this.xstep,w=this.ystep,m=this.paintType,T=this.color,F=this.canvasGraphicsFactory;(0,z.info)("TilingType: "+this.tilingType);const H=te[0],ce=te[1],ne=te[2],de=te[3],ge=z.Util.singularValueDecompose2dScale(this.matrix),oe=z.Util.singularValueDecompose2dScale(this.baseTransform),le=[ge[0]*oe[0],ge[1]*oe[1]],pe=this.getSizeAndScale(B,this.ctx.canvas.width,le[0]),ie=this.getSizeAndScale(w,this.ctx.canvas.height,le[1]),xe=A.cachedCanvases.getCanvas("pattern",pe.size,ie.size,!0),V=xe.context,E=F.createCanvasGraphics(V);E.groupLevel=A.groupLevel,this.setFillAndStrokeStyleToContext(E,m,T);let _=H,Y=ce,D=ne,Z=de;return H<0&&(_=0,D+=Math.abs(H)),ce<0&&(Y=0,Z+=Math.abs(ce)),V.translate(-pe.scale*_,-ie.scale*Y),E.transform(pe.scale,0,0,ie.scale,0,0),V.save(),this.clipBbox(E,_,Y,D,Z),E.baseTransform=E.ctx.mozCurrentTransform.slice(),E.executeOperatorList(G),E.endDrawing(),{canvas:xe.canvas,scaleX:pe.scale,scaleY:ie.scale,offsetX:_,offsetY:Y}}getSizeAndScale(A,G,te){A=Math.abs(A);const B=Math.max(J.MAX_PATTERN_SIZE,G);let w=Math.ceil(A*te);return w>=B?w=B:te=w/A,{scale:te,size:w}}clipBbox(A,G,te,B,w){A.ctx.rect(G,te,B-G,w-te),A.clip(),A.endPath()}setFillAndStrokeStyleToContext(A,G,te){const B=A.ctx,w=A.current;switch(G){case 1:const m=this.ctx;B.fillStyle=m.fillStyle,B.strokeStyle=m.strokeStyle,w.fillColor=m.fillStyle,w.strokeColor=m.strokeStyle;break;case 2:const v=z.Util.makeHexColor(te[0],te[1],te[2]);B.fillStyle=v,B.strokeStyle=v,w.fillColor=v,w.strokeColor=v;break;default:throw new z.FormatError(`Unsupported paint type: ${G}`)}}getPattern(A,G,te,B){let w=te;B!==Ie.SHADING&&(w=z.Util.transform(w,G.baseTransform),this.matrix&&(w=z.Util.transform(w,this.matrix)));const m=this.createPatternCanvas(G);let v=new DOMMatrix(w);v=v.translate(m.offsetX,m.offsetY),v=v.scale(1/m.scaleX,1/m.scaleY);const T=A.createPattern(m.canvas,"repeat");try{T.setTransform(v)}catch(F){(0,z.warn)(`TilingPattern.getPattern: "${null==F?void 0:F.message}".`)}return T}}ee.TilingPattern=J},(Ne,ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.GlobalWorkerOptions=void 0;const Ee=Object.create(null);ee.GlobalWorkerOptions=Ee,Ee.workerPort=void 0===Ee.workerPort?null:Ee.workerPort,Ee.workerSrc=void 0===Ee.workerSrc?"":Ee.workerSrc},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.MessageHandler=void 0;var z=Ee(1);function Me(K){switch(K instanceof Error||"object"==typeof K&&null!==K||(0,z.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),K.name){case"AbortException":return new z.AbortException(K.message);case"MissingPDFException":return new z.MissingPDFException(K.message);case"PasswordException":return new z.PasswordException(K.message,K.code);case"UnexpectedResponseException":return new z.UnexpectedResponseException(K.message,K.status);case"UnknownErrorException":return new z.UnknownErrorException(K.message,K.details);default:return new z.UnknownErrorException(K.message,K.toString())}}ee.MessageHandler=class ue{constructor(u,k,b){this.sourceName=u,this.targetName=k,this.comObj=b,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=P=>{const R=P.data;if(R.targetName!==this.sourceName)return;if(R.stream)return void this._processStreamMessage(R);if(R.callback){const O=R.callbackId,A=this.callbackCapabilities[O];if(!A)throw new Error(`Cannot resolve callback ${O}`);if(delete this.callbackCapabilities[O],1===R.callback)A.resolve(R.data);else{if(2!==R.callback)throw new Error("Unexpected callback case");A.reject(Me(R.reason))}return}const J=this.actionHandler[R.action];if(!J)throw new Error(`Unknown action from worker: ${R.action}`);if(R.callbackId){const O=this.sourceName,A=R.sourceName;new Promise(function(G){G(J(R.data))}).then(function(G){b.postMessage({sourceName:O,targetName:A,callback:1,callbackId:R.callbackId,data:G})},function(G){b.postMessage({sourceName:O,targetName:A,callback:2,callbackId:R.callbackId,reason:Me(G)})})}else R.streamId?this._createStreamSink(R):J(R.data)},b.addEventListener("message",this._onComObjOnMessage)}on(u,k){const b=this.actionHandler;if(b[u])throw new Error(`There is already an actionName called "${u}"`);b[u]=k}send(u,k,b){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,data:k},b)}sendWithPromise(u,k,b){const P=this.callbackId++,R=(0,z.createPromiseCapability)();this.callbackCapabilities[P]=R;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,callbackId:P,data:k},b)}catch(J){R.reject(J)}return R.promise}sendWithStream(u,k,b,P){const R=this.streamId++,J=this.sourceName,O=this.targetName,A=this.comObj;return new ReadableStream({start:G=>{const te=(0,z.createPromiseCapability)();return this.streamControllers[R]={controller:G,startCall:te,pullCall:null,cancelCall:null,isClosed:!1},A.postMessage({sourceName:J,targetName:O,action:u,streamId:R,data:k,desiredSize:G.desiredSize},P),te.promise},pull:G=>{const te=(0,z.createPromiseCapability)();return this.streamControllers[R].pullCall=te,A.postMessage({sourceName:J,targetName:O,stream:6,streamId:R,desiredSize:G.desiredSize}),te.promise},cancel:G=>{(0,z.assert)(G instanceof Error,"cancel must have a valid reason");const te=(0,z.createPromiseCapability)();return this.streamControllers[R].cancelCall=te,this.streamControllers[R].isClosed=!0,A.postMessage({sourceName:J,targetName:O,stream:1,streamId:R,reason:Me(G)}),te.promise}},b)}_createStreamSink(u){const k=u.streamId,b=this.sourceName,P=u.sourceName,R=this.comObj,J=this,O=this.actionHandler[u.action],A={enqueue(G,te=1,B){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=te,w>0&&this.desiredSize<=0&&(this.sinkCapability=(0,z.createPromiseCapability)(),this.ready=this.sinkCapability.promise),R.postMessage({sourceName:b,targetName:P,stream:4,streamId:k,chunk:G},B)},close(){this.isCancelled||(this.isCancelled=!0,R.postMessage({sourceName:b,targetName:P,stream:3,streamId:k}),delete J.streamSinks[k])},error(G){(0,z.assert)(G instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,R.postMessage({sourceName:b,targetName:P,stream:5,streamId:k,reason:Me(G)}))},sinkCapability:(0,z.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:u.desiredSize,ready:null};A.sinkCapability.resolve(),A.ready=A.sinkCapability.promise,this.streamSinks[k]=A,new Promise(function(G){G(O(u.data,A))}).then(function(){R.postMessage({sourceName:b,targetName:P,stream:8,streamId:k,success:!0})},function(G){R.postMessage({sourceName:b,targetName:P,stream:8,streamId:k,reason:Me(G)})})}_processStreamMessage(u){const k=u.streamId,b=this.sourceName,P=u.sourceName,R=this.comObj,J=this.streamControllers[k],O=this.streamSinks[k];switch(u.stream){case 8:u.success?J.startCall.resolve():J.startCall.reject(Me(u.reason));break;case 7:u.success?J.pullCall.resolve():J.pullCall.reject(Me(u.reason));break;case 6:if(!O){R.postMessage({sourceName:b,targetName:P,stream:7,streamId:k,success:!0});break}O.desiredSize<=0&&u.desiredSize>0&&O.sinkCapability.resolve(),O.desiredSize=u.desiredSize,new Promise(function(A){A(O.onPull&&O.onPull())}).then(function(){R.postMessage({sourceName:b,targetName:P,stream:7,streamId:k,success:!0})},function(A){R.postMessage({sourceName:b,targetName:P,stream:7,streamId:k,reason:Me(A)})});break;case 4:if((0,z.assert)(J,"enqueue should have stream controller"),J.isClosed)break;J.controller.enqueue(u.chunk);break;case 3:if((0,z.assert)(J,"close should have stream controller"),J.isClosed)break;J.isClosed=!0,J.controller.close(),this._deleteStreamController(J,k);break;case 5:(0,z.assert)(J,"error should have stream controller"),J.controller.error(Me(u.reason)),this._deleteStreamController(J,k);break;case 2:u.success?J.cancelCall.resolve():J.cancelCall.reject(Me(u.reason)),this._deleteStreamController(J,k);break;case 1:if(!O)break;new Promise(function(A){A(O.onCancel&&O.onCancel(Me(u.reason)))}).then(function(){R.postMessage({sourceName:b,targetName:P,stream:2,streamId:k,success:!0})},function(A){R.postMessage({sourceName:b,targetName:P,stream:2,streamId:k,reason:Me(A)})}),O.sinkCapability.reject(Me(u.reason)),O.isCancelled=!0,delete this.streamSinks[k];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(u,k){var b=this;return _asyncToGenerator(function*(){yield Promise.allSettled([u.startCall&&u.startCall.promise,u.pullCall&&u.pullCall.promise,u.cancelCall&&u.cancelCall.promise]),delete b.streamControllers[k]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Ne,ee,Ee)=>{var p,Me;Object.defineProperty(ee,"__esModule",{value:!0}),ee.Metadata=void 0;var z=Ee(1);p=new WeakMap,Me=new WeakMap,ee.Metadata=class Ie{constructor({parsedData:K,rawData:u}){et(this,p,void 0),et(this,Me,void 0),st(this,p,K),st(this,Me,u)}getRaw(){return Ue(this,Me)}get(K){var u;return null!=(u=Ue(this,p).get(K))?u:null}getAll(){return(0,z.objectFromMap)(Ue(this,p))}has(K){return Ue(this,p).has(K)}}},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.OptionalContentConfig=void 0;var z=Ee(1);class Ie{constructor(ue,K){this.visible=!0,this.name=ue,this.intent=K}}ee.OptionalContentConfig=class p{constructor(ue){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ue){this.name=ue.name,this.creator=ue.creator,this._order=ue.order;for(const K of ue.groups)this._groups.set(K.id,new Ie(K.name,K.intent));if("OFF"===ue.baseState)for(const K of this._groups)K.visible=!1;for(const K of ue.on)this._groups.get(K).visible=!0;for(const K of ue.off)this._groups.get(K).visible=!1}}_evaluateVisibilityExpression(ue){const K=ue.length;if(K<2)return!0;const u=ue[0];for(let k=1;k<K;k++){const b=ue[k];let P;if(Array.isArray(b))P=this._evaluateVisibilityExpression(b);else{if(!this._groups.has(b))return(0,z.warn)(`Optional content group not found: ${b}`),!0;P=this._groups.get(b).visible}switch(u){case"And":if(!P)return!1;break;case"Or":if(P)return!0;break;case"Not":return!P;default:return!0}}return"And"===u}isVisible(ue){if(0===this._groups.size)return!0;if(!ue)return(0,z.warn)("Optional content group not defined."),!0;if("OCG"===ue.type)return this._groups.has(ue.id)?this._groups.get(ue.id).visible:((0,z.warn)(`Optional content group not found: ${ue.id}`),!0);if("OCMD"===ue.type){if(ue.expression)return this._evaluateVisibilityExpression(ue.expression);if(!ue.policy||"AnyOn"===ue.policy){for(const K of ue.ids){if(!this._groups.has(K))return(0,z.warn)(`Optional content group not found: ${K}`),!0;if(this._groups.get(K).visible)return!0}return!1}if("AllOn"===ue.policy){for(const K of ue.ids){if(!this._groups.has(K))return(0,z.warn)(`Optional content group not found: ${K}`),!0;if(!this._groups.get(K).visible)return!1}return!0}if("AnyOff"===ue.policy){for(const K of ue.ids){if(!this._groups.has(K))return(0,z.warn)(`Optional content group not found: ${K}`),!0;if(!this._groups.get(K).visible)return!0}return!1}if("AllOff"===ue.policy){for(const K of ue.ids){if(!this._groups.has(K))return(0,z.warn)(`Optional content group not found: ${K}`),!0;if(this._groups.get(K).visible)return!1}return!0}return(0,z.warn)(`Unknown optional content policy ${ue.policy}.`),!0}return(0,z.warn)(`Unknown group type ${ue.type}.`),!0}setVisibility(ue,K=!0){this._groups.has(ue)?this._groups.get(ue).visible=!!K:(0,z.warn)(`Optional content group not found: ${ue}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,z.objectFromMap)(this._groups):null}getGroup(ue){return this._groups.get(ue)||null}}},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.PDFDataTransportStream=void 0;var z=Ee(1),Ie=Ee(5);ee.PDFDataTransportStream=class p{constructor(u,k){(0,z.assert)(k,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=u.progressiveDone||!1,this._contentDispositionFilename=u.contentDispositionFilename||null;const b=u.initialData;if((null==b?void 0:b.length)>0){const P=new Uint8Array(b).buffer;this._queuedChunks.push(P)}this._pdfDataRangeTransport=k,this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._contentLength=u.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((P,R)=>{this._onReceiveData({begin:P,chunk:R})}),this._pdfDataRangeTransport.addProgressListener((P,R)=>{this._onProgress({loaded:P,total:R})}),this._pdfDataRangeTransport.addProgressiveReadListener(P=>{this._onReceiveData({chunk:P})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(u){const k=new Uint8Array(u.chunk).buffer;if(void 0===u.begin)this._fullRequestReader?this._fullRequestReader._enqueue(k):this._queuedChunks.push(k);else{const b=this._rangeReaders.some(function(P){return P._begin===u.begin&&(P._enqueue(k),!0)});(0,z.assert)(b,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var u,k;return null!=(k=null==(u=this._fullRequestReader)?void 0:u._loaded)?k:0}_onProgress(u){if(void 0===u.total){const k=this._rangeReaders[0];(null==k?void 0:k.onProgress)&&k.onProgress({loaded:u.loaded})}else{const k=this._fullRequestReader;(null==k?void 0:k.onProgress)&&k.onProgress({loaded:u.loaded,total:u.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(u){const k=this._rangeReaders.indexOf(u);k>=0&&this._rangeReaders.splice(k,1)}getFullReader(){(0,z.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const u=this._queuedChunks;return this._queuedChunks=null,new Me(this,u,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(u,k){if(k<=this._progressiveDataLength)return null;const b=new ue(this,u,k);return this._pdfDataRangeTransport.requestDataRange(u,k),this._rangeReaders.push(b),b}cancelAllRequests(u){this._fullRequestReader&&this._fullRequestReader.cancel(u);for(const k of this._rangeReaders.slice(0))k.cancel(u);this._pdfDataRangeTransport.abort()}};class Me{constructor(u,k,b=!1,P=null){this._stream=u,this._done=b||!1,this._filename=(0,Ie.isPdfFile)(P)?P:null,this._queuedChunks=k||[],this._loaded=0;for(const R of this._queuedChunks)this._loaded+=R.byteLength;this._requests=[],this._headersReady=Promise.resolve(),u._fullRequestReader=this,this.onProgress=null}_enqueue(u){this._done||(this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunks.push(u),this._loaded+=u.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var u=this;return _asyncToGenerator(function*(){if(u._queuedChunks.length>0)return{value:u._queuedChunks.shift(),done:!1};if(u._done)return{value:void 0,done:!0};const k=(0,z.createPromiseCapability)();return u._requests.push(k),k.promise})()}cancel(u){this._done=!0;for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ue{constructor(u,k,b){this._stream=u,this._begin=k,this._end=b,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(u){if(!this._done){if(0===this._requests.length)this._queuedChunk=u;else{this._requests.shift().resolve({value:u,done:!1});for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var u=this;return _asyncToGenerator(function*(){if(u._queuedChunk){const b=u._queuedChunk;return u._queuedChunk=null,{value:b,done:!1}}if(u._done)return{value:void 0,done:!0};const k=(0,z.createPromiseCapability)();return u._requests.push(k),k.promise})()}cancel(u){this._done=!0;for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Ne,ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.XfaText=void 0;class Ee{static textContent(Ie){const p=[],Me={items:p,styles:Object.create(null)};return function ue(K){var b;if(!K)return;let u=null;const k=K.name;if("#text"===k)u=K.value;else{if(!Ee.shouldBuildText(k))return;(null==(b=null==K?void 0:K.attributes)?void 0:b.textContent)?u=K.attributes.textContent:K.value&&(u=K.value)}if(null!==u&&p.push({str:u}),K.children)for(const P of K.children)ue(P)}(Ie),Me}static shouldBuildText(Ie){return!("textarea"===Ie||"input"===Ie||"option"===Ie||"select"===Ie)}}ee.XfaText=Ee},(Ne,ee,Ee)=>{var Y,Ut;Object.defineProperty(ee,"__esModule",{value:!0}),ee.AnnotationLayer=void 0;var z=Ee(1),Ie=Ee(5),p=Ee(9),Me=Ee(19),ue=Ee(20);const K=1e3,u=new WeakSet;function k(Z){return{width:Z[2]-Z[0],height:Z[3]-Z[1]}}class b{static create(y){switch(y.data.annotationType){case z.AnnotationType.LINK:return new R(y);case z.AnnotationType.TEXT:return new J(y);case z.AnnotationType.WIDGET:switch(y.data.fieldType){case"Tx":return new A(y);case"Btn":return y.data.radioButton?new te(y):y.data.checkBox?new G(y):new B(y);case"Ch":return new w(y)}return new O(y);case z.AnnotationType.POPUP:return new m(y);case z.AnnotationType.FREETEXT:return new T(y);case z.AnnotationType.LINE:return new F(y);case z.AnnotationType.SQUARE:return new H(y);case z.AnnotationType.CIRCLE:return new ce(y);case z.AnnotationType.POLYLINE:return new ne(y);case z.AnnotationType.CARET:return new ge(y);case z.AnnotationType.INK:return new oe(y);case z.AnnotationType.POLYGON:return new de(y);case z.AnnotationType.HIGHLIGHT:return new le(y);case z.AnnotationType.UNDERLINE:return new pe(y);case z.AnnotationType.SQUIGGLY:return new ie(y);case z.AnnotationType.STRIKEOUT:return new xe(y);case z.AnnotationType.STAMP:return new V(y);case z.AnnotationType.FILEATTACHMENT:return new E(y);default:return new P(y)}}}class P{constructor(y,{isRenderable:j=!1,ignoreBorder:q=!1,createQuadrilaterals:he=!1}={}){this.isRenderable=j,this.data=y.data,this.layer=y.layer,this.page=y.page,this.viewport=y.viewport,this.linkService=y.linkService,this.downloadManager=y.downloadManager,this.imageResourcesPath=y.imageResourcesPath,this.renderForms=y.renderForms,this.svgFactory=y.svgFactory,this.annotationStorage=y.annotationStorage,this.enableScripting=y.enableScripting,this.hasJSActions=y.hasJSActions,this._fieldObjects=y.fieldObjects,this._mouseState=y.mouseState,j&&(this.container=this._createContainer(q)),he&&(this.quadrilaterals=this._createQuadrilaterals(q))}_createContainer(y=!1){const j=this.data,q=this.page,he=this.viewport,N=document.createElement("section");let{width:fe,height:Ae}=k(j.rect);N.setAttribute("data-annotation-id",j.id);const _e=z.Util.normalizeRect([j.rect[0],q.view[3]-j.rect[1]+q.view[1],j.rect[2],q.view[3]-j.rect[3]+q.view[1]]);if(j.hasOwnCanvas){const Ce=he.transform.slice(),[Te,De]=z.Util.singularValueDecompose2dScale(Ce);fe=Math.ceil(fe*Te),Ae=Math.ceil(Ae*De),_e[0]*=Te,_e[1]*=De;for(let Fe=0;Fe<4;Fe++)Ce[Fe]=Math.sign(Ce[Fe]);N.style.transform=`matrix(${Ce.join(",")})`}else N.style.transform=`matrix(${he.transform.join(",")})`;if(N.style.transformOrigin=`${-_e[0]}px ${-_e[1]}px`,!y&&j.borderStyle.width>0){N.style.borderWidth=`${j.borderStyle.width}px`,j.borderStyle.style!==z.AnnotationBorderStyleType.UNDERLINE&&(fe-=2*j.borderStyle.width,Ae-=2*j.borderStyle.width);const Ce=j.borderStyle.horizontalCornerRadius,Te=j.borderStyle.verticalCornerRadius;switch((Ce>0||Te>0)&&(N.style.borderRadius=`${Ce}px / ${Te}px`),j.borderStyle.style){case z.AnnotationBorderStyleType.SOLID:N.style.borderStyle="solid";break;case z.AnnotationBorderStyleType.DASHED:N.style.borderStyle="dashed";break;case z.AnnotationBorderStyleType.BEVELED:(0,z.warn)("Unimplemented border style: beveled");break;case z.AnnotationBorderStyleType.INSET:(0,z.warn)("Unimplemented border style: inset");break;case z.AnnotationBorderStyleType.UNDERLINE:N.style.borderBottomStyle="solid"}j.borderColor||j.color?N.style.borderColor=z.Util.makeHexColor(0|j.color[0],0|j.color[1],0|j.color[2]):N.style.borderWidth=0}return N.style.left=`${_e[0]}px`,N.style.top=`${_e[1]}px`,j.hasOwnCanvas?N.style.width=N.style.height="auto":(N.style.width=`${fe}px`,N.style.height=`${Ae}px`),N}_createQuadrilaterals(y=!1){if(!this.data.quadPoints)return null;const j=[],q=this.data.rect;for(const he of this.data.quadPoints)this.data.rect=[he[2].x,he[2].y,he[1].x,he[1].y],j.push(this._createContainer(y));return this.data.rect=q,j}_createPopup(y,j){let q=this.container;this.quadrilaterals&&(y=y||this.quadrilaterals,q=this.quadrilaterals[0]),y||((y=document.createElement("div")).style.height=q.style.height,y.style.width=q.style.width,q.appendChild(y));const N=new v({container:q,trigger:y,color:j.color,titleObj:j.titleObj,modificationDate:j.modificationDate,contentsObj:j.contentsObj,richText:j.richText,hideWrapper:!0}).render();N.style.left=q.style.width,q.appendChild(N)}_renderQuadrilaterals(y){for(const j of this.quadrilaterals)j.className=y;return this.quadrilaterals}render(){(0,z.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(y,j=null){const q=[];if(this._fieldObjects){const he=this._fieldObjects[y];if(he)for(const{page:N,id:fe,exportValues:Ae}of he){if(-1===N||fe===j)continue;const _e="string"==typeof Ae?Ae:null,Ce=document.getElementById(fe);!Ce||u.has(Ce)?q.push({id:fe,exportValue:_e,domElement:Ce}):(0,z.warn)(`_getElementsByName - element not allowed: ${fe}`)}return q}for(const he of document.getElementsByName(y)){const{id:N,exportValue:fe}=he;N!==j&&(!u.has(he)||q.push({id:N,exportValue:fe,domElement:he}))}return q}static get platform(){const y="undefined"!=typeof navigator?navigator.platform:"";return(0,z.shadow)(this,"platform",{isWin:y.includes("Win"),isMac:y.includes("Mac")})}}class R extends P{constructor(y,j=null){super(y,{isRenderable:!!(y.data.url||y.data.dest||y.data.action||y.data.isTooltipOnly||y.data.resetForm||y.data.actions&&(y.data.actions.Action||y.data.actions["Mouse Up"]||y.data.actions["Mouse Down"])),ignoreBorder:!!(null==j?void 0:j.ignoreBorder),createQuadrilaterals:!0})}render(){var he;const{data:y,linkService:j}=this,q=document.createElement("a");if(y.url)j.addLinkAttributes||(0,z.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(he=j.addLinkAttributes)||he.call(j,q,y.url,y.newWindow);else if(y.action)this._bindNamedAction(q,y.action);else if(y.dest)this._bindLink(q,y.dest);else{let N=!1;y.actions&&(y.actions.Action||y.actions["Mouse Up"]||y.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(N=!0,this._bindJSAction(q,y)),y.resetForm?this._bindResetFormAction(q,y.resetForm):N||this._bindLink(q,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((N,fe)=>{const Ae=0===fe?q:q.cloneNode();return N.appendChild(Ae),N}):(this.container.className="linkAnnotation",this.container.appendChild(q),this.container)}_bindLink(y,j){y.href=this.linkService.getDestinationHash(j),y.onclick=()=>(j&&this.linkService.goToDestination(j),!1),(j||""===j)&&(y.className="internalLink")}_bindNamedAction(y,j){y.href=this.linkService.getAnchorUrl(""),y.onclick=()=>(this.linkService.executeNamedAction(j),!1),y.className="internalLink"}_bindJSAction(y,j){y.href=this.linkService.getAnchorUrl("");const q=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const he of Object.keys(j.actions)){const N=q.get(he);!N||(y[N]=()=>{var fe;return null==(fe=this.linkService.eventBus)||fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j.id,name:he}}),!1})}y.onclick||(y.onclick=()=>!1),y.className="internalLink"}_bindResetFormAction(y,j){const q=y.onclick;if(q||(y.href=this.linkService.getAnchorUrl("")),y.className="internalLink",!this._fieldObjects)return(0,z.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(q||(y.onclick=()=>!1));y.onclick=()=>{var Te;q&&q();const{fields:he,refs:N,include:fe}=j,Ae=[];if(0!==he.length||0!==N.length){const De=new Set(N);for(const Fe of he){const He=this._fieldObjects[Fe]||[];for(const{id:L}of He)De.add(L)}for(const Fe of Object.values(this._fieldObjects))for(const He of Fe)De.has(He.id)===fe&&Ae.push(He)}else for(const De of Object.values(this._fieldObjects))Ae.push(...De);const _e=this.annotationStorage,Ce=[];for(const De of Ae){const{id:Fe}=De;switch(Ce.push(Fe),De.type){case"text":{const L=De.defaultValue||"";_e.setValue(Fe,{value:L,valueAsString:L});break}case"checkbox":case"radiobutton":_e.setValue(Fe,{value:De.defaultValue===De.exportValues});break;case"combobox":case"listbox":_e.setValue(Fe,{value:De.defaultValue||""});break;default:continue}const He=document.getElementById(Fe);!He||!u.has(He)||He.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(Te=this.linkService.eventBus)||Te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ce,name:"ResetForm"}})),!1}}}class J extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str))})}render(){this.container.className="textAnnotation";const y=document.createElement("img");return y.style.height=this.container.style.height,y.style.width=this.container.style.width,y.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",y.alt="[{{type}} Annotation]",y.dataset.l10nId="text_annotation_type",y.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(y,this.data),this.container.appendChild(y),this.container}}class O extends P{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(y){const{isWin:j,isMac:q}=P.platform;return j&&y.ctrlKey||q&&y.metaKey}_setEventListener(y,j,q,he){j.includes("mouse")?y.addEventListener(j,N=>{var fe;null==(fe=this.linkService.eventBus)||fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:q,value:he(N),shift:N.shiftKey,modifier:this._getKeyModifier(N)}})}):y.addEventListener(j,N=>{var fe;null==(fe=this.linkService.eventBus)||fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:q,value:he(N)}})})}_setEventListeners(y,j,q){var he;for(const[N,fe]of j)("Action"===fe||(null==(he=this.data.actions)?void 0:he[fe]))&&this._setEventListener(y,N,fe,q)}_setBackgroundColor(y){const j=this.data.backgroundColor||null;y.style.backgroundColor=null===j?"transparent":z.Util.makeHexColor(j[0],j[1],j[2])}_dispatchEventFromSandbox(y,j){const q=(N,fe,Ae)=>{const _e=Ae.detail[N];Ae.target.style[fe]=Me.ColorConverters[`${_e[0]}_HTML`](_e.slice(1))},he={display:N=>{const fe=N.detail.display%2==1;N.target.style.visibility=fe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:fe,print:0===N.detail.display||3===N.detail.display})},print:N=>{this.annotationStorage.setValue(this.data.id,{print:N.detail.print})},hidden:N=>{N.target.style.visibility=N.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:N.detail.hidden})},focus:N=>{setTimeout(()=>N.target.focus({preventScroll:!1}),0)},userName:N=>{N.target.title=N.detail.userName},readonly:N=>{N.detail.readonly?N.target.setAttribute("readonly",""):N.target.removeAttribute("readonly")},required:N=>{N.detail.required?N.target.setAttribute("required",""):N.target.removeAttribute("required")},bgColor:N=>{q("bgColor","backgroundColor",N)},fillColor:N=>{q("fillColor","backgroundColor",N)},fgColor:N=>{q("fgColor","color",N)},textColor:N=>{q("textColor","color",N)},borderColor:N=>{q("borderColor","borderColor",N)},strokeColor:N=>{q("strokeColor","borderColor",N)}};for(const N of Object.keys(j.detail)){const fe=y[N]||he[N];fe&&fe(j)}}}class A extends O{constructor(y){super(y,{isRenderable:y.renderForms||!y.data.hasAppearance&&!!y.data.fieldValue})}setPropertyOnSiblings(y,j,q,he){const N=this.annotationStorage;for(const fe of this._getElementsByName(y.name,y.id))fe.domElement&&(fe.domElement[j]=q),N.setValue(fe.id,{[he]:q})}render(){var he;const y=this.annotationStorage,j=this.data.id;this.container.className="textWidgetAnnotation";let q=null;if(this.renderForms){const N=y.getValue(j,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),fe=N.valueAsString||N.value||"",Ae={userValue:null,formattedValue:null};this.data.multiLine?(q=document.createElement("textarea"),q.textContent=fe):(q=document.createElement("input"),q.type="text",q.setAttribute("value",fe)),u.add(q),q.disabled=this.data.readOnly,q.name=this.data.fieldName,q.tabIndex=K,Ae.userValue=fe,q.setAttribute("id",j),q.addEventListener("input",Ce=>{y.setValue(j,{value:Ce.target.value}),this.setPropertyOnSiblings(q,"value",Ce.target.value,"value")}),q.addEventListener("resetform",Ce=>{q.value=Ae.userValue=this.data.defaultFieldValue||"",delete Ae.formattedValue});let _e=Ce=>{Ae.formattedValue&&(Ce.target.value=Ae.formattedValue),Ce.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){q.addEventListener("focus",Te=>{Ae.userValue&&(Te.target.value=Ae.userValue)}),q.addEventListener("updatefromsandbox",Te=>{this._dispatchEventFromSandbox({value(Fe){Ae.userValue=Fe.detail.value||"",y.setValue(j,{value:Ae.userValue.toString()}),Ae.formattedValue||(Fe.target.value=Ae.userValue)},valueAsString(Fe){Ae.formattedValue=Fe.detail.valueAsString||"",Fe.target!==document.activeElement&&(Fe.target.value=Ae.formattedValue),y.setValue(j,{formattedValue:Ae.formattedValue})},selRange(Fe){const[He,L]=Fe.detail.selRange;He>=0&&L<Fe.target.value.length&&Fe.target.setSelectionRange(He,L)}},Te)}),q.addEventListener("keydown",Te=>{var Fe;let De=-1;"Escape"===Te.key?De=0:"Enter"===Te.key?De=2:"Tab"===Te.key&&(De=3),-1!==De&&(Ae.userValue=Te.target.value,null==(Fe=this.linkService.eventBus)||Fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:Te.target.value,willCommit:!0,commitKey:De,selStart:Te.target.selectionStart,selEnd:Te.target.selectionEnd}}))});const Ce=_e;_e=null,q.addEventListener("blur",Te=>{var De;Ae.userValue=Te.target.value,this._mouseState.isDown&&(null==(De=this.linkService.eventBus)||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:Te.target.value,willCommit:!0,commitKey:1,selStart:Te.target.selectionStart,selEnd:Te.target.selectionEnd}})),Ce(Te)}),(null==(he=this.data.actions)?void 0:he.Keystroke)&&q.addEventListener("beforeinput",Te=>{var Pe;Ae.formattedValue="";const{data:De,target:Fe}=Te,{value:He,selectionStart:L,selectionEnd:re}=Fe;null==(Pe=this.linkService.eventBus)||Pe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:He,change:De,willCommit:!1,selStart:L,selEnd:re}})}),this._setEventListeners(q,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Te=>Te.target.value)}if(_e&&q.addEventListener("blur",_e),null!==this.data.maxLen&&(q.maxLength=this.data.maxLen),this.data.comb){const Te=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;q.classList.add("comb"),q.style.letterSpacing=`calc(${Te}px - 1ch)`}}else q=document.createElement("div"),q.textContent=this.data.fieldValue,q.style.verticalAlign="middle",q.style.display="table-cell";return this._setTextStyle(q),this._setBackgroundColor(q),this.container.appendChild(q),this.container}_setTextStyle(y){const{fontSize:q,fontColor:he}=this.data.defaultAppearanceData,N=y.style;q&&(N.fontSize=`${q}px`),N.color=z.Util.makeHexColor(he[0],he[1],he[2]),null!==this.data.textAlignment&&(N.textAlign=["left","center","right"][this.data.textAlignment])}}class G extends O{constructor(y){super(y,{isRenderable:y.renderForms})}render(){const y=this.annotationStorage,j=this.data,q=j.id;let he=y.getValue(q,{value:j.exportValue===j.fieldValue}).value;"string"==typeof he&&(he="Off"!==he,y.setValue(q,{value:he})),this.container.className="buttonWidgetAnnotation checkBox";const N=document.createElement("input");return u.add(N),N.disabled=j.readOnly,N.type="checkbox",N.name=j.fieldName,he&&N.setAttribute("checked",!0),N.setAttribute("id",q),N.setAttribute("exportValue",j.exportValue),N.tabIndex=K,N.addEventListener("change",fe=>{const{name:Ae,checked:_e}=fe.target;for(const Ce of this._getElementsByName(Ae,q)){const Te=_e&&Ce.exportValue===j.exportValue;Ce.domElement&&(Ce.domElement.checked=Te),y.setValue(Ce.id,{value:Te})}y.setValue(q,{value:_e})}),N.addEventListener("resetform",fe=>{fe.target.checked=(j.defaultFieldValue||"Off")===j.exportValue}),this.enableScripting&&this.hasJSActions&&(N.addEventListener("updatefromsandbox",fe=>{this._dispatchEventFromSandbox({value(_e){_e.target.checked="Off"!==_e.detail.value,y.setValue(q,{value:_e.target.checked})}},fe)}),this._setEventListeners(N,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],fe=>fe.target.checked)),this._setBackgroundColor(N),this.container.appendChild(N),this.container}}class te extends O{constructor(y){super(y,{isRenderable:y.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const y=this.annotationStorage,j=this.data,q=j.id;let he=y.getValue(q,{value:j.fieldValue===j.buttonValue}).value;"string"==typeof he&&(he=he!==j.buttonValue,y.setValue(q,{value:he}));const N=document.createElement("input");if(u.add(N),N.disabled=j.readOnly,N.type="radio",N.name=j.fieldName,he&&N.setAttribute("checked",!0),N.setAttribute("id",q),N.tabIndex=K,N.addEventListener("change",fe=>{const{name:Ae,checked:_e}=fe.target;for(const Ce of this._getElementsByName(Ae,q))y.setValue(Ce.id,{value:!1});y.setValue(q,{value:_e})}),N.addEventListener("resetform",fe=>{const Ae=j.defaultFieldValue;fe.target.checked=null!=Ae&&Ae===j.buttonValue}),this.enableScripting&&this.hasJSActions){const fe=j.buttonValue;N.addEventListener("updatefromsandbox",Ae=>{this._dispatchEventFromSandbox({value:Ce=>{const Te=fe===Ce.detail.value;for(const De of this._getElementsByName(Ce.target.name)){const Fe=Te&&De.id===q;De.domElement&&(De.domElement.checked=Fe),y.setValue(De.id,{value:Fe})}}},Ae)}),this._setEventListeners(N,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ae=>Ae.target.checked)}return this._setBackgroundColor(N),this.container.appendChild(N),this.container}}class B extends R{constructor(y){super(y,{ignoreBorder:y.data.hasAppearance})}render(){const y=super.render();return y.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(y.title=this.data.alternativeText),y}}class w extends O{constructor(y){super(y,{isRenderable:y.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const y=this.annotationStorage,j=this.data.id;y.getValue(j,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:q}=this.data.defaultAppearanceData;q||(q=9);const he=`calc(${q}px * var(--zoom-factor))`,N=document.createElement("select");u.add(N),N.disabled=this.data.readOnly,N.name=this.data.fieldName,N.setAttribute("id",j),N.tabIndex=K,N.style.fontSize=`${q}px`,this.data.combo||(N.size=this.data.options.length,this.data.multiSelect&&(N.multiple=!0)),N.addEventListener("resetform",_e=>{const Ce=this.data.defaultFieldValue;for(const Te of N.options)Te.selected=Te.value===Ce});for(const _e of this.data.options){const Ce=document.createElement("option");Ce.textContent=_e.displayValue,Ce.value=_e.exportValue,this.data.combo&&(Ce.style.fontSize=he),this.data.fieldValue.includes(_e.exportValue)&&Ce.setAttribute("selected",!0),N.appendChild(Ce)}const fe=(_e,Ce)=>{const Te=Ce?"value":"textContent",De=_e.target.options;return _e.target.multiple?Array.prototype.filter.call(De,Fe=>Fe.selected).map(Fe=>Fe[Te]):-1===De.selectedIndex?null:De[De.selectedIndex][Te]},Ae=_e=>Array.prototype.map.call(_e.target.options,Te=>({displayValue:Te.textContent,exportValue:Te.value}));return this.enableScripting&&this.hasJSActions?(N.addEventListener("updatefromsandbox",_e=>{this._dispatchEventFromSandbox({value(Te){const De=Te.detail.value,Fe=new Set(Array.isArray(De)?De:[De]);for(const He of N.options)He.selected=Fe.has(He.value);y.setValue(j,{value:fe(Te,!0)})},multipleSelection(Te){N.multiple=!0},remove(Te){const De=N.options,Fe=Te.detail.remove;De[Fe].selected=!1,N.remove(Fe),De.length>0&&-1===Array.prototype.findIndex.call(De,L=>L.selected)&&(De[0].selected=!0),y.setValue(j,{value:fe(Te,!0),items:Ae(Te)})},clear(Te){for(;0!==N.length;)N.remove(0);y.setValue(j,{value:null,items:[]})},insert(Te){const{index:De,displayValue:Fe,exportValue:He}=Te.detail.insert,L=document.createElement("option");L.textContent=Fe,L.value=He,N.insertBefore(L,N.children[De]),y.setValue(j,{value:fe(Te,!0),items:Ae(Te)})},items(Te){const{items:De}=Te.detail;for(;0!==N.length;)N.remove(0);for(const Fe of De){const{displayValue:He,exportValue:L}=Fe,re=document.createElement("option");re.textContent=He,re.value=L,N.appendChild(re)}N.options.length>0&&(N.options[0].selected=!0),y.setValue(j,{value:fe(Te,!0),items:Ae(Te)})},indices(Te){const De=new Set(Te.detail.indices);for(const Fe of Te.target.options)Fe.selected=De.has(Fe.index);y.setValue(j,{value:fe(Te,!0)})},editable(Te){Te.target.disabled=!Te.detail.editable}},_e)}),N.addEventListener("input",_e=>{var De;const Ce=fe(_e,!0),Te=fe(_e,!1);y.setValue(j,{value:Ce}),null==(De=this.linkService.eventBus)||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:Te,changeEx:Ce,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(N,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],_e=>_e.target.checked)):N.addEventListener("input",function(_e){y.setValue(j,{value:fe(_e)})}),this._setBackgroundColor(N),this.container.appendChild(N),this.container}}class m extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!((null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const q=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===q.length)return this.container;const he=new v({container:this.container,trigger:Array.from(q),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),N=this.page,fe=z.Util.normalizeRect([this.data.parentRect[0],N.view[3]-this.data.parentRect[1]+N.view[1],this.data.parentRect[2],N.view[3]-this.data.parentRect[3]+N.view[1]]),Ae=fe[0]+this.data.parentRect[2]-this.data.parentRect[0],_e=fe[1];return this.container.style.transformOrigin=`${-Ae}px ${-_e}px`,this.container.style.left=`${Ae}px`,this.container.style.top=`${_e}px`,this.container.appendChild(he.render()),this.container}}class v{constructor(y){this.container=y.container,this.trigger=y.trigger,this.color=y.color,this.titleObj=y.titleObj,this.modificationDate=y.modificationDate,this.contentsObj=y.contentsObj,this.richText=y.richText,this.hideWrapper=y.hideWrapper||!1,this.pinned=!1}render(){var Ae,_e;const j=document.createElement("div");j.className="popupWrapper",this.hideElement=this.hideWrapper?j:this.container,this.hideElement.hidden=!0;const q=document.createElement("div");q.className="popup";const he=this.color;he&&(q.style.backgroundColor=z.Util.makeHexColor(0|.7*(255-he[0])+he[0],0|.7*(255-he[1])+he[1],0|.7*(255-he[2])+he[2]));const N=document.createElement("h1");N.dir=this.titleObj.dir,N.textContent=this.titleObj.str,q.appendChild(N);const fe=Ie.PDFDateString.toDateObject(this.modificationDate);if(fe){const Ce=document.createElement("span");Ce.className="popupDate",Ce.textContent="{{date}}, {{time}}",Ce.dataset.l10nId="annotation_date_string",Ce.dataset.l10nArgs=JSON.stringify({date:fe.toLocaleDateString(),time:fe.toLocaleTimeString()}),q.appendChild(Ce)}if(!(null==(Ae=this.richText)?void 0:Ae.str)||(null==(_e=this.contentsObj)?void 0:_e.str)&&this.contentsObj.str!==this.richText.str){const Ce=this._formatContents(this.contentsObj);q.appendChild(Ce)}else ue.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:q}),q.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Ce of this.trigger)Ce.addEventListener("click",this._toggle.bind(this)),Ce.addEventListener("mouseover",this._show.bind(this,!1)),Ce.addEventListener("mouseout",this._hide.bind(this,!1));return q.addEventListener("click",this._hide.bind(this,!0)),j.appendChild(q),j}_formatContents({str:y,dir:j}){const q=document.createElement("p");q.className="popupContent",q.dir=j;const he=y.split(/(?:\r\n?|\n)/);for(let N=0,fe=he.length;N<fe;++N)q.appendChild(document.createTextNode(he[N])),N<fe-1&&q.appendChild(document.createElement("br"));return q}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(y=!1){y&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(y=!0){y&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class T extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class F extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const y=this.data,{width:j,height:q}=k(y.rect),he=this.svgFactory.create(j,q),N=this.svgFactory.createElement("svg:line");return N.setAttribute("x1",y.rect[2]-y.lineCoordinates[0]),N.setAttribute("y1",y.rect[3]-y.lineCoordinates[1]),N.setAttribute("x2",y.rect[2]-y.lineCoordinates[2]),N.setAttribute("y2",y.rect[3]-y.lineCoordinates[3]),N.setAttribute("stroke-width",y.borderStyle.width||1),N.setAttribute("stroke","transparent"),N.setAttribute("fill","transparent"),he.appendChild(N),this.container.append(he),this._createPopup(N,y),this.container}}class H extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const y=this.data,{width:j,height:q}=k(y.rect),he=this.svgFactory.create(j,q),N=y.borderStyle.width,fe=this.svgFactory.createElement("svg:rect");return fe.setAttribute("x",N/2),fe.setAttribute("y",N/2),fe.setAttribute("width",j-N),fe.setAttribute("height",q-N),fe.setAttribute("stroke-width",N||1),fe.setAttribute("stroke","transparent"),fe.setAttribute("fill","transparent"),he.appendChild(fe),this.container.append(he),this._createPopup(fe,y),this.container}}class ce extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const y=this.data,{width:j,height:q}=k(y.rect),he=this.svgFactory.create(j,q),N=y.borderStyle.width,fe=this.svgFactory.createElement("svg:ellipse");return fe.setAttribute("cx",j/2),fe.setAttribute("cy",q/2),fe.setAttribute("rx",j/2-N/2),fe.setAttribute("ry",q/2-N/2),fe.setAttribute("stroke-width",N||1),fe.setAttribute("stroke","transparent"),fe.setAttribute("fill","transparent"),he.appendChild(fe),this.container.append(he),this._createPopup(fe,y),this.container}}class ne extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const y=this.data,{width:j,height:q}=k(y.rect),he=this.svgFactory.create(j,q);let N=[];for(const Ae of y.vertices)N.push(Ae.x-y.rect[0]+","+(y.rect[3]-Ae.y));N=N.join(" ");const fe=this.svgFactory.createElement(this.svgElementName);return fe.setAttribute("points",N),fe.setAttribute("stroke-width",y.borderStyle.width||1),fe.setAttribute("stroke","transparent"),fe.setAttribute("fill","transparent"),he.appendChild(fe),this.container.append(he),this._createPopup(fe,y),this.container}}class de extends ne{constructor(y){super(y),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ge extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class oe extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const y=this.data,{width:j,height:q}=k(y.rect),he=this.svgFactory.create(j,q);for(const N of y.inkLists){let fe=[];for(const _e of N)fe.push(`${_e.x-y.rect[0]},${y.rect[3]-_e.y}`);fe=fe.join(" ");const Ae=this.svgFactory.createElement(this.svgElementName);Ae.setAttribute("points",fe),Ae.setAttribute("stroke-width",y.borderStyle.width||1),Ae.setAttribute("stroke","transparent"),Ae.setAttribute("fill","transparent"),this._createPopup(Ae,y),he.appendChild(Ae)}return this.container.append(he),this.container}}class le extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class pe extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ie extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class xe extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class V extends P{constructor(y){var q,he,N;super(y,{isRenderable:!!(y.data.hasPopup||(null==(q=y.data.titleObj)?void 0:q.str)||(null==(he=y.data.contentsObj)?void 0:he.str)||(null==(N=y.data.richText)?void 0:N.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class E extends P{constructor(y){var he;super(y,{isRenderable:!0});const{filename:j,content:q}=this.data.file;this.filename=(0,Ie.getFilenameFromUrl)(j),this.content=q,null==(he=this.linkService.eventBus)||he.dispatch("fileattachmentannotation",{source:this,id:(0,z.stringToPDFString)(j),filename:j,content:q})}render(){var j,q;this.container.className="fileAttachmentAnnotation";const y=document.createElement("div");return y.style.height=this.container.style.height,y.style.width=this.container.style.width,y.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(j=this.data.titleObj)?void 0:j.str)||(null==(q=this.data.contentsObj)?void 0:q.str)||this.data.richText)&&this._createPopup(y,this.data),this.container.appendChild(y),this.container}_download(){var y;null==(y=this.downloadManager)||y.openOrDownloadData(this.container,this.content,this.filename)}}class _{static render(y){const j=[],q=[];for(const N of y.annotations){if(!N)continue;const{width:fe,height:Ae}=k(N.rect);if(!(fe<=0||Ae<=0)){if(N.annotationType===z.AnnotationType.POPUP){q.push(N);continue}j.push(N)}}q.length&&j.push(...q);const he=y.div;for(const N of j){const fe=b.create({data:N,layer:he,page:y.page,viewport:y.viewport,linkService:y.linkService,downloadManager:y.downloadManager,imageResourcesPath:y.imageResourcesPath||"",renderForms:!1!==y.renderForms,svgFactory:new Ie.DOMSVGFactory,annotationStorage:y.annotationStorage||new p.AnnotationStorage,enableScripting:y.enableScripting,hasJSActions:y.hasJSActions,fieldObjects:y.fieldObjects,mouseState:y.mouseState||{isDown:!1}});if(fe.isRenderable){const Ae=fe.render();if(N.hidden&&(Ae.style.visibility="hidden"),Array.isArray(Ae))for(const _e of Ae)he.appendChild(_e);else fe instanceof m?he.prepend(Ae):he.appendChild(Ae)}}rt(this,Y,Ut).call(this,he,y.annotationCanvasMap)}static update(y){const{page:j,viewport:q,annotations:he,annotationCanvasMap:N,div:fe}=y,Ae=q.transform,_e=`matrix(${Ae.join(",")})`;let Ce,Te;for(const De of he){const Fe=fe.querySelectorAll(`[data-annotation-id="${De.id}"]`);if(Fe)for(const He of Fe)if(De.hasOwnCanvas){const L=z.Util.normalizeRect([De.rect[0],j.view[3]-De.rect[1]+j.view[1],De.rect[2],j.view[3]-De.rect[3]+j.view[1]]);if(!Te){Ce=Math.abs(Ae[0]||Ae[1]);const ve=Ae.slice();for(let $=0;$<4;$++)ve[$]=Math.sign(ve[$]);Te=`matrix(${ve.join(",")})`}const re=L[0]*Ce,Pe=L[1]*Ce;He.style.left=`${re}px`,He.style.top=`${Pe}px`,He.style.transformOrigin=`${-re}px ${-Pe}px`,He.style.transform=Te}else He.style.transform=_e}rt(this,Y,Ut).call(this,fe,N),fe.hidden=!1}}Y=new WeakSet,Ut=function(y,j){if(j){for(const[q,he]of j){const N=y.querySelector(`[data-annotation-id="${q}"]`);if(!N)continue;const{firstChild:fe}=N;"CANVAS"===fe.nodeName?N.replaceChild(he,fe):N.insertBefore(he,fe)}j.clear()}},et(_,Y),ee.AnnotationLayer=_},(Ne,ee)=>{function Ee(Ie){return Math.floor(255*Math.max(0,Math.min(1,Ie))).toString(16).padStart(2,"0")}Object.defineProperty(ee,"__esModule",{value:!0}),ee.ColorConverters=void 0,ee.ColorConverters=class z{static CMYK_G([p,Me,ue,K]){return["G",1-Math.min(1,.3*p+.59*ue+.11*Me+K)]}static G_CMYK([p]){return["CMYK",0,0,0,1-p]}static G_RGB([p]){return["RGB",p,p,p]}static G_HTML([p]){const Me=Ee(p);return`#${Me}${Me}${Me}`}static RGB_G([p,Me,ue]){return["G",.3*p+.59*Me+.11*ue]}static RGB_HTML([p,Me,ue]){return`#${Ee(p)}${Ee(Me)}${Ee(ue)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([p,Me,ue,K]){return["RGB",1-Math.min(1,p+K),1-Math.min(1,ue+K),1-Math.min(1,Me+K)]}static CMYK_HTML(p){return this.RGB_HTML(this.CMYK_RGB(p))}static RGB_CMYK([p,Me,ue]){const K=1-p,u=1-Me,k=1-ue;return["CMYK",K,u,k,Math.min(K,u,k)]}}},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.XfaLayer=void 0;var z=Ee(1),Ie=Ee(17);ee.XfaLayer=class p{static setupStorage(ue,K,u,k,b){const P=k.getValue(K,{value:null});switch(u.name){case"textarea":if(null!==P.value&&(ue.textContent=P.value),"print"===b)break;ue.addEventListener("input",R=>{k.setValue(K,{value:R.target.value})});break;case"input":if("radio"===u.attributes.type||"checkbox"===u.attributes.type){if(P.value===u.attributes.xfaOn?ue.setAttribute("checked",!0):P.value===u.attributes.xfaOff&&ue.removeAttribute("checked"),"print"===b)break;ue.addEventListener("change",R=>{k.setValue(K,{value:R.target.getAttribute(R.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==P.value&&ue.setAttribute("value",P.value),"print"===b)break;ue.addEventListener("input",R=>{k.setValue(K,{value:R.target.value})})}break;case"select":if(null!==P.value)for(const R of u.children)R.attributes.value===P.value&&(R.attributes.selected=!0);ue.addEventListener("input",R=>{const J=R.target.options;k.setValue(K,{value:-1===J.selectedIndex?"":J[J.selectedIndex].value})})}}static setAttributes({html:ue,element:K,storage:u=null,intent:k,linkService:b}){var J;const{attributes:P}=K,R=ue instanceof HTMLAnchorElement;"radio"===P.type&&(P.name=`${P.name}-${k}`);for(const[O,A]of Object.entries(P))if(null!=A&&"dataId"!==O)if("style"!==O)if("textContent"===O)ue.textContent=A;else if("class"===O)A.length&&ue.setAttribute(O,A.join(" "));else{if(R&&("href"===O||"newWindow"===O))continue;ue.setAttribute(O,A)}else Object.assign(ue.style,A);R&&(b.addLinkAttributes||(0,z.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(J=b.addLinkAttributes)||J.call(b,ue,P.href,P.newWindow)),u&&P.dataId&&this.setupStorage(ue,P.dataId,K,u)}static render(ue){var A;const K=ue.annotationStorage,u=ue.linkService,k=ue.xfaHtml,b=ue.intent||"display",P=document.createElement(k.name);k.attributes&&this.setAttributes({html:P,element:k,intent:b,linkService:u});const R=[[k,-1,P]],J=ue.div;if(J.appendChild(P),ue.viewport){const G=`matrix(${ue.viewport.transform.join(",")})`;J.style.transform=G}"richText"!==b&&J.setAttribute("class","xfaLayer xfaFont");const O=[];for(;R.length>0;){const[G,te,B]=R[R.length-1];if(te+1===G.children.length){R.pop();continue}const w=G.children[++R[R.length-1][1]];if(null===w)continue;const{name:m}=w;if("#text"===m){const T=document.createTextNode(w.value);O.push(T),B.appendChild(T);continue}let v;if(v=(null==(A=null==w?void 0:w.attributes)?void 0:A.xmlns)?document.createElementNS(w.attributes.xmlns,m):document.createElement(m),B.appendChild(v),w.attributes&&this.setAttributes({html:v,element:w,storage:K,intent:b,linkService:u}),w.children&&w.children.length>0)R.push([w,-1,v]);else if(w.value){const T=document.createTextNode(w.value);Ie.XfaText.shouldBuildText(m)&&O.push(T),v.appendChild(T)}}for(const G of J.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))G.setAttribute("readOnly",!0);return{textDivs:O}}static update(ue){const K=`matrix(${ue.viewport.transform.join(",")})`;ue.div.style.transform=K,ue.div.hidden=!1}}},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.renderTextLayer=function G(te){const B=new A({textContent:te.textContent,textContentStream:te.textContentStream,container:te.container,viewport:te.viewport,textDivs:te.textDivs,textContentItemsStr:te.textContentItemsStr,enhanceTextSelection:te.enhanceTextSelection});return B._render(te.timeout),B};var z=Ee(1);const p=30,ue=new Map,K=/^\s+$/g;function k(te,B,w,m){const v=document.createElement("span"),T=te._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==B.str,hasEOL:B.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==B.str,hasEOL:B.hasEOL};te._textDivs.push(v);const F=z.Util.transform(te._viewport.transform,B.transform);let H=Math.atan2(F[1],F[0]);const ce=w[B.fontName];ce.vertical&&(H+=Math.PI/2);const ne=Math.hypot(F[2],F[3]),de=ne*function u(te,B){const w=ue.get(te);if(w)return w;B.save(),B.font=`30px ${te}`;const m=B.measureText("");let v=m.fontBoundingBoxAscent,T=Math.abs(m.fontBoundingBoxDescent);if(v){B.restore();const H=v/(v+T);return ue.set(te,H),H}B.strokeStyle="red",B.clearRect(0,0,p,p),B.strokeText("g",0,0);let F=B.getImageData(0,0,p,p).data;T=0;for(let H=F.length-1-3;H>=0;H-=4)if(F[H]>0){T=Math.ceil(H/4/p);break}B.clearRect(0,0,p,p),B.strokeText("A",0,p),F=B.getImageData(0,0,p,p).data,v=0;for(let H=0,ce=F.length;H<ce;H+=4)if(F[H]>0){v=p-Math.floor(H/4/p);break}if(B.restore(),v){const H=v/(v+T);return ue.set(te,H),H}return ue.set(te,.8),.8}(ce.fontFamily,m);let ge,oe;0===H?(ge=F[4],oe=F[5]-de):(ge=F[4]+de*Math.sin(H),oe=F[5]-de*Math.cos(H)),v.style.left=`${ge}px`,v.style.top=`${oe}px`,v.style.fontSize=`${ne}px`,v.style.fontFamily=ce.fontFamily,v.setAttribute("role","presentation"),v.textContent=B.str,v.dir=B.dir,te._fontInspectorEnabled&&(v.dataset.fontName=B.fontName),0!==H&&(T.angle=H*(180/Math.PI));let le=!1;if(B.str.length>1||te._enhanceTextSelection&&K.test(B.str))le=!0;else if(" "!==B.str&&B.transform[0]!==B.transform[3]){const pe=Math.abs(B.transform[0]),ie=Math.abs(B.transform[3]);pe!==ie&&Math.max(pe,ie)/Math.min(pe,ie)>1.5&&(le=!0)}if(le&&(T.canvasWidth=ce.vertical?B.height*te._viewport.scale:B.width*te._viewport.scale),te._textDivProperties.set(v,T),te._textContentStream&&te._layoutText(v),te._enhanceTextSelection&&T.hasText){let pe=1,ie=0;0!==H&&(pe=Math.cos(H),ie=Math.sin(H));const xe=(ce.vertical?B.height:B.width)*te._viewport.scale,V=ne;let E,_;0!==H?(E=[pe,ie,-ie,pe,ge,oe],_=z.Util.getAxialAlignedBoundingBox([0,0,xe,V],E)):_=[ge,oe,ge+xe,oe+V],te._bounds.push({left:_[0],top:_[1],right:_[2],bottom:_[3],div:v,size:[xe,V],m:E})}}function b(te){if(te._canceled)return;const B=te._textDivs,w=te._capability,m=B.length;if(m>1e5)return te._renderingDone=!0,void w.resolve();if(!te._textContentStream)for(let v=0;v<m;v++)te._layoutText(B[v]);te._renderingDone=!0,w.resolve()}function P(te,B,w){let m=0;for(let v=0;v<w;v++){const T=te[B++];T>0&&(m=m?Math.min(T,m):T)}return m}function O(te,B){B.sort(function(v,T){return v.x1-T.x1||v.index-T.index});const m=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const v of B){let T=0;for(;T<m.length&&m[T].end<=v.y1;)T++;let F=m.length-1;for(;F>=0&&m[F].start>=v.y2;)F--;let H,ce,ne,de,ge=-1/0;for(ne=T;ne<=F;ne++){let pe;H=m[ne],ce=H.boundary,pe=ce.x2>v.x1?ce.index>v.index?ce.x1New:v.x1:void 0===ce.x2New?(ce.x2+v.x1)/2:ce.x2New,pe>ge&&(ge=pe)}for(v.x1New=ge,ne=T;ne<=F;ne++)H=m[ne],ce=H.boundary,void 0===ce.x2New?ce.x2>v.x1?ce.index>v.index&&(ce.x2New=ce.x2):ce.x2New=ge:ce.x2New>ge&&(ce.x2New=Math.max(ge,ce.x2));const oe=[];let le=null;for(ne=T;ne<=F;ne++){H=m[ne],ce=H.boundary;const pe=ce.x2>v.x2?ce:v;le===pe?oe[oe.length-1].end=H.end:(oe.push({start:H.start,end:H.end,boundary:pe}),le=pe)}for(m[T].start<v.y1&&(oe[0].start=v.y1,oe.unshift({start:m[T].start,end:v.y1,boundary:m[T].boundary})),v.y2<m[F].end&&(oe[oe.length-1].end=v.y2,oe.push({start:v.y2,end:m[F].end,boundary:m[F].boundary})),ne=T;ne<=F;ne++){if(H=m[ne],ce=H.boundary,void 0!==ce.x2New)continue;let pe=!1;for(de=T-1;!pe&&de>=0&&m[de].start>=ce.y1;de--)pe=m[de].boundary===ce;for(de=F+1;!pe&&de<m.length&&m[de].end<=ce.y2;de++)pe=m[de].boundary===ce;for(de=0;!pe&&de<oe.length;de++)pe=oe[de].boundary===ce;pe||(ce.x2New=ge)}Array.prototype.splice.apply(m,[T,F-T+1].concat(oe))}for(const v of m){const T=v.boundary;void 0===T.x2New&&(T.x2New=Math.max(te,T.x2))}}class A{constructor({textContent:B,textContentStream:w,container:m,viewport:v,textDivs:T,textContentItemsStr:F,enhanceTextSelection:H}){var ce;this._textContent=B,this._textContentStream=w,this._container=m,this._document=m.ownerDocument,this._viewport=v,this._textDivs=T||[],this._textContentItemsStr=F||[],this._enhanceTextSelection=!!H,this._fontInspectorEnabled=!!(null==(ce=globalThis.FontInspector)?void 0:ce.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,z.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new z.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(B,w){for(let m=0,v=B.length;m<v;m++)if(void 0!==B[m].str)this._textContentItemsStr.push(B[m].str),k(this,B[m],w,this._layoutTextCtx);else if("beginMarkedContentProps"===B[m].type||"beginMarkedContent"===B[m].type){const T=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==B[m].id&&this._container.setAttribute("id",`${B[m].id}`),T.appendChild(this._container)}else"endMarkedContent"===B[m].type&&(this._container=this._container.parentNode)}_layoutText(B){const w=this._textDivProperties.get(B);let m="";if(0!==w.canvasWidth&&w.hasText){const{fontSize:v,fontFamily:T}=B.style;(v!==this._layoutTextLastFontSize||T!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${v} ${T}`,this._layoutTextLastFontSize=v,this._layoutTextLastFontFamily=T);const{width:F}=this._layoutTextCtx.measureText(B.textContent);if(F>0){const H=w.canvasWidth/F;this._enhanceTextSelection&&(w.scale=H),m=`scaleX(${H})`}}if(0!==w.angle&&(m=`rotate(${w.angle}deg) ${m}`),m.length>0&&(this._enhanceTextSelection&&(w.originalTransform=m),B.style.transform=m),w.hasText&&this._container.appendChild(B),w.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),this._container.appendChild(v)}}_render(B=0){const w=(0,z.createPromiseCapability)();let m=Object.create(null);const v=this._document.createElement("canvas");if(v.height=v.width=p,v.mozOpaque=!0,this._layoutTextCtx=v.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),w.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const T=()=>{this._reader.read().then(({value:F,done:H})=>{H?w.resolve():(Object.assign(m,F.styles),this._processItems(F.items,m),T())},w.reject)};this._reader=this._textContentStream.getReader(),T()}}w.promise.then(()=>{m=null,B?this._renderTimer=setTimeout(()=>{b(this),this._renderTimer=null},B):b(this)},this._capability.reject)}expandTextDivs(B=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function R(te){const B=te._bounds,w=te._viewport,m=function J(te,B,w){const m=w.map(function(T,F){return{x1:T.left,y1:T.top,x2:T.right,y2:T.bottom,index:F,x1New:void 0,x2New:void 0}});O(te,m);const v=new Array(w.length);for(const T of m)v[T.index]={left:T.x1New,top:0,right:T.x2New,bottom:0};w.map(function(T,F){const H=v[F],ce=m[F];ce.x1=T.top,ce.y1=te-H.right,ce.x2=T.bottom,ce.y2=te-H.left,ce.index=F,ce.x1New=void 0,ce.x2New=void 0}),O(B,m);for(const T of m){const F=T.index;v[F].top=T.x1New,v[F].bottom=T.x2New}return v}(w.width,w.height,B);for(let v=0;v<m.length;v++){const T=B[v].div,F=te._textDivProperties.get(T);if(0===F.angle){F.paddingLeft=B[v].left-m[v].left,F.paddingTop=B[v].top-m[v].top,F.paddingRight=m[v].right-B[v].right,F.paddingBottom=m[v].bottom-B[v].bottom,te._textDivProperties.set(T,F);continue}const H=m[v],ce=B[v],ne=ce.m,de=ne[0],ge=ne[1],oe=[[0,0],[0,ce.size[1]],[ce.size[0],0],ce.size],le=new Float64Array(64);for(let ie=0,xe=oe.length;ie<xe;ie++){const V=z.Util.applyTransform(oe[ie],ne);le[ie+0]=de&&(H.left-V[0])/de,le[ie+4]=ge&&(H.top-V[1])/ge,le[ie+8]=de&&(H.right-V[0])/de,le[ie+12]=ge&&(H.bottom-V[1])/ge,le[ie+16]=ge&&(H.left-V[0])/-ge,le[ie+20]=de&&(H.top-V[1])/de,le[ie+24]=ge&&(H.right-V[0])/-ge,le[ie+28]=de&&(H.bottom-V[1])/de,le[ie+32]=de&&(H.left-V[0])/-de,le[ie+36]=ge&&(H.top-V[1])/-ge,le[ie+40]=de&&(H.right-V[0])/-de,le[ie+44]=ge&&(H.bottom-V[1])/-ge,le[ie+48]=ge&&(H.left-V[0])/ge,le[ie+52]=de&&(H.top-V[1])/-de,le[ie+56]=ge&&(H.right-V[0])/ge,le[ie+60]=de&&(H.bottom-V[1])/-de}const pe=1+Math.min(Math.abs(de),Math.abs(ge));F.paddingLeft=P(le,32,16)/pe,F.paddingTop=P(le,48,16)/pe,F.paddingRight=P(le,0,16)/pe,F.paddingBottom=P(le,16,16)/pe,te._textDivProperties.set(T,F)}}(this),this._bounds=null);const w=[],m=[];for(let v=0,T=this._textDivs.length;v<T;v++){const F=this._textDivs[v],H=this._textDivProperties.get(F);!H.hasText||(B?(w.length=0,m.length=0,H.originalTransform&&w.push(H.originalTransform),H.paddingTop>0?(m.push(`${H.paddingTop}px`),w.push(`translateY(${-H.paddingTop}px)`)):m.push(0),m.push(H.paddingRight>0?H.paddingRight/H.scale+"px":0),m.push(H.paddingBottom>0?`${H.paddingBottom}px`:0),H.paddingLeft>0?(m.push(H.paddingLeft/H.scale+"px"),w.push(`translateX(${-H.paddingLeft/H.scale}px)`)):m.push(0),F.style.padding=m.join(" "),w.length&&(F.style.transform=w.join(" "))):(F.style.padding=null,F.style.transform=H.originalTransform))}}}},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.SVGGraphics=void 0;var z=Ee(1),Ie=Ee(5),p=Ee(3);let Me=class{constructor(){(0,z.unreachable)("Not implemented: SVGGraphics")}};ee.SVGGraphics=Me;{let O=function(m){let v=[];const T=[];for(const F of m)"save"!==F.fn?"restore"===F.fn?v=T.pop():v.push(F):(v.push({fnId:92,fn:"group",items:[]}),T.push(v),v=v[v.length-1].items);return v},A=function(m){if(Number.isInteger(m))return m.toString();const v=m.toFixed(10);let T=v.length-1;if("0"!==v[T])return v;do{T--}while("0"===v[T]);return v.substring(0,"."===v[T]?T:T+1)},G=function(m){if(0===m[4]&&0===m[5]){if(0===m[1]&&0===m[2])return 1===m[0]&&1===m[3]?"":`scale(${A(m[0])} ${A(m[3])})`;if(m[0]===m[3]&&m[1]===-m[2]){const v=180*Math.acos(m[0])/Math.PI;return`rotate(${A(v)})`}}else if(1===m[0]&&0===m[1]&&0===m[2]&&1===m[3])return`translate(${A(m[4])} ${A(m[5])})`;return`matrix(${A(m[0])} ${A(m[1])} ${A(m[2])} ${A(m[3])} ${A(m[4])} ${A(m[5])})`};const ue={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},K="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/1999/xlink",k=["butt","round","square"],b=["miter","round","bevel"],P=function(m,v="",T=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!T)return URL.createObjectURL(new Blob([m],{type:v}));const F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let H=`data:${v};base64,`;for(let ce=0,ne=m.length;ce<ne;ce+=3){const de=255&m[ce],ge=255&m[ce+1],oe=255&m[ce+2];H+=F[de>>2]+F[(3&de)<<4|ge>>4]+F[ce+1<ne?(15&ge)<<2|oe>>6:64]+F[ce+2<ne?63&oe:64]}return H},R=function(){const m=new Uint8Array([137,80,78,71,13,10,26,10]),T=new Int32Array(256);for(let oe=0;oe<256;oe++){let le=oe;for(let pe=0;pe<8;pe++)le=1&le?3988292384^le>>1&2147483647:le>>1&2147483647;T[oe]=le}function H(oe,le,pe,ie){let xe=ie;const V=le.length;pe[xe]=V>>24&255,pe[xe+1]=V>>16&255,pe[xe+2]=V>>8&255,pe[xe+3]=255&V,xe+=4,pe[xe]=255&oe.charCodeAt(0),pe[xe+1]=255&oe.charCodeAt(1),pe[xe+2]=255&oe.charCodeAt(2),pe[xe+3]=255&oe.charCodeAt(3),xe+=4,pe.set(le,xe),xe+=le.length;const E=function F(oe,le,pe){let ie=-1;for(let xe=le;xe<pe;xe++)ie=ie>>>8^T[255&(ie^oe[xe])];return-1^ie}(pe,ie+4,xe);pe[xe]=E>>24&255,pe[xe+1]=E>>16&255,pe[xe+2]=E>>8&255,pe[xe+3]=255&E}function de(oe){let le=oe.length;const pe=65535,ie=Math.ceil(le/pe),xe=new Uint8Array(2+le+5*ie+4);let V=0;xe[V++]=120,xe[V++]=156;let E=0;for(;le>pe;)xe[V++]=0,xe[V++]=255,xe[V++]=255,xe[V++]=0,xe[V++]=0,xe.set(oe.subarray(E,E+pe),V),V+=pe,E+=pe,le-=pe;xe[V++]=1,xe[V++]=255&le,xe[V++]=le>>8&255,xe[V++]=255&~le,xe[V++]=(65535&~le)>>8&255,xe.set(oe.subarray(E),V),V+=oe.length-E;const _=function ce(oe,le,pe){let ie=1,xe=0;for(let V=le;V<pe;++V)ie=(ie+(255&oe[V]))%65521,xe=(xe+ie)%65521;return xe<<16|ie}(oe,0,oe.length);return xe[V++]=_>>24&255,xe[V++]=_>>16&255,xe[V++]=_>>8&255,xe[V++]=255&_,xe}return function(le,pe,ie){return function ge(oe,le,pe,ie){const xe=oe.width,V=oe.height;let E,_,Y;const D=oe.data;switch(le){case z.ImageKind.GRAYSCALE_1BPP:_=0,E=1,Y=xe+7>>3;break;case z.ImageKind.RGB_24BPP:_=2,E=8,Y=3*xe;break;case z.ImageKind.RGBA_32BPP:_=6,E=8,Y=4*xe;break;default:throw new Error("invalid format")}const Z=new Uint8Array((1+Y)*V);let y=0,j=0;for(let _e=0;_e<V;++_e)Z[y++]=0,Z.set(D.subarray(j,j+Y),y),j+=Y,y+=Y;if(le===z.ImageKind.GRAYSCALE_1BPP&&ie){y=0;for(let _e=0;_e<V;_e++){y++;for(let Ce=0;Ce<Y;Ce++)Z[y++]^=255}}const q=new Uint8Array([xe>>24&255,xe>>16&255,xe>>8&255,255&xe,V>>24&255,V>>16&255,V>>8&255,255&V,E,_,0,0,0]),he=function ne(oe){if(!p.isNodeJS)return de(oe);try{let le;le=parseInt(process.versions.node)>=8?oe:Buffer.from(oe);const pe=__webpack_require__(2258).deflateSync(le,{level:9});return pe instanceof Uint8Array?pe:new Uint8Array(pe)}catch(le){(0,z.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+le)}return de(oe)}(Z),fe=new Uint8Array(m.length+36+q.length+he.length);let Ae=0;return fe.set(m,Ae),Ae+=m.length,H("IHDR",q,fe,Ae),Ae+=12+q.length,H("IDATA",he,fe,Ae),Ae+=12+he.length,H("IEND",new Uint8Array(0),fe,Ae),P(fe,"image/png",pe)}(le,void 0===le.kind?z.ImageKind.GRAYSCALE_1BPP:le.kind,pe,ie)}}();class J{constructor(){this.fontSizeScale=1,this.fontWeight=ue.fontWeight,this.fontSize=0,this.textMatrix=z.IDENTITY_MATRIX,this.fontMatrix=z.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=z.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ue.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(v,T){this.x=v,this.y=T}}let te=0,B=0,w=0;ee.SVGGraphics=Me=class{constructor(m,v,T=!1){this.svgFactory=new Ie.DOMSVGFactory,this.current=new J,this.transformMatrix=z.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=m,this.objs=v,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!T,this._operatorIdMapping=[];for(const F in z.OPS)this._operatorIdMapping[z.OPS[F]]=F}save(){this.transformStack.push(this.transformMatrix);const m=this.current;this.extraStack.push(m),this.current=m.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(m){this.save(),this.executeOpTree(m),this.restore()}loadDependencies(m){const v=m.fnArray,T=m.argsArray;for(let F=0,H=v.length;F<H;F++)if(v[F]===z.OPS.dependency)for(const ce of T[F]){const ne=ce.startsWith("g_")?this.commonObjs:this.objs,de=new Promise(ge=>{ne.get(ce,ge)});this.current.dependencies.push(de)}return Promise.all(this.current.dependencies)}transform(m,v,T,F,H,ce){this.transformMatrix=z.Util.transform(this.transformMatrix,[m,v,T,F,H,ce]),this.tgrp=null}getSVG(m,v){this.viewport=v;const T=this._initialize(v);return this.loadDependencies(m).then(()=>(this.transformMatrix=z.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(m)),T))}convertOpList(m){const v=this._operatorIdMapping,T=m.argsArray,F=m.fnArray,H=[];for(let ce=0,ne=F.length;ce<ne;ce++){const de=F[ce];H.push({fnId:de,fn:v[de],args:T[ce]})}return O(H)}executeOpTree(m){for(const v of m){const T=v.fn,H=v.args;switch(0|v.fnId){case z.OPS.beginText:this.beginText();break;case z.OPS.dependency:break;case z.OPS.setLeading:this.setLeading(H);break;case z.OPS.setLeadingMoveText:this.setLeadingMoveText(H[0],H[1]);break;case z.OPS.setFont:this.setFont(H);break;case z.OPS.showText:case z.OPS.showSpacedText:this.showText(H[0]);break;case z.OPS.endText:this.endText();break;case z.OPS.moveText:this.moveText(H[0],H[1]);break;case z.OPS.setCharSpacing:this.setCharSpacing(H[0]);break;case z.OPS.setWordSpacing:this.setWordSpacing(H[0]);break;case z.OPS.setHScale:this.setHScale(H[0]);break;case z.OPS.setTextMatrix:this.setTextMatrix(H[0],H[1],H[2],H[3],H[4],H[5]);break;case z.OPS.setTextRise:this.setTextRise(H[0]);break;case z.OPS.setTextRenderingMode:this.setTextRenderingMode(H[0]);break;case z.OPS.setLineWidth:this.setLineWidth(H[0]);break;case z.OPS.setLineJoin:this.setLineJoin(H[0]);break;case z.OPS.setLineCap:this.setLineCap(H[0]);break;case z.OPS.setMiterLimit:this.setMiterLimit(H[0]);break;case z.OPS.setFillRGBColor:this.setFillRGBColor(H[0],H[1],H[2]);break;case z.OPS.setStrokeRGBColor:this.setStrokeRGBColor(H[0],H[1],H[2]);break;case z.OPS.setStrokeColorN:this.setStrokeColorN(H);break;case z.OPS.setFillColorN:this.setFillColorN(H);break;case z.OPS.shadingFill:this.shadingFill(H[0]);break;case z.OPS.setDash:this.setDash(H[0],H[1]);break;case z.OPS.setRenderingIntent:this.setRenderingIntent(H[0]);break;case z.OPS.setFlatness:this.setFlatness(H[0]);break;case z.OPS.setGState:this.setGState(H[0]);break;case z.OPS.fill:this.fill();break;case z.OPS.eoFill:this.eoFill();break;case z.OPS.stroke:this.stroke();break;case z.OPS.fillStroke:this.fillStroke();break;case z.OPS.eoFillStroke:this.eoFillStroke();break;case z.OPS.clip:this.clip("nonzero");break;case z.OPS.eoClip:this.clip("evenodd");break;case z.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case z.OPS.paintImageXObject:this.paintImageXObject(H[0]);break;case z.OPS.paintInlineImageXObject:this.paintInlineImageXObject(H[0]);break;case z.OPS.paintImageMaskXObject:this.paintImageMaskXObject(H[0]);break;case z.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(H[0],H[1]);break;case z.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case z.OPS.closePath:this.closePath();break;case z.OPS.closeStroke:this.closeStroke();break;case z.OPS.closeFillStroke:this.closeFillStroke();break;case z.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case z.OPS.nextLine:this.nextLine();break;case z.OPS.transform:this.transform(H[0],H[1],H[2],H[3],H[4],H[5]);break;case z.OPS.constructPath:this.constructPath(H[0],H[1]);break;case z.OPS.endPath:this.endPath();break;case 92:this.group(v.items);break;default:(0,z.warn)(`Unimplemented operator ${T}`)}}}setWordSpacing(m){this.current.wordSpacing=m}setCharSpacing(m){this.current.charSpacing=m}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(m,v,T,F,H,ce){const ne=this.current;ne.textMatrix=ne.lineMatrix=[m,v,T,F,H,ce],ne.textMatrixScale=Math.hypot(m,v),ne.x=ne.lineX=0,ne.y=ne.lineY=0,ne.xcoords=[],ne.ycoords=[],ne.tspan=this.svgFactory.createElement("svg:tspan"),ne.tspan.setAttributeNS(null,"font-family",ne.fontFamily),ne.tspan.setAttributeNS(null,"font-size",`${A(ne.fontSize)}px`),ne.tspan.setAttributeNS(null,"y",A(-ne.y)),ne.txtElement=this.svgFactory.createElement("svg:text"),ne.txtElement.appendChild(ne.tspan)}beginText(){const m=this.current;m.x=m.lineX=0,m.y=m.lineY=0,m.textMatrix=z.IDENTITY_MATRIX,m.lineMatrix=z.IDENTITY_MATRIX,m.textMatrixScale=1,m.tspan=this.svgFactory.createElement("svg:tspan"),m.txtElement=this.svgFactory.createElement("svg:text"),m.txtgrp=this.svgFactory.createElement("svg:g"),m.xcoords=[],m.ycoords=[]}moveText(m,v){const T=this.current;T.x=T.lineX+=m,T.y=T.lineY+=v,T.xcoords=[],T.ycoords=[],T.tspan=this.svgFactory.createElement("svg:tspan"),T.tspan.setAttributeNS(null,"font-family",T.fontFamily),T.tspan.setAttributeNS(null,"font-size",`${A(T.fontSize)}px`),T.tspan.setAttributeNS(null,"y",A(-T.y))}showText(m){const v=this.current,T=v.font,F=v.fontSize;if(0===F)return;const H=v.fontSizeScale,ce=v.charSpacing,ne=v.wordSpacing,de=v.fontDirection,ge=v.textHScale*de,oe=T.vertical,le=oe?1:-1,pe=T.defaultVMetrics,ie=F*v.fontMatrix[0];let xe=0;for(const _ of m){if(null===_){xe+=de*ne;continue}if("number"==typeof _){xe+=le*_*F/1e3;continue}const Y=(_.isSpace?ne:0)+ce,D=_.fontChar;let Z,y,q,j=_.width;if(oe){let he;const N=_.vmetric||pe;he=_.vmetric?N[1]:.5*j,he=-he*ie,j=N?-N[0]:j,Z=he/H,y=(xe+N[2]*ie)/H}else Z=xe/H,y=0;(_.isInFont||T.missingFile)&&(v.xcoords.push(v.x+Z),oe&&v.ycoords.push(-v.y+y),v.tspan.textContent+=D),q=oe?j*ie-Y*de:j*ie+Y*de,xe+=q}v.tspan.setAttributeNS(null,"x",v.xcoords.map(A).join(" ")),v.tspan.setAttributeNS(null,"y",oe?v.ycoords.map(A).join(" "):A(-v.y)),oe?v.y-=xe:v.x+=xe*ge,v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${A(v.fontSize)}px`),v.fontStyle!==ue.fontStyle&&v.tspan.setAttributeNS(null,"font-style",v.fontStyle),v.fontWeight!==ue.fontWeight&&v.tspan.setAttributeNS(null,"font-weight",v.fontWeight);const V=v.textRenderingMode&z.TextRenderingMode.FILL_STROKE_MASK;V===z.TextRenderingMode.FILL||V===z.TextRenderingMode.FILL_STROKE?(v.fillColor!==ue.fillColor&&v.tspan.setAttributeNS(null,"fill",v.fillColor),v.fillAlpha<1&&v.tspan.setAttributeNS(null,"fill-opacity",v.fillAlpha)):v.tspan.setAttributeNS(null,"fill",v.textRenderingMode===z.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(V===z.TextRenderingMode.STROKE||V===z.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(v.tspan,1/(v.textMatrixScale||1));let E=v.textMatrix;0!==v.textRise&&(E=E.slice(),E[5]+=v.textRise),v.txtElement.setAttributeNS(null,"transform",`${G(E)} scale(${A(ge)}, -1)`),v.txtElement.setAttributeNS(K,"xml:space","preserve"),v.txtElement.appendChild(v.tspan),v.txtgrp.appendChild(v.txtElement),this._ensureTransformGroup().appendChild(v.txtElement)}setLeadingMoveText(m,v){this.setLeading(-v),this.moveText(m,v)}addFontStyle(m){if(!m.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const v=P(m.data,m.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${m.loadedName}"; src: url(${v}); }\n`}setFont(m){const v=this.current,T=this.commonObjs.get(m[0]);let F=m[1];v.font=T,this.embedFonts&&!T.missingFile&&!this.embeddedFonts[T.loadedName]&&(this.addFontStyle(T),this.embeddedFonts[T.loadedName]=T),v.fontMatrix=T.fontMatrix||z.FONT_IDENTITY_MATRIX;let H="normal";T.black?H="900":T.bold&&(H="bold");const ce=T.italic?"italic":"normal";F<0?(F=-F,v.fontDirection=-1):v.fontDirection=1,v.fontSize=F,v.fontFamily=T.loadedName,v.fontWeight=H,v.fontStyle=ce,v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"y",A(-v.y)),v.xcoords=[],v.ycoords=[]}endText(){var v;const m=this.current;m.textRenderingMode&z.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(v=m.txtElement)?void 0:v.hasChildNodes())&&(m.element=m.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(m){m>0&&(this.current.lineWidth=m)}setLineCap(m){this.current.lineCap=k[m]}setLineJoin(m){this.current.lineJoin=b[m]}setMiterLimit(m){this.current.miterLimit=m}setStrokeAlpha(m){this.current.strokeAlpha=m}setStrokeRGBColor(m,v,T){this.current.strokeColor=z.Util.makeHexColor(m,v,T)}setFillAlpha(m){this.current.fillAlpha=m}setFillRGBColor(m,v,T){this.current.fillColor=z.Util.makeHexColor(m,v,T),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(m){this.current.strokeColor=this._makeColorN_Pattern(m)}setFillColorN(m){this.current.fillColor=this._makeColorN_Pattern(m)}shadingFill(m){const v=this.viewport.width,T=this.viewport.height,F=z.Util.inverseTransform(this.transformMatrix),H=z.Util.applyTransform([0,0],F),ce=z.Util.applyTransform([0,T],F),ne=z.Util.applyTransform([v,0],F),de=z.Util.applyTransform([v,T],F),ge=Math.min(H[0],ce[0],ne[0],de[0]),oe=Math.min(H[1],ce[1],ne[1],de[1]),le=Math.max(H[0],ce[0],ne[0],de[0]),pe=Math.max(H[1],ce[1],ne[1],de[1]),ie=this.svgFactory.createElement("svg:rect");ie.setAttributeNS(null,"x",ge),ie.setAttributeNS(null,"y",oe),ie.setAttributeNS(null,"width",le-ge),ie.setAttributeNS(null,"height",pe-oe),ie.setAttributeNS(null,"fill",this._makeShadingPattern(m)),this.current.fillAlpha<1&&ie.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(ie)}_makeColorN_Pattern(m){return"TilingPattern"===m[0]?this._makeTilingPattern(m):this._makeShadingPattern(m)}_makeTilingPattern(m){const v=m[1],T=m[2],F=m[3]||z.IDENTITY_MATRIX,[H,ce,ne,de]=m[4],ge=m[5],oe=m[6],le=m[7],pe="shading"+w++,[ie,xe,V,E]=z.Util.normalizeRect([...z.Util.applyTransform([H,ce],F),...z.Util.applyTransform([ne,de],F)]),[_,Y]=z.Util.singularValueDecompose2dScale(F),D=ge*_,Z=oe*Y,y=this.svgFactory.createElement("svg:pattern");y.setAttributeNS(null,"id",pe),y.setAttributeNS(null,"patternUnits","userSpaceOnUse"),y.setAttributeNS(null,"width",D),y.setAttributeNS(null,"height",Z),y.setAttributeNS(null,"x",`${ie}`),y.setAttributeNS(null,"y",`${xe}`);const j=this.svg,q=this.transformMatrix,he=this.current.fillColor,N=this.current.strokeColor,fe=this.svgFactory.create(V-ie,E-xe);if(this.svg=fe,this.transformMatrix=F,2===le){const Ae=z.Util.makeHexColor(...v);this.current.fillColor=Ae,this.current.strokeColor=Ae}return this.executeOpTree(this.convertOpList(T)),this.svg=j,this.transformMatrix=q,this.current.fillColor=he,this.current.strokeColor=N,y.appendChild(fe.childNodes[0]),this.defs.appendChild(y),`url(#${pe})`}_makeShadingPattern(m){switch("string"==typeof m&&(m=this.objs.get(m)),m[0]){case"RadialAxial":const v="shading"+w++,T=m[3];let F;switch(m[1]){case"axial":const H=m[4],ce=m[5];F=this.svgFactory.createElement("svg:linearGradient"),F.setAttributeNS(null,"id",v),F.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),F.setAttributeNS(null,"x1",H[0]),F.setAttributeNS(null,"y1",H[1]),F.setAttributeNS(null,"x2",ce[0]),F.setAttributeNS(null,"y2",ce[1]);break;case"radial":const ne=m[4],de=m[5],ge=m[6],oe=m[7];F=this.svgFactory.createElement("svg:radialGradient"),F.setAttributeNS(null,"id",v),F.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),F.setAttributeNS(null,"cx",de[0]),F.setAttributeNS(null,"cy",de[1]),F.setAttributeNS(null,"r",oe),F.setAttributeNS(null,"fx",ne[0]),F.setAttributeNS(null,"fy",ne[1]),F.setAttributeNS(null,"fr",ge);break;default:throw new Error(`Unknown RadialAxial type: ${m[1]}`)}for(const H of T){const ce=this.svgFactory.createElement("svg:stop");ce.setAttributeNS(null,"offset",H[0]),ce.setAttributeNS(null,"stop-color",H[1]),F.appendChild(ce)}return this.defs.appendChild(F),`url(#${v})`;case"Mesh":return(0,z.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${m[0]}`)}}setDash(m,v){this.current.dashArray=m,this.current.dashPhase=v}constructPath(m,v){const T=this.current;let F=T.x,H=T.y,ce=[],ne=0;for(const de of m)switch(0|de){case z.OPS.rectangle:F=v[ne++],H=v[ne++];const le=F+v[ne++],pe=H+v[ne++];ce.push("M",A(F),A(H),"L",A(le),A(H),"L",A(le),A(pe),"L",A(F),A(pe),"Z");break;case z.OPS.moveTo:F=v[ne++],H=v[ne++],ce.push("M",A(F),A(H));break;case z.OPS.lineTo:F=v[ne++],H=v[ne++],ce.push("L",A(F),A(H));break;case z.OPS.curveTo:F=v[ne+4],H=v[ne+5],ce.push("C",A(v[ne]),A(v[ne+1]),A(v[ne+2]),A(v[ne+3]),A(F),A(H)),ne+=6;break;case z.OPS.curveTo2:ce.push("C",A(F),A(H),A(v[ne]),A(v[ne+1]),A(v[ne+2]),A(v[ne+3])),F=v[ne+2],H=v[ne+3],ne+=4;break;case z.OPS.curveTo3:F=v[ne+2],H=v[ne+3],ce.push("C",A(v[ne]),A(v[ne+1]),A(F),A(H),A(F),A(H)),ne+=4;break;case z.OPS.closePath:ce.push("Z")}ce=ce.join(" "),T.path&&m.length>0&&m[0]!==z.OPS.rectangle&&m[0]!==z.OPS.moveTo?ce=T.path.getAttributeNS(null,"d")+ce:(T.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(T.path)),T.path.setAttributeNS(null,"d",ce),T.path.setAttributeNS(null,"fill","none"),T.element=T.path,T.setCurrentPoint(F,H)}endPath(){const m=this.current;if(m.path=null,!this.pendingClip)return;if(!m.element)return void(this.pendingClip=null);const v="clippath"+te++,T=this.svgFactory.createElement("svg:clipPath");T.setAttributeNS(null,"id",v),T.setAttributeNS(null,"transform",G(this.transformMatrix));const F=m.element.cloneNode(!0);if(F.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,T.appendChild(F),this.defs.appendChild(T),m.activeClipUrl){m.clipGroup=null;for(const H of this.extraStack)H.clipGroup=null;T.setAttributeNS(null,"clip-path",m.activeClipUrl)}m.activeClipUrl=`url(#${v})`,this.tgrp=null}clip(m){this.pendingClip=m}closePath(){const m=this.current;if(m.path){const v=`${m.path.getAttributeNS(null,"d")}Z`;m.path.setAttributeNS(null,"d",v)}}setLeading(m){this.current.leading=-m}setTextRise(m){this.current.textRise=m}setTextRenderingMode(m){this.current.textRenderingMode=m}setHScale(m){this.current.textHScale=m/100}setRenderingIntent(m){}setFlatness(m){}setGState(m){for(const[v,T]of m)switch(v){case"LW":this.setLineWidth(T);break;case"LC":this.setLineCap(T);break;case"LJ":this.setLineJoin(T);break;case"ML":this.setMiterLimit(T);break;case"D":this.setDash(T[0],T[1]);break;case"RI":this.setRenderingIntent(T);break;case"FL":this.setFlatness(T);break;case"Font":this.setFont(T);break;case"CA":this.setStrokeAlpha(T);break;case"ca":this.setFillAlpha(T);break;default:(0,z.warn)(`Unimplemented graphic state operator ${v}`)}}fill(){const m=this.current;m.element&&(m.element.setAttributeNS(null,"fill",m.fillColor),m.element.setAttributeNS(null,"fill-opacity",m.fillAlpha),this.endPath())}stroke(){const m=this.current;m.element&&(this._setStrokeAttributes(m.element),m.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(m,v=1){const T=this.current;let F=T.dashArray;1!==v&&F.length>0&&(F=F.map(function(H){return v*H})),m.setAttributeNS(null,"stroke",T.strokeColor),m.setAttributeNS(null,"stroke-opacity",T.strokeAlpha),m.setAttributeNS(null,"stroke-miterlimit",A(T.miterLimit)),m.setAttributeNS(null,"stroke-linecap",T.lineCap),m.setAttributeNS(null,"stroke-linejoin",T.lineJoin),m.setAttributeNS(null,"stroke-width",A(v*T.lineWidth)+"px"),m.setAttributeNS(null,"stroke-dasharray",F.map(A).join(" ")),m.setAttributeNS(null,"stroke-dashoffset",A(v*T.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const m=this.svgFactory.createElement("svg:rect");m.setAttributeNS(null,"x","0"),m.setAttributeNS(null,"y","0"),m.setAttributeNS(null,"width","1px"),m.setAttributeNS(null,"height","1px"),m.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(m)}paintImageXObject(m){const v=m.startsWith("g_")?this.commonObjs.get(m):this.objs.get(m);v?this.paintInlineImageXObject(v):(0,z.warn)(`Dependent image with object ID ${m} is not ready yet`)}paintInlineImageXObject(m,v){const T=m.width,F=m.height,H=R(m,this.forceDataSchema,!!v),ce=this.svgFactory.createElement("svg:rect");ce.setAttributeNS(null,"x","0"),ce.setAttributeNS(null,"y","0"),ce.setAttributeNS(null,"width",A(T)),ce.setAttributeNS(null,"height",A(F)),this.current.element=ce,this.clip("nonzero");const ne=this.svgFactory.createElement("svg:image");ne.setAttributeNS(u,"xlink:href",H),ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y",A(-F)),ne.setAttributeNS(null,"width",A(T)+"px"),ne.setAttributeNS(null,"height",A(F)+"px"),ne.setAttributeNS(null,"transform",`scale(${A(1/T)} ${A(-1/F)})`),v?v.appendChild(ne):this._ensureTransformGroup().appendChild(ne)}paintImageMaskXObject(m){const v=this.current,T=m.width,F=m.height,H=v.fillColor;v.maskId="mask"+B++;const ce=this.svgFactory.createElement("svg:mask");ce.setAttributeNS(null,"id",v.maskId);const ne=this.svgFactory.createElement("svg:rect");ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y","0"),ne.setAttributeNS(null,"width",A(T)),ne.setAttributeNS(null,"height",A(F)),ne.setAttributeNS(null,"fill",H),ne.setAttributeNS(null,"mask",`url(#${v.maskId})`),this.defs.appendChild(ce),this._ensureTransformGroup().appendChild(ne),this.paintInlineImageXObject(m,ce)}paintFormXObjectBegin(m,v){if(Array.isArray(m)&&6===m.length&&this.transform(m[0],m[1],m[2],m[3],m[4],m[5]),v){const T=v[2]-v[0],F=v[3]-v[1],H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x",v[0]),H.setAttributeNS(null,"y",v[1]),H.setAttributeNS(null,"width",A(T)),H.setAttributeNS(null,"height",A(F)),this.current.element=H,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(m){const v=this.svgFactory.create(m.width,m.height),T=this.svgFactory.createElement("svg:defs");v.appendChild(T),this.defs=T;const F=this.svgFactory.createElement("svg:g");return F.setAttributeNS(null,"transform",G(m.transform)),v.appendChild(F),this.svg=F,v}_ensureClipGroup(){if(!this.current.clipGroup){const m=this.svgFactory.createElement("svg:g");m.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(m),this.current.clipGroup=m}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",G(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.PDFNodeStream=void 0;var z=Ee(1),Ie=Ee(24);const p=__webpack_require__(172),Me=__webpack_require__(2001),ue=__webpack_require__(3779),K=__webpack_require__(6558),u=/^file:\/\/\/[a-zA-Z]:\//;ee.PDFNodeStream=class b{constructor(w){this.source=w,this.url=function k(B){const w=K.parse(B);return"file:"===w.protocol||w.host?w:/^[a-z]:[/\\]/i.test(B)?K.parse(`file:///${B}`):(w.host||(w.protocol="file:"),w)}(w.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&w.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var w,m;return null!=(m=null==(w=this._fullRequestReader)?void 0:w._loaded)?m:0}getFullReader(){return(0,z.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new G(this):new O(this),this._fullRequestReader}getRangeReader(w,m){if(m<=this._progressiveDataLength)return null;const v=this.isFsUrl?new te(this,w,m):new A(this,w,m);return this._rangeRequestReaders.push(v),v}cancelAllRequests(w){this._fullRequestReader&&this._fullRequestReader.cancel(w);for(const m of this._rangeRequestReaders.slice(0))m.cancel(w)}};class P{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null;const m=w.source;this._contentLength=m.length,this._loaded=0,this._filename=null,this._disableRange=m.disableRange||!1,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._readableStream=null,this._readCapability=(0,z.createPromiseCapability)(),this._headersCapability=(0,z.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var w=this;return _asyncToGenerator(function*(){if(yield w._readCapability.promise,w._done)return{value:void 0,done:!0};if(w._storedError)throw w._storedError;const m=w._readableStream.read();return null===m?(w._readCapability=(0,z.createPromiseCapability)(),w.read()):(w._loaded+=m.length,w.onProgress&&w.onProgress({loaded:w._loaded,total:w._contentLength}),{value:new Uint8Array(m).buffer,done:!1})})()}cancel(w){this._readableStream?this._readableStream.destroy(w):this._error(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",m=>{this._error(m)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new z.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class R{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,z.createPromiseCapability)(),this._isStreamingSupported=!w.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var w=this;return _asyncToGenerator(function*(){if(yield w._readCapability.promise,w._done)return{value:void 0,done:!0};if(w._storedError)throw w._storedError;const m=w._readableStream.read();return null===m?(w._readCapability=(0,z.createPromiseCapability)(),w.read()):(w._loaded+=m.length,w.onProgress&&w.onProgress({loaded:w._loaded}),{value:new Uint8Array(m).buffer,done:!1})})()}cancel(w){this._readableStream?this._readableStream.destroy(w):this._error(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",m=>{this._error(m)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function J(B,w){return{protocol:B.protocol,auth:B.auth,host:B.hostname,port:B.port,path:B.path,method:"GET",headers:w}}class O extends P{constructor(w){super(w);const m=v=>{if(404===v.statusCode){const ce=new z.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=ce,void this._headersCapability.reject(ce)}this._headersCapability.resolve(),this._setReadableStream(v);const T=ce=>this._readableStream.headers[ce.toLowerCase()],{allowRangeRequests:F,suggestedLength:H}=(0,Ie.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:w.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=F,this._contentLength=H||this._contentLength,this._filename=(0,Ie.extractFilenameFromHeader)(T)};this._request=null,this._request="http:"===this._url.protocol?Me.request(J(this._url,w.httpHeaders),m):ue.request(J(this._url,w.httpHeaders),m),this._request.on("error",v=>{this._storedError=v,this._headersCapability.reject(v)}),this._request.end()}}class A extends R{constructor(w,m,v){super(w),this._httpHeaders={};for(const F in w.httpHeaders){const H=w.httpHeaders[F];void 0!==H&&(this._httpHeaders[F]=H)}this._httpHeaders.Range=`bytes=${m}-${v-1}`;const T=F=>{if(404!==F.statusCode)this._setReadableStream(F);else{const H=new z.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=H}};this._request=null,this._request="http:"===this._url.protocol?Me.request(J(this._url,this._httpHeaders),T):ue.request(J(this._url,this._httpHeaders),T),this._request.on("error",F=>{this._storedError=F}),this._request.end()}}class G extends P{constructor(w){super(w);let m=decodeURIComponent(this._url.path);u.test(this._url.href)&&(m=m.replace(/^\//,"")),p.lstat(m,(v,T)=>{if(v)return"ENOENT"===v.code&&(v=new z.MissingPDFException(`Missing PDF "${m}".`)),this._storedError=v,void this._headersCapability.reject(v);this._contentLength=T.size,this._setReadableStream(p.createReadStream(m)),this._headersCapability.resolve()})}}class te extends R{constructor(w,m,v){super(w);let T=decodeURIComponent(this._url.path);u.test(this._url.href)&&(T=T.replace(/^\//,"")),this._setReadableStream(p.createReadStream(T,{start:m,end:v-1}))}}},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.createResponseStatusError=function K(k,b){return 404===k||0===k&&b.startsWith("file:")?new z.MissingPDFException('Missing PDF "'+b+'".'):new z.UnexpectedResponseException(`Unexpected server response (${k}) while retrieving PDF "${b}".`,k)},ee.extractFilenameFromHeader=function ue(k){const b=k("Content-Disposition");if(b){let P=(0,Ie.getFilenameFromContentDispositionHeader)(b);if(P.includes("%"))try{P=decodeURIComponent(P)}catch(R){}if((0,p.isPdfFile)(P))return P}return null},ee.validateRangeRequestCapabilities=function Me({getResponseHeader:k,isHttp:b,rangeChunkSize:P,disableRange:R}){(0,z.assert)(P>0,"Range chunk size must be larger than zero");const J={allowRangeRequests:!1,suggestedLength:void 0},O=parseInt(k("Content-Length"),10);return!Number.isInteger(O)||(J.suggestedLength=O,O<=2*P)||R||!b||"bytes"!==k("Accept-Ranges")||"identity"!==(k("Content-Encoding")||"identity")||(J.allowRangeRequests=!0),J},ee.validateResponseStatus=function u(k){return 200===k||206===k};var z=Ee(1),Ie=Ee(25),p=Ee(5)},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.getFilenameFromContentDispositionHeader=function Ie(p){let Me=!0,ue=K("filename\\*","i").exec(p);if(ue){ue=ue[1];let O=P(ue);return O=unescape(O),O=R(O),O=J(O),k(O)}if(ue=function b(O){const A=[];let G;const te=K("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(G=te.exec(O));){let[,w,m,v]=G;if(w=parseInt(w,10),w in A){if(0===w)break}else A[w]=[m,v]}const B=[];for(let w=0;w<A.length&&w in A;++w){let[m,v]=A[w];v=P(v),m&&(v=unescape(v),0===w&&(v=R(v))),B.push(v)}return B.join("")}(p),ue)return k(J(ue));if(ue=K("filename","i").exec(p),ue){ue=ue[1];let O=P(ue);return O=J(O),k(O)}function K(O,A){return new RegExp("(?:^|;)\\s*"+O+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',A)}function u(O,A){if(O){if(!/^[\x00-\xFF]+$/.test(A))return A;try{const G=new TextDecoder(O,{fatal:!0}),te=(0,z.stringToBytes)(A);A=G.decode(te),Me=!1}catch(G){}}return A}function k(O){return Me&&/[\x80-\xff]/.test(O)&&(O=u("utf-8",O),Me&&(O=u("iso-8859-1",O))),O}function P(O){if(O.startsWith('"')){const A=O.slice(1).split('\\"');for(let G=0;G<A.length;++G){const te=A[G].indexOf('"');-1!==te&&(A[G]=A[G].slice(0,te),A.length=G+1),A[G]=A[G].replace(/\\(.)/g,"$1")}O=A.join('"')}return O}function R(O){const A=O.indexOf("'");return-1===A?O:u(O.slice(0,A),O.slice(A+1).replace(/^[^']*'/,""))}function J(O){return!O.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(O)?O:O.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(A,G,te,B){if("q"===te||"Q"===te)return u(G,B=(B=B.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(w,m){return String.fromCharCode(parseInt(m,16))}));try{B=atob(B)}catch(w){}return u(G,B)})}return""};var z=Ee(1)},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.PDFNetworkStream=void 0;var z=Ee(1),Ie=Ee(24);class K{constructor(R,J={}){this.url=R,this.isHttp=/^https?:/i.test(R),this.httpHeaders=this.isHttp&&J.httpHeaders||Object.create(null),this.withCredentials=J.withCredentials||!1,this.getXhr=J.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(R,J,O){const A={begin:R,end:J};for(const G in O)A[G]=O[G];return this.request(A)}requestFull(R){return this.request(R)}request(R){const J=this.getXhr(),O=this.currXhrId++,A=this.pendingRequests[O]={xhr:J};J.open("GET",this.url),J.withCredentials=this.withCredentials;for(const G in this.httpHeaders){const te=this.httpHeaders[G];void 0!==te&&J.setRequestHeader(G,te)}return this.isHttp&&"begin"in R&&"end"in R?(J.setRequestHeader("Range",`bytes=${R.begin}-${R.end-1}`),A.expectedStatus=206):A.expectedStatus=200,J.responseType="arraybuffer",R.onError&&(J.onerror=function(G){R.onError(J.status)}),J.onreadystatechange=this.onStateChange.bind(this,O),J.onprogress=this.onProgress.bind(this,O),A.onHeadersReceived=R.onHeadersReceived,A.onDone=R.onDone,A.onError=R.onError,A.onProgress=R.onProgress,J.send(null),O}onProgress(R,J){var A;const O=this.pendingRequests[R];!O||null==(A=O.onProgress)||A.call(O,J)}onStateChange(R,J){var w,m,v;const O=this.pendingRequests[R];if(!O)return;const A=O.xhr;if(A.readyState>=2&&O.onHeadersReceived&&(O.onHeadersReceived(),delete O.onHeadersReceived),4!==A.readyState||!(R in this.pendingRequests))return;if(delete this.pendingRequests[R],0===A.status&&this.isHttp)return void(null==(w=O.onError)||w.call(O,A.status));const G=A.status||200;if((200!==G||206!==O.expectedStatus)&&G!==O.expectedStatus)return void(null==(m=O.onError)||m.call(O,A.status));const B=function ue(P){const R=P.response;return"string"!=typeof R?R:(0,z.stringToBytes)(R).buffer}(A);if(206===G){const T=A.getResponseHeader("Content-Range"),F=/bytes (\d+)-(\d+)\/(\d+)/.exec(T);O.onDone({begin:parseInt(F[1],10),chunk:B})}else B?O.onDone({begin:0,chunk:B}):null==(v=O.onError)||v.call(O,A.status)}getRequestXhr(R){return this.pendingRequests[R].xhr}isPendingRequest(R){return R in this.pendingRequests}abortRequest(R){const J=this.pendingRequests[R].xhr;delete this.pendingRequests[R],J.abort()}}ee.PDFNetworkStream=class u{constructor(R){this._source=R,this._manager=new K(R.url,{httpHeaders:R.httpHeaders,withCredentials:R.withCredentials}),this._rangeChunkSize=R.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(R){const J=this._rangeRequestReaders.indexOf(R);J>=0&&this._rangeRequestReaders.splice(J,1)}getFullReader(){return(0,z.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new k(this._manager,this._source),this._fullRequestReader}getRangeReader(R,J){const O=new b(this._manager,R,J);return O.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(O),O}cancelAllRequests(R){var J;null==(J=this._fullRequestReader)||J.cancel(R);for(const O of this._rangeRequestReaders.slice(0))O.cancel(R)}};class k{constructor(R,J){this._manager=R;const O={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=J.url,this._fullRequestId=R.requestFull(O),this._headersReceivedCapability=(0,z.createPromiseCapability)(),this._disableRange=J.disableRange||!1,this._contentLength=J.length,this._rangeChunkSize=J.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const R=this._fullRequestId,J=this._manager.getRequestXhr(R),O=te=>J.getResponseHeader(te),{allowRangeRequests:A,suggestedLength:G}=(0,Ie.validateRangeRequestCapabilities)({getResponseHeader:O,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});A&&(this._isRangeSupported=!0),this._contentLength=G||this._contentLength,this._filename=(0,Ie.extractFilenameFromHeader)(O),this._isRangeSupported&&this._manager.abortRequest(R),this._headersReceivedCapability.resolve()}_onDone(R){if(R&&(this._requests.length>0?this._requests.shift().resolve({value:R.chunk,done:!1}):this._cachedChunks.push(R.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const J of this._requests)J.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(R){this._storedError=(0,Ie.createResponseStatusError)(R,this._url),this._headersReceivedCapability.reject(this._storedError);for(const J of this._requests)J.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(R){var J;null==(J=this.onProgress)||J.call(this,{loaded:R.loaded,total:R.lengthComputable?R.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var R=this;return _asyncToGenerator(function*(){if(R._storedError)throw R._storedError;if(R._cachedChunks.length>0)return{value:R._cachedChunks.shift(),done:!1};if(R._done)return{value:void 0,done:!0};const J=(0,z.createPromiseCapability)();return R._requests.push(J),J.promise})()}cancel(R){this._done=!0,this._headersReceivedCapability.reject(R);for(const J of this._requests)J.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class b{constructor(R,J,O){this._manager=R;const A={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=R.url,this._requestId=R.requestRange(J,O,A),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var R;null==(R=this.onClosed)||R.call(this,this)}_onDone(R){const J=R.chunk;this._requests.length>0?this._requests.shift().resolve({value:J,done:!1}):this._queuedChunk=J,this._done=!0;for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(R){this._storedError=(0,Ie.createResponseStatusError)(R,this._url);for(const J of this._requests)J.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(R){var J;this.isStreamingSupported||null==(J=this.onProgress)||J.call(this,{loaded:R.loaded})}get isStreamingSupported(){return!1}read(){var R=this;return _asyncToGenerator(function*(){if(R._storedError)throw R._storedError;if(null!==R._queuedChunk){const O=R._queuedChunk;return R._queuedChunk=null,{value:O,done:!1}}if(R._done)return{value:void 0,done:!0};const J=(0,z.createPromiseCapability)();return R._requests.push(J),J.promise})()}cancel(R){this._done=!0;for(const J of this._requests)J.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Ne,ee,Ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.PDFFetchStream=void 0;var z=Ee(1),Ie=Ee(24);function p(k,b,P){return{method:"GET",headers:k,signal:null==P?void 0:P.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function Me(k){const b=new Headers;for(const P in k){const R=k[P];void 0!==R&&b.append(P,R)}return b}ee.PDFFetchStream=class ue{constructor(b){this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var b,P;return null!=(P=null==(b=this._fullRequestReader)?void 0:b._loaded)?P:0}getFullReader(){return(0,z.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new K(this),this._fullRequestReader}getRangeReader(b,P){if(P<=this._progressiveDataLength)return null;const R=new u(this,b,P);return this._rangeRequestReaders.push(R),R}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const P of this._rangeRequestReaders.slice(0))P.cancel(b)}};class K{constructor(b){this._stream=b,this._reader=null,this._loaded=0,this._filename=null;const P=b.source;this._withCredentials=P.withCredentials||!1,this._contentLength=P.length,this._headersCapability=(0,z.createPromiseCapability)(),this._disableRange=P.disableRange||!1,this._rangeChunkSize=P.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!P.disableStream,this._isRangeSupported=!P.disableRange,this._headers=Me(this._stream.httpHeaders);const R=P.url;fetch(R,p(this._headers,this._withCredentials,this._abortController)).then(J=>{if(!(0,Ie.validateResponseStatus)(J.status))throw(0,Ie.createResponseStatusError)(J.status,R);this._reader=J.body.getReader(),this._headersCapability.resolve();const O=te=>J.headers.get(te),{allowRangeRequests:A,suggestedLength:G}=(0,Ie.validateRangeRequestCapabilities)({getResponseHeader:O,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=G||this._contentLength,this._filename=(0,Ie.extractFilenameFromHeader)(O),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new z.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){yield b._headersCapability.promise;const{value:P,done:R}=yield b._reader.read();return R?{value:P,done:R}:(b._loaded+=P.byteLength,b.onProgress&&b.onProgress({loaded:b._loaded,total:b._contentLength}),{value:new Uint8Array(P).buffer,done:!1})})()}cancel(b){this._reader&&this._reader.cancel(b),this._abortController&&this._abortController.abort()}}class u{constructor(b,P,R){this._stream=b,this._reader=null,this._loaded=0;const J=b.source;this._withCredentials=J.withCredentials||!1,this._readCapability=(0,z.createPromiseCapability)(),this._isStreamingSupported=!J.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=Me(this._stream.httpHeaders),this._headers.append("Range",`bytes=${P}-${R-1}`);const O=J.url;fetch(O,p(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,Ie.validateResponseStatus)(A.status))throw(0,Ie.createResponseStatusError)(A.status,O);this._readCapability.resolve(),this._reader=A.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){yield b._readCapability.promise;const{value:P,done:R}=yield b._reader.read();return R?{value:P,done:R}:(b._loaded+=P.byteLength,b.onProgress&&b.onProgress({loaded:b._loaded}),{value:new Uint8Array(P).buffer,done:!1})})()}cancel(b){this._reader&&this._reader.cancel(b),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Ne){var ee=__webpack_module_cache__[Ne];if(void 0!==ee)return ee.exports;var Ee=__webpack_module_cache__[Ne]={exports:{}};return __webpack_modules__[Ne](Ee,Ee.exports,__w_pdfjs_require__),Ee.exports}var __webpack_exports__={};return(()=>{var Ne=__webpack_exports__;Object.defineProperty(Ne,"__esModule",{value:!0}),Object.defineProperty(Ne,"AnnotationLayer",{enumerable:!0,get:function(){return Ie.AnnotationLayer}}),Object.defineProperty(Ne,"AnnotationMode",{enumerable:!0,get:function(){return ee.AnnotationMode}}),Object.defineProperty(Ne,"CMapCompressionType",{enumerable:!0,get:function(){return ee.CMapCompressionType}}),Object.defineProperty(Ne,"GlobalWorkerOptions",{enumerable:!0,get:function(){return p.GlobalWorkerOptions}}),Object.defineProperty(Ne,"InvalidPDFException",{enumerable:!0,get:function(){return ee.InvalidPDFException}}),Object.defineProperty(Ne,"LoopbackPort",{enumerable:!0,get:function(){return Ee.LoopbackPort}}),Object.defineProperty(Ne,"MissingPDFException",{enumerable:!0,get:function(){return ee.MissingPDFException}}),Object.defineProperty(Ne,"OPS",{enumerable:!0,get:function(){return ee.OPS}}),Object.defineProperty(Ne,"PDFDataRangeTransport",{enumerable:!0,get:function(){return Ee.PDFDataRangeTransport}}),Object.defineProperty(Ne,"PDFDateString",{enumerable:!0,get:function(){return z.PDFDateString}}),Object.defineProperty(Ne,"PDFWorker",{enumerable:!0,get:function(){return Ee.PDFWorker}}),Object.defineProperty(Ne,"PasswordResponses",{enumerable:!0,get:function(){return ee.PasswordResponses}}),Object.defineProperty(Ne,"PermissionFlag",{enumerable:!0,get:function(){return ee.PermissionFlag}}),Object.defineProperty(Ne,"PixelsPerInch",{enumerable:!0,get:function(){return z.PixelsPerInch}}),Object.defineProperty(Ne,"RenderingCancelledException",{enumerable:!0,get:function(){return z.RenderingCancelledException}}),Object.defineProperty(Ne,"SVGGraphics",{enumerable:!0,get:function(){return K.SVGGraphics}}),Object.defineProperty(Ne,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return ee.UNSUPPORTED_FEATURES}}),Object.defineProperty(Ne,"UnexpectedResponseException",{enumerable:!0,get:function(){return ee.UnexpectedResponseException}}),Object.defineProperty(Ne,"Util",{enumerable:!0,get:function(){return ee.Util}}),Object.defineProperty(Ne,"VerbosityLevel",{enumerable:!0,get:function(){return ee.VerbosityLevel}}),Object.defineProperty(Ne,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(Ne,"build",{enumerable:!0,get:function(){return Ee.build}}),Object.defineProperty(Ne,"createPromiseCapability",{enumerable:!0,get:function(){return ee.createPromiseCapability}}),Object.defineProperty(Ne,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return ee.createValidAbsoluteUrl}}),Object.defineProperty(Ne,"getDocument",{enumerable:!0,get:function(){return Ee.getDocument}}),Object.defineProperty(Ne,"getFilenameFromUrl",{enumerable:!0,get:function(){return z.getFilenameFromUrl}}),Object.defineProperty(Ne,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return z.getPdfFilenameFromUrl}}),Object.defineProperty(Ne,"getXfaPageViewport",{enumerable:!0,get:function(){return z.getXfaPageViewport}}),Object.defineProperty(Ne,"isPdfFile",{enumerable:!0,get:function(){return z.isPdfFile}}),Object.defineProperty(Ne,"loadScript",{enumerable:!0,get:function(){return z.loadScript}}),Object.defineProperty(Ne,"renderTextLayer",{enumerable:!0,get:function(){return ue.renderTextLayer}}),Object.defineProperty(Ne,"shadow",{enumerable:!0,get:function(){return ee.shadow}}),Object.defineProperty(Ne,"version",{enumerable:!0,get:function(){return Ee.version}});var ee=__w_pdfjs_require__(1),Ee=__w_pdfjs_require__(4),z=__w_pdfjs_require__(5),Ie=__w_pdfjs_require__(18),p=__w_pdfjs_require__(12),Me=__w_pdfjs_require__(3),ue=__w_pdfjs_require__(21),K=__w_pdfjs_require__(22),u=__w_pdfjs_require__(20);if(Me.isNodeJS){const{PDFNodeStream:P}=__w_pdfjs_require__(23);(0,Ee.setPDFNetworkStreamFactory)(R=>new P(R))}else{const{PDFNetworkStream:P}=__w_pdfjs_require__(26),{PDFFetchStream:R}=__w_pdfjs_require__(27);(0,Ee.setPDFNetworkStreamFactory)(J=>(0,z.isValidFetchUrl)(J.url)?new R(J):new P(J))}})(),__webpack_exports__})()},module.exports=Ee()},2813:function(Ne,ee,Ee){var z=Ee(8926).default;Ne.exports=(()=>{"use strict";var Ie=[,(K,u,k)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DefaultXfaLayerFactory=u.DefaultTextLayerFactory=u.DefaultStructTreeLayerFactory=u.DefaultAnnotationLayerFactory=void 0;var b=k(2),P=k(4),R=k(5),J=k(7),O=k(8),A=k(9);u.DefaultAnnotationLayerFactory=class G{createAnnotationLayerBuilder(v,T,F=null,H="",ce=!0,ne=P.NullL10n,de=!1,ge=null,oe=null,le=null,pe=null){return new b.AnnotationLayerBuilder({pageDiv:v,pdfPage:T,imageResourcesPath:H,renderForms:ce,linkService:new R.SimpleLinkService,l10n:ne,annotationStorage:F,enableScripting:de,hasJSActionsPromise:ge,fieldObjectsPromise:le,mouseState:oe,annotationCanvasMap:pe})}};u.DefaultStructTreeLayerFactory=class te{createStructTreeLayerBuilder(v){return new J.StructTreeLayerBuilder({pdfPage:v})}};u.DefaultTextLayerFactory=class B{createTextLayerBuilder(v,T,F,H=!1,ce,ne){return new O.TextLayerBuilder({textLayerDiv:v,pageIndex:T,viewport:F,enhanceTextSelection:H,eventBus:ce,highlighter:ne})}};u.DefaultXfaLayerFactory=class w{createXfaLayerBuilder(v,T,F=null,H=null){return new A.XfaLayerBuilder({pageDiv:v,pdfPage:T,annotationStorage:F,linkService:new R.SimpleLinkService,xfaHtml:H})}}},(K,u,k)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AnnotationLayerBuilder=void 0;var b=k(3),P=k(4);u.AnnotationLayerBuilder=class R{constructor({pageDiv:O,pdfPage:A,linkService:G,downloadManager:te,annotationStorage:B=null,imageResourcesPath:w="",renderForms:m=!0,l10n:v=P.NullL10n,enableScripting:T=!1,hasJSActionsPromise:F=null,fieldObjectsPromise:H=null,mouseState:ce=null,annotationCanvasMap:ne=null}){this.pageDiv=O,this.pdfPage=A,this.linkService=G,this.downloadManager=te,this.imageResourcesPath=w,this.renderForms=m,this.l10n=v,this.annotationStorage=B,this.enableScripting=T,this._hasJSActionsPromise=F,this._fieldObjectsPromise=H,this._mouseState=ce,this._annotationCanvasMap=ne,this.div=null,this._cancelled=!1}render(O,A="display"){var G=this;return z(function*(){const[te,B=!1,w=null]=yield Promise.all([G.pdfPage.getAnnotations({intent:A}),G._hasJSActionsPromise,G._fieldObjectsPromise]);if(G._cancelled||0===te.length)return;const m={viewport:O.clone({dontFlip:!0}),div:G.div,annotations:te,page:G.pdfPage,imageResourcesPath:G.imageResourcesPath,renderForms:G.renderForms,linkService:G.linkService,downloadManager:G.downloadManager,annotationStorage:G.annotationStorage,enableScripting:G.enableScripting,hasJSActions:B,fieldObjects:w,mouseState:G._mouseState,annotationCanvasMap:G._annotationCanvasMap};G.div?b.AnnotationLayer.update(m):(G.div=document.createElement("div"),G.div.className="annotationLayer",G.pageDiv.appendChild(G.div),m.div=G.div,b.AnnotationLayer.render(m),G.l10n.translate(G.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},K=>{let u;u="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:Ee(6036),K.exports=u},(K,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.NullL10n=void 0,u.fixupLangCode=function R(A){return P[null==A?void 0:A.toLowerCase()]||A},u.getL10nFallback=b;const k={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function b(A,G){switch(A){case"find_match_count":A=`find_match_count[${1===G.total?"one":"other"}]`;break;case"find_match_count_limit":A=`find_match_count_limit[${1===G.limit?"one":"other"}]`}return k[A]||""}const P={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};u.NullL10n={getLanguage:()=>z(function*(){return"en-us"})(),getDirection:()=>z(function*(){return"ltr"})(),get:(A,G=null,te=b(A,G))=>z(function*(){return function J(A,G){return G?A.replace(/\{\{\s*(\w+)\s*\}\}/g,(te,B)=>B in G?G[B]:"{{"+B+"}}"):A}(te,G)})(),translate:A=>z(function*(){})()}},(K,u,k)=>{var G,te,jt,w,ti;Object.defineProperty(u,"__esModule",{value:!0}),u.SimpleLinkService=u.PDFLinkService=u.LinkTarget=void 0;var b=k(6);const R={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function J(T,{url:F,target:H,rel:ce,enabled:ne=!0}={}){if(!F||"string"!=typeof F)throw new Error('A valid "url" parameter must provided.');const de=(0,b.removeNullCharacters)(F);ne?T.href=T.title=de:(T.href="",T.title=`Disabled: ${de}`,T.onclick=()=>!1);let ge="";switch(H){case R.NONE:break;case R.SELF:ge="_self";break;case R.BLANK:ge="_blank";break;case R.PARENT:ge="_parent";break;case R.TOP:ge="_top"}T.target=ge,T.rel="string"==typeof ce?ce:"noopener noreferrer nofollow"}u.LinkTarget=R;const v=class{constructor({eventBus:F,externalLinkTarget:H=null,externalLinkRel:ce=null,ignoreDestinationZoom:ne=!1}={}){et(this,te),et(this,G,new Map),this.eventBus=F,this.externalLinkTarget=H,this.externalLinkRel=ce,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=ne,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(F,H=null){this.baseUrl=H,this.pdfDocument=F,Ue(this,G).clear()}setViewer(F){this.pdfViewer=F}setHistory(F){this.pdfHistory=F}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(F){this.pdfViewer.currentPageNumber=F}get rotation(){return this.pdfViewer.pagesRotation}set rotation(F){this.pdfViewer.pagesRotation=F}goToDestination(F){var H=this;return z(function*(){var de;if(!H.pdfDocument)return;let ce,ne;"string"==typeof F?(ce=F,ne=yield H.pdfDocument.getDestination(F)):(ce=null,ne=yield F),Array.isArray(ne)?rt(de=H,te,jt).call(de,F,ce,ne):console.error(`PDFLinkService.goToDestination: "${ne}" is not a valid destination array, for dest="${F}".`)})()}goToPage(F){if(!this.pdfDocument)return;const H="string"==typeof F&&this.pdfViewer.pageLabelToPageNumber(F)||0|F;Number.isInteger(H)&&H>0&&H<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(H)),this.pdfViewer.scrollPageIntoView({pageNumber:H})):console.error(`PDFLinkService.goToPage: "${F}" is not a valid page.`)}addLinkAttributes(F,H,ce=!1){J(F,{url:H,target:ce?R.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(F){if("string"==typeof F){if(F.length>0)return this.getAnchorUrl("#"+escape(F))}else if(Array.isArray(F)){const H=JSON.stringify(F);if(H.length>0)return this.getAnchorUrl("#"+escape(H))}return this.getAnchorUrl("")}getAnchorUrl(F){return(this.baseUrl||"")+F}setHash(F){var ne;if(!this.pdfDocument)return;let H,ce;if(F.includes("=")){const de=(0,b.parseQueryString)(F);if(de.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:de.get("search").replace(/"/g,""),phraseSearch:"true"===de.get("phrase")}),de.has("page")&&(H=0|de.get("page")||1),de.has("zoom")){const ge=de.get("zoom").split(","),oe=ge[0],le=parseFloat(oe);oe.includes("Fit")?"Fit"===oe||"FitB"===oe?ce=[null,{name:oe}]:"FitH"===oe||"FitBH"===oe||"FitV"===oe||"FitBV"===oe?ce=[null,{name:oe},ge.length>1?0|ge[1]:null]:"FitR"===oe?5!==ge.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):ce=[null,{name:oe},0|ge[1],0|ge[2],0|ge[3],0|ge[4]]:console.error(`PDFLinkService.setHash: "${oe}" is not a valid zoom value.`):ce=[null,{name:"XYZ"},ge.length>1?0|ge[1]:null,ge.length>2?0|ge[2]:null,le?le/100:oe]}ce?this.pdfViewer.scrollPageIntoView({pageNumber:H||this.page,destArray:ce,allowNegativeOffset:!0}):H&&(this.page=H),de.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:de.get("pagemode")}),de.has("nameddest")&&this.goToDestination(de.get("nameddest"))}else{ce=unescape(F);try{ce=JSON.parse(ce),Array.isArray(ce)||(ce=ce.toString())}catch(de){}if("string"==typeof ce||rt(ne=v,w,ti).call(ne,ce))return void this.goToDestination(ce);console.error(`PDFLinkService.setHash: "${unescape(F)}" is not a valid destination.`)}}executeNamedAction(F){var H,ce;switch(F){case"GoBack":null==(H=this.pdfHistory)||H.back();break;case"GoForward":null==(ce=this.pdfHistory)||ce.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:F})}cachePageRef(F,H){if(!H)return;const ce=0===H.gen?`${H.num}R`:`${H.num}R${H.gen}`;Ue(this,G).set(ce,F)}_cachedPageNumber(F){if(!F)return null;const H=0===F.gen?`${F.num}R`:`${F.num}R${F.gen}`;return Ue(this,G).get(H)||null}isPageVisible(F){return this.pdfViewer.isPageVisible(F)}isPageCached(F){return this.pdfViewer.isPageCached(F)}};let O=v;G=new WeakMap,te=new WeakSet,jt=function(F,H=null,ce){const ne=ce[0];let de;if("object"==typeof ne&&null!==ne){if(de=this._cachedPageNumber(ne),!de)return void this.pdfDocument.getPageIndex(ne).then(ge=>{this.cachePageRef(ge+1,ne),rt(this,te,jt).call(this,F,H,ce)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${ne}" is not a valid page reference, for dest="${F}".`)})}else{if(!Number.isInteger(ne))return void console.error(`PDFLinkService.#goToDestinationHelper: "${ne}" is not a valid destination reference, for dest="${F}".`);de=ne+1}!de||de<1||de>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${de}" is not a valid page number, for dest="${F}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:H,explicitDest:ce,pageNumber:de})),this.pdfViewer.scrollPageIntoView({pageNumber:de,destArray:ce,ignoreDestinationZoom:this._ignoreDestinationZoom}))},w=new WeakSet,ti=function(F){if(!Array.isArray(F))return!1;const H=F.length;if(H<2)return!1;const ce=F[0];if(!("object"==typeof ce&&Number.isInteger(ce.num)&&Number.isInteger(ce.gen)||Number.isInteger(ce)&&ce>=0))return!1;const ne=F[1];if("object"!=typeof ne||"string"!=typeof ne.name)return!1;let de=!0;switch(ne.name){case"XYZ":if(5!==H)return!1;break;case"Fit":case"FitB":return 2===H;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==H)return!1;break;case"FitR":if(6!==H)return!1;de=!1;break;default:return!1}for(let ge=2;ge<H;ge++){const oe=F[ge];if(!("number"==typeof oe||de&&null===oe))return!1}return!0},et(O,w),u.PDFLinkService=O;u.SimpleLinkService=class A{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(F){}get rotation(){return 0}set rotation(F){}goToDestination(F){return z(function*(){})()}goToPage(F){}addLinkAttributes(F,H,ce=!1){J(F,{url:H,enabled:this.externalLinkEnabled})}getDestinationHash(F){return"#"}getAnchorUrl(F){return"#"}setHash(F){}executeNamedAction(F){}cachePageRef(F,H){}isPageVisible(F){return!0}isPageCached(F){return!0}}},(K,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.animationStarted=u.VERTICAL_PADDING=u.UNKNOWN_SCALE=u.TextLayerMode=u.SpreadMode=u.SidebarView=u.ScrollMode=u.SCROLLBAR_PADDING=u.RenderingStates=u.RendererType=u.ProgressBar=u.PresentationModeState=u.OutputScale=u.MIN_SCALE=u.MAX_SCALE=u.MAX_AUTO_SCALE=u.DEFAULT_SCALE_VALUE=u.DEFAULT_SCALE_DELTA=u.DEFAULT_SCALE=u.AutoPrintRegExp=void 0,u.apiPageLayoutToViewerModes=function Fe(L){let re=H.VERTICAL,Pe=ce.NONE;switch(L){case"SinglePage":re=H.PAGE;break;case"OneColumn":break;case"TwoPageLeft":re=H.PAGE;case"TwoColumnLeft":Pe=ce.ODD;break;case"TwoPageRight":re=H.PAGE;case"TwoColumnRight":Pe=ce.EVEN}return{scrollMode:re,spreadMode:Pe}},u.apiPageModeToSidebarView=function He(L){switch(L){case"UseNone":return v.NONE;case"UseThumbs":return v.THUMBS;case"UseOutlines":return v.OUTLINE;case"UseAttachments":return v.ATTACHMENTS;case"UseOC":return v.LAYERS}return v.NONE},u.approximateFraction=function E(L){if(Math.floor(L)===L)return[L,1];const re=1/L;if(re>8)return[1,8];if(Math.floor(re)===re)return[1,re];const ve=L>1?re:L;let Re,$=0,be=1,ae=1,ye=1;for(;;){const Xe=$+ae,Ge=be+ye;if(Ge>8)break;ve<=Xe/Ge?(ae=Xe,ye=Ge):($=Xe,be=Ge)}return Re=ve-$/be<ae/ye-ve?ve===L?[$,be]:[be,$]:ve===L?[ae,ye]:[ye,ae],Re},u.backtrackBeforeAllVisibleElements=D,u.binarySearchFirstItem=V,u.getActiveOrFocusedElement=function De(){let L=document,re=L.activeElement||L.querySelector(":focus");for(;null==re?void 0:re.shadowRoot;)L=re.shadowRoot,re=L.activeElement||L.querySelector(":focus");return re},u.getPageSizeInches=function Y({view:L,userUnit:re,rotate:Pe}){const[ve,$,be,ae]=L,ye=Pe%180!=0,Re=(be-ve)/72*re,Xe=(ae-$)/72*re;return{width:ye?Xe:Re,height:ye?Re:Xe}},u.getVisibleElements=function Z({scrollEl:L,views:re,sortByVisibility:Pe=!1,horizontal:ve=!1,rtl:$=!1}){const be=L.scrollTop,ae=be+L.clientHeight,ye=L.scrollLeft,Re=ye+L.clientWidth;const $e=[],tt=new Set,qe=re.length;let Je=V(re,ve?function Ge(Se){const ke=Se.div,We=ke.offsetLeft+ke.clientLeft;return $?We<Re:We+ke.clientWidth>ye}:function Xe(Se){const ke=Se.div;return ke.offsetTop+ke.clientTop+ke.clientHeight>be});Je>0&&Je<qe&&!ve&&(Je=D(Je,re,be));let ot=ve?Re:-1;for(let Se=Je;Se<qe;Se++){const ke=re[Se],We=ke.div,Ye=We.offsetLeft+We.clientLeft,Ze=We.offsetTop+We.clientTop,Qe=We.clientWidth,ct=We.clientHeight,ut=Ye+Qe,gt=Ze+ct;if(-1===ot)gt>=ae&&(ot=gt);else if((ve?Ye:Ze)>ot)break;if(gt<=be||Ze>=ae||ut<=ye||Ye>=Re)continue;const lt=Math.max(0,be-Ze)+Math.max(0,gt-ae),yt=(Qe-(Math.max(0,ye-Ye)+Math.max(0,ut-Re)))/Qe;$e.push({id:ke.id,x:Ye,y:Ze,view:ke,percent:(ct-lt)/ct*yt*100|0,widthPercent:100*yt|0}),tt.add(ke.id)}const nt=$e[0],Oe=$e[$e.length-1];return Pe&&$e.sort(function(Se,ke){const We=Se.percent-ke.percent;return Math.abs(We)>.001?-We:Se.id-ke.id}),{first:nt,last:Oe,views:$e,ids:tt}},u.isPortraitOrientation=function Ae(L){return L.width<=L.height},u.isValidRotation=function he(L){return Number.isInteger(L)&&L%90==0},u.isValidScrollMode=function N(L){return Number.isInteger(L)&&Object.values(H).includes(L)&&L!==H.UNKNOWN},u.isValidSpreadMode=function fe(L){return Number.isInteger(L)&&Object.values(ce).includes(L)&&L!==ce.UNKNOWN},u.noContextMenuHandler=function y(L){L.preventDefault()},u.normalizeWheelEventDelta=function q(L){let re=j(L);return 0===L.deltaMode?re/=900:1===L.deltaMode&&(re/=30),re},u.normalizeWheelEventDirection=j,u.parseQueryString=function le(L){const re=new Map;for(const[Pe,ve]of new URLSearchParams(L))re.set(Pe.toLowerCase(),ve);return re},u.removeNullCharacters=function xe(L,re=!1){return"string"!=typeof L?(console.error("The argument must be a string."),L):(re&&(L=L.replace(ie," ")),L.replace(pe,""))},u.roundToDivide=function _(L,re){const Pe=L%re;return 0===Pe?L:Math.round(L-Pe+re)},u.scrollIntoView=function ge(L,re,Pe=!1){let ve=L.offsetParent;if(!ve)return void console.error("offsetParent is not set -- cannot scroll");let $=L.offsetTop+L.clientTop,be=L.offsetLeft+L.clientLeft;for(;ve.clientHeight===ve.scrollHeight&&ve.clientWidth===ve.scrollWidth||Pe&&(ve.classList.contains("markedContent")||"hidden"===getComputedStyle(ve).overflow);)if($+=ve.offsetTop,be+=ve.offsetLeft,ve=ve.offsetParent,!ve)return;re&&(void 0!==re.top&&($+=re.top),void 0!==re.left&&(be+=re.left,ve.scrollLeft=be)),ve.scrollTop=$},u.watchScroll=function oe(L,re){const Pe=function(be){$||($=window.requestAnimationFrame(function(){$=null;const ye=L.scrollLeft,Re=ve.lastX;ye!==Re&&(ve.right=ye>Re),ve.lastX=ye;const Xe=L.scrollTop,Ge=ve.lastY;Xe!==Ge&&(ve.down=Xe>Ge),ve.lastY=Xe,re(ve)}))},ve={right:!0,down:!0,lastX:L.scrollLeft,lastY:L.scrollTop,_eventHandler:Pe};let $=null;return L.addEventListener("scroll",Pe,!0),ve},u.DEFAULT_SCALE_VALUE="auto",u.DEFAULT_SCALE=1,u.DEFAULT_SCALE_DELTA=1.1,u.MIN_SCALE=.1,u.MAX_SCALE=10,u.UNKNOWN_SCALE=0,u.MAX_AUTO_SCALE=1.25,u.SCROLLBAR_PADDING=40,u.VERTICAL_PADDING=5;u.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},u.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const v={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};u.SidebarView=v,u.RendererType={CANVAS:"canvas",SVG:"svg"},u.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const H={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};u.ScrollMode=H;const ce={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};u.SpreadMode=ce,u.AutoPrintRegExp=/\bprint\s*\(/;u.OutputScale=class de{constructor(){const re=window.devicePixelRatio||1;this.sx=re,this.sy=re}get scaled(){return 1!==this.sx||1!==this.sy}};const pe=/\x00/g,ie=/[\x01-\x1F]/g;function V(L,re,Pe=0){let ve=Pe,$=L.length-1;if($<0||!re(L[$]))return L.length;if(re(L[ve]))return ve;for(;ve<$;){const be=ve+$>>1;re(L[be])?$=be:ve=be+1}return ve}function D(L,re,Pe){if(L<2)return L;let ve=re[L].div,$=ve.offsetTop+ve.clientTop;$>=Pe&&(ve=re[L-1].div,$=ve.offsetTop+ve.clientTop);for(let be=L-2;be>=0&&(ve=re[be].div,!(ve.offsetTop+ve.clientTop+ve.clientHeight<=$));--be)L=be;return L}function j(L){let re=Math.hypot(L.deltaX,L.deltaY);const Pe=Math.atan2(L.deltaY,L.deltaX);return-.25*Math.PI<Pe&&Pe<.75*Math.PI&&(re=-re),re}const _e=new Promise(function(L){window.requestAnimationFrame(L)});u.animationStarted=_e;u.ProgressBar=class Te{constructor(re,{height:Pe,width:ve,units:$}={}){this.visible=!0,this.div=document.querySelector(re+" .progress"),this.bar=this.div.parentNode,this.height=Pe||100,this.width=ve||100,this.units=$||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(re){this._indeterminate=isNaN(re),this._percent=function Ce(L,re,Pe){return Math.min(Math.max(L,re),Pe)}(re,0,100),this._updateBar()}setWidth(re){if(!re)return;const ve=re.parentNode.offsetWidth-re.offsetWidth;ve>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${ve}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(K,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.StructTreeLayerBuilder=void 0;const k={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},b=/^H(\d+)$/;u.StructTreeLayerBuilder=class P{constructor({pdfPage:J}){this.pdfPage=J}render(J){return this._walk(J)}_setAttributes(J,O){void 0!==J.alt&&O.setAttribute("aria-label",J.alt),void 0!==J.id&&O.setAttribute("aria-owns",J.id),void 0!==J.lang&&O.setAttribute("lang",J.lang)}_walk(J){if(!J)return null;const O=document.createElement("span");if("role"in J){const{role:A}=J,G=A.match(b);G?(O.setAttribute("role","heading"),O.setAttribute("aria-level",G[1])):k[A]&&O.setAttribute("role",k[A])}if(this._setAttributes(J,O),J.children)if(1===J.children.length&&"id"in J.children[0])this._setAttributes(J.children[0],O);else for(const A of J.children)O.appendChild(this._walk(A));return O}}},(K,u,k)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TextLayerBuilder=void 0;var b=k(3);u.TextLayerBuilder=class R{constructor({textLayerDiv:O,eventBus:A,pageIndex:G,viewport:te,highlighter:B=null,enhanceTextSelection:w=!1}){this.textLayerDiv=O,this.eventBus=A,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=G+1,this.viewport=te,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=B,this.enhanceTextSelection=w,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const O=document.createElement("div");O.className="endOfContent",this.textLayerDiv.appendChild(O)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(O=0){var G;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(G=this.highlighter)||G.setTextMapping(this.textDivs,this.textContentItemsStr);const A=document.createDocumentFragment();this.textLayerRenderTask=(0,b.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:A,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:O,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var te;this.textLayerDiv.appendChild(A),this._finishRendering(),null==(te=this.highlighter)||te.enable()},function(te){})}cancel(){var O;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(O=this.highlighter)||O.disable()}setTextContentStream(O){this.cancel(),this.textContentStream=O}setTextContent(O){this.cancel(),this.textContent=O}_bindMouse(){const O=this.textLayerDiv;let A=null;O.addEventListener("mousedown",G=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(A&&(clearTimeout(A),A=null));const te=O.querySelector(".endOfContent");if(!te)return;let B=G.target!==O;if(B=B&&"none"!==window.getComputedStyle(te).getPropertyValue("-moz-user-select"),B){const w=O.getBoundingClientRect(),m=Math.max(0,(G.pageY-w.top)/w.height);te.style.top=(100*m).toFixed(2)+"%"}te.classList.add("active")}),O.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(A=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),A=null},300));const G=O.querySelector(".endOfContent");!G||(G.style.top="",G.classList.remove("active"))})}}},(K,u,k)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.XfaLayerBuilder=void 0;var b=k(3);u.XfaLayerBuilder=class P{constructor({pageDiv:J,pdfPage:O,annotationStorage:A=null,linkService:G,xfaHtml:te=null}){this.pageDiv=J,this.pdfPage=O,this.annotationStorage=A,this.linkService=G,this.xfaHtml=te,this.div=null,this._cancelled=!1}render(J,O="display"){if("print"===O){const A={viewport:J.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:O},G=document.createElement("div");this.pageDiv.appendChild(G),A.div=G;const te=b.XfaLayer.render(A);return Promise.resolve(te)}return this.pdfPage.getXfa().then(A=>{if(this._cancelled||!A)return{textDivs:[]};const G={viewport:J.clone({dontFlip:!0}),div:this.div,xfaHtml:A,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:O};return this.div?b.XfaLayer.update(G):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),G.div=this.div,b.XfaLayer.render(G))}).catch(A=>{console.error(A)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(K,u,k)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFViewer=u.PDFSinglePageViewer=void 0;var b=k(6),P=k(11);u.PDFViewer=class R extends P.BaseViewer{};u.PDFSinglePageViewer=class J extends P.BaseViewer{_resetView(){super._resetView(),this._scrollMode=b.ScrollMode.PAGE,this._spreadMode=b.SpreadMode.NONE}set scrollMode(A){}_updateScrollMode(){}set spreadMode(A){}_updateSpreadMode(){}}},(K,u,k)=>{var ne,de,ge,Gt,le,pe,ie,xe,V,E,_,Y,ii,Z,si,j,Lt,he,ai,fe,ni,_e,ri,Te,oi;Object.defineProperty(u,"__esModule",{value:!0}),u.PagesCountLimit=u.PDFPageViewBuffer=u.BaseViewer=void 0;var b=k(3),P=k(6),R=k(2),J=k(4),O=k(12),A=k(14),G=k(5),te=k(7),B=k(15),w=k(8),m=k(9);const T="enablePermissions",F={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};u.PagesCountLimit=F;class H{constructor(L){et(this,ge),et(this,ne,new Set),et(this,de,0),st(this,de,L)}push(L){const re=Ue(this,ne);re.has(L)&&re.delete(L),re.add(L),re.size>Ue(this,de)&&rt(this,ge,Gt).call(this)}resize(L,re=null){st(this,de,L);const Pe=Ue(this,ne);if(re){const ve=Pe.size;let $=1;for(const be of Pe)if(re.has(be.id)&&(Pe.delete(be),Pe.add(be)),++$>ve)break}for(;Pe.size>Ue(this,de);)rt(this,ge,Gt).call(this)}has(L){return Ue(this,ne).has(L)}[Symbol.iterator](){return Ue(this,ne).keys()}}ne=new WeakMap,de=new WeakMap,ge=new WeakSet,Gt=function(){const L=Ue(this,ne).keys().next().value;null==L||L.destroy(),Ue(this,ne).delete(L)},u.PDFPageViewBuffer=H;const Fe=class{constructor(L){var Pe,ve,$,be;if(et(this,Y),et(this,Z),et(this,j),et(this,he),et(this,fe),et(this,_e),et(this,Te),et(this,le,null),et(this,pe,b.AnnotationMode.ENABLE_FORMS),et(this,ie,null),et(this,xe,!1),et(this,V,0),et(this,E,null),et(this,_,null),this.constructor===Fe)throw new Error("Cannot initialize BaseViewer.");const re="2.13.216";if(b.version!==re)throw new Error(`The API version "${b.version}" does not match the Viewer version "${re}".`);if(this.container=L.container,this.viewer=L.viewer||L.container.firstElementChild,"DIV"!==(null==(Pe=this.container)?void 0:Pe.tagName.toUpperCase())||"DIV"!==(null==(ve=this.viewer)?void 0:ve.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=L.eventBus,this.linkService=L.linkService||new G.SimpleLinkService,this.downloadManager=L.downloadManager||null,this.findController=L.findController||null,this._scriptingManager=L.scriptingManager||null,this.removePageBorders=L.removePageBorders||!1,this.textLayerMode=null!=($=L.textLayerMode)?$:P.TextLayerMode.ENABLE,st(this,pe,null!=(be=L.annotationMode)?be:b.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=L.imageResourcesPath||"",this.enablePrintAutoRotate=L.enablePrintAutoRotate||!1,this.renderer=L.renderer||P.RendererType.CANVAS,this.useOnlyCssZoom=L.useOnlyCssZoom||!1,this.maxCanvasPixels=L.maxCanvasPixels,this.l10n=L.l10n||J.NullL10n,st(this,xe,L.enablePermissions||!1),this.defaultRenderingQueue=!L.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new A.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=L.renderingQueue,this._doc=document.documentElement,this.scroll=(0,P.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=P.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(L){return this._pages[L]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(L){return null==L?void 0:L.pdfPage})}get renderForms(){return Ue(this,pe)===b.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(L){if(!Number.isInteger(L))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(L,!0)||console.error(`currentPageNumber: "${L}" is not a valid page.`)}_setCurrentPageNumber(L,re=!1){var ve,$;if(this._currentPageNumber===L)return re&&this._resetCurrentPageView(),!0;if(!(0<L&&L<=this.pagesCount))return!1;const Pe=this._currentPageNumber;return this._currentPageNumber=L,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:L,pageLabel:null!=($=null==(ve=this._pageLabels)?void 0:ve[L-1])?$:null,previous:Pe}),re&&this._resetCurrentPageView(),!0}get currentPageLabel(){var L,re;return null!=(re=null==(L=this._pageLabels)?void 0:L[this._currentPageNumber-1])?re:null}set currentPageLabel(L){if(!this.pdfDocument)return;let re=0|L;if(this._pageLabels){const Pe=this._pageLabels.indexOf(L);Pe>=0&&(re=Pe+1)}this._setCurrentPageNumber(re,!0)||console.error(`currentPageLabel: "${L}" is not a valid page.`)}get currentScale(){return this._currentScale!==P.UNKNOWN_SCALE?this._currentScale:P.DEFAULT_SCALE}set currentScale(L){if(isNaN(L))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(L,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(L){!this.pdfDocument||this._setScale(L,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(L){if(!(0,P.isValidRotation)(L))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((L%=360)<0&&(L+=360),this._pagesRotation===L))return;this._pagesRotation=L;const re=this._currentPageNumber,Pe={rotation:L};for(const ve of this._pages)ve.update(Pe);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:L,pageNumber:re}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(L){var re=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=L,!L)return;const Pe=L.isPureXfa,ve=L.numPages,$=L.getPage(1),be=L.getOptionalContentConfig(),ae=Ue(this,xe)?L.getPermissions():Promise.resolve();if(ve>F.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ye=this._scrollMode=P.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ye})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ve})},()=>{}),this._onBeforeDraw=ye=>{const Re=this._pages[ye.pageNumber-1];!Re||Ue(this,le).push(Re)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ye=>{ye.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ye.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Ue(this,_)&&(document.removeEventListener("visibilitychange",Ue(this,_)),st(this,_,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([$,ae]).then(([ye,Re])=>{if(L!==this.pdfDocument)return;this._firstPageCapability.resolve(ye),this._optionalContentConfigPromise=be,rt(this,Y,ii).call(this,Re);const Xe=this._scrollMode===P.ScrollMode.PAGE?null:this.viewer,Ge=this.currentScale,$e=ye.getViewport({scale:Ge*b.PixelsPerInch.PDF_TO_CSS_UNITS}),tt=this.textLayerMode===P.TextLayerMode.DISABLE||Pe?null:this,qe=Ue(this,pe)!==b.AnnotationMode.DISABLE?this:null,Je=Pe?this:null;for(let nt=1;nt<=ve;++nt){const Oe=new O.PDFPageView({container:Xe,eventBus:this.eventBus,id:nt,scale:Ge,defaultViewport:$e.clone(),optionalContentConfigPromise:be,renderingQueue:this.renderingQueue,textLayerFactory:tt,textLayerMode:this.textLayerMode,annotationLayerFactory:qe,annotationMode:Ue(this,pe),xfaLayerFactory:Je,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(Oe)}const ot=this._pages[0];ot&&(ot.setPdfPage(ye),this.linkService.cachePageRef(1,ye.ref)),this._scrollMode===P.ScrollMode.PAGE?rt(this,j,Lt).call(this):this._spreadMode!==P.SpreadMode.NONE&&this._updateSpreadMode(),rt(this,Z,si).call(this).then(z(function*(){if(re.findController&&re.findController.setDocument(L),re._scriptingManager&&re._scriptingManager.setDocument(L),L.loadingParams.disableAutoFetch||ve>F.FORCE_LAZY_PAGE_INIT)return void re._pagesCapability.resolve();let nt=ve-1;if(nt<=0)re._pagesCapability.resolve();else for(let Oe=2;Oe<=ve;++Oe){const Se=L.getPage(Oe).then(ke=>{const We=re._pages[Oe-1];We.pdfPage||We.setPdfPage(ke),re.linkService.cachePageRef(Oe,ke.ref),0==--nt&&re._pagesCapability.resolve()},ke=>{console.error(`Unable to get page ${Oe} to initialize viewer`,ke),0==--nt&&re._pagesCapability.resolve()});Oe%F.PAUSE_EAGER_PAGE_INIT==0&&(yield Se)}})),this.eventBus.dispatch("pagesinit",{source:this}),L.getMetadata().then(({info:nt})=>{L===this.pdfDocument&&nt.Language&&(this.viewer.lang=nt.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ye=>{console.error("Unable to initialize viewer",ye),this._pagesCapability.reject(ye)})}setPageLabels(L){var re,Pe;if(this.pdfDocument){L?Array.isArray(L)&&this.pdfDocument.numPages===L.length?this._pageLabels=L:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let ve=0,$=this._pages.length;ve<$;ve++)this._pages[ve].setPageLabel(null!=(Pe=null==(re=this._pageLabels)?void 0:re[ve])?Pe:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=P.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,st(this,le,new H(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,b.createPromiseCapability)(),this._onePageRenderedCapability=(0,b.createPromiseCapability)(),this._pagesCapability=(0,b.createPromiseCapability)(),this._scrollMode=P.ScrollMode.VERTICAL,this._previousScrollMode=P.ScrollMode.UNKNOWN,this._spreadMode=P.SpreadMode.NONE,st(this,E,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Ue(this,_)&&(document.removeEventListener("visibilitychange",Ue(this,_)),st(this,_,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(T),null!==Ue(this,ie)&&(st(this,pe,Ue(this,ie)),st(this,ie,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:L,pageSpot:re=null,pageNumber:Pe=null}){if(this._scrollMode===P.ScrollMode.PAGE&&(Pe&&this._setCurrentPageNumber(Pe),rt(this,j,Lt).call(this),this.update()),!re&&!this.isInPresentationMode){const ve=L.offsetLeft+L.clientLeft,$=ve+L.clientWidth,{scrollLeft:be,clientWidth:ae}=this.container;(this._scrollMode===P.ScrollMode.HORIZONTAL||ve<be||$>be+ae)&&(re={left:0,top:0})}(0,P.scrollIntoView)(L,re)}_setScaleUpdatePages(L,re,Pe=!1,ve=!1){if(this._currentScaleValue=re.toString(),rt(this,he,ai).call(this,L))return void(ve&&this.eventBus.dispatch("scalechanging",{source:this,scale:L,presetValue:re}));this._doc.style.setProperty("--zoom-factor",L),this._doc.style.setProperty("--viewport-scale-factor",L*b.PixelsPerInch.PDF_TO_CSS_UNITS);const $={scale:L};for(const be of this._pages)be.update($);if(this._currentScale=L,!Pe){let ae,be=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(be=this._location.pageNumber,ae=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:be,destArray:ae,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:L,presetValue:ve?re:void 0}),this.defaultRenderingQueue&&this.update(),st(this,V,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==P.SpreadMode.NONE&&this._scrollMode!==P.ScrollMode.HORIZONTAL?2:1}_setScale(L,re=!1){let Pe=parseFloat(L);if(Pe>0)this._setScaleUpdatePages(Pe,L,re,!1);else{const ve=this._pages[this._currentPageNumber-1];if(!ve)return;let $=P.SCROLLBAR_PADDING,be=P.VERTICAL_PADDING;this.isInPresentationMode?$=be=4:this.removePageBorders&&($=be=0),this._scrollMode===P.ScrollMode.HORIZONTAL&&([$,be]=[be,$]);const ae=(this.container.clientWidth-$)/ve.width*ve.scale/this._pageWidthScaleFactor,ye=(this.container.clientHeight-be)/ve.height*ve.scale;switch(L){case"page-actual":Pe=1;break;case"page-width":Pe=ae;break;case"page-height":Pe=ye;break;case"page-fit":Pe=Math.min(ae,ye);break;case"auto":const Re=(0,P.isPortraitOrientation)(ve)?ae:Math.min(ye,ae);Pe=Math.min(P.MAX_AUTO_SCALE,Re);break;default:return void console.error(`_setScale: "${L}" is an unknown zoom value.`)}this._setScaleUpdatePages(Pe,L,re,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(L){if(!this._pageLabels)return null;const re=this._pageLabels.indexOf(L);return re<0?null:re+1}scrollPageIntoView({pageNumber:L,destArray:re=null,allowNegativeOffset:Pe=!1,ignoreDestinationZoom:ve=!1}){if(!this.pdfDocument)return;const $=Number.isInteger(L)&&this._pages[L-1];if(!$)return void console.error(`scrollPageIntoView: "${L}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!re)return void this._setCurrentPageNumber(L,!0);let Xe,Ge,be=0,ae=0,ye=0,Re=0;const $e=$.rotation%180!=0,tt=($e?$.height:$.width)/$.scale/b.PixelsPerInch.PDF_TO_CSS_UNITS,qe=($e?$.width:$.height)/$.scale/b.PixelsPerInch.PDF_TO_CSS_UNITS;let Je=0;switch(re[1].name){case"XYZ":be=re[2],ae=re[3],Je=re[4],be=null!==be?be:0,ae=null!==ae?ae:qe;break;case"Fit":case"FitB":Je="page-fit";break;case"FitH":case"FitBH":ae=re[2],Je="page-width",null===ae&&this._location?(be=this._location.left,ae=this._location.top):("number"!=typeof ae||ae<0)&&(ae=qe);break;case"FitV":case"FitBV":be=re[2],ye=tt,Re=qe,Je="page-height";break;case"FitR":be=re[2],ae=re[3],ye=re[4]-be,Re=re[5]-ae,Xe=(this.container.clientWidth-(this.removePageBorders?0:P.SCROLLBAR_PADDING))/ye/b.PixelsPerInch.PDF_TO_CSS_UNITS,Ge=(this.container.clientHeight-(this.removePageBorders?0:P.VERTICAL_PADDING))/Re/b.PixelsPerInch.PDF_TO_CSS_UNITS,Je=Math.min(Math.abs(Xe),Math.abs(Ge));break;default:return void console.error(`scrollPageIntoView: "${re[1].name}" is not a valid destination type.`)}if(ve||(Je&&Je!==this._currentScale?this.currentScaleValue=Je:this._currentScale===P.UNKNOWN_SCALE&&(this.currentScaleValue=P.DEFAULT_SCALE_VALUE)),"page-fit"===Je&&!re[4])return void this._scrollIntoView({pageDiv:$.div,pageNumber:L});const ot=[$.viewport.convertToViewportPoint(be,ae),$.viewport.convertToViewportPoint(be+ye,ae+Re)];let nt=Math.min(ot[0][0],ot[1][0]),Oe=Math.min(ot[0][1],ot[1][1]);Pe||(nt=Math.max(nt,0),Oe=Math.max(Oe,0)),this._scrollIntoView({pageDiv:$.div,pageSpot:{left:nt,top:Oe},pageNumber:L})}_updateLocation(L){const re=this._currentScale,Pe=this._currentScaleValue,ve=parseFloat(Pe)===re?Math.round(1e4*re)/100:Pe,$=L.id;let be="#page="+$;be+="&zoom="+ve;const ye=this.container,Re=this._pages[$-1].getPagePoint(ye.scrollLeft-L.x,ye.scrollTop-L.y),Xe=Math.round(Re[0]),Ge=Math.round(Re[1]);be+=","+Xe+","+Ge,this._location={pageNumber:$,scale:ve,top:Ge,left:Xe,rotation:this._pagesRotation,pdfOpenParams:be}}update(){const L=this._getVisiblePages(),re=L.views,Pe=re.length;if(0===Pe)return;const ve=Math.max(10,2*Pe+1);if(Ue(this,le).resize(ve,L.ids),this.renderingQueue.renderHighestPriority(L),!this.isInPresentationMode){const $=this._spreadMode===P.SpreadMode.NONE&&(this._scrollMode===P.ScrollMode.PAGE||this._scrollMode===P.ScrollMode.VERTICAL);let be=this._currentPageNumber,ae=!1;for(const ye of re){if(ye.percent<100)break;if(ye.id===be&&$){ae=!0;break}}ae||(be=re[0].id),this._setCurrentPageNumber(be)}this._updateLocation(L.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(L){return this.container.contains(L)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===P.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===P.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const L=this._pages[this._currentPageNumber-1],re=L.div,Pe={id:L.id,x:re.offsetLeft+re.clientLeft,y:re.offsetTop+re.clientTop,view:L};return{first:Pe,last:Pe,views:[Pe],ids:new Set([L.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const L=this._scrollMode===P.ScrollMode.PAGE?Ue(this,E).pages:this._pages,re=this._scrollMode===P.ScrollMode.HORIZONTAL;return(0,P.getVisibleElements)({scrollEl:this.container,views:L,sortByVisibility:!0,horizontal:re,rtl:re&&this._isContainerRtl})}isPageVisible(L){return!!this.pdfDocument&&(Number.isInteger(L)&&L>0&&L<=this.pagesCount?this._getVisiblePages().ids.has(L):(console.error(`isPageVisible: "${L}" is not a valid page.`),!1))}isPageCached(L){if(!this.pdfDocument)return!1;if(!(Number.isInteger(L)&&L>0&&L<=this.pagesCount))return console.error(`isPageCached: "${L}" is not a valid page.`),!1;const re=this._pages[L-1];return Ue(this,le).has(re)}cleanup(){for(let L=0,re=this._pages.length;L<re;L++)this._pages[L]&&this._pages[L].renderingState!==P.RenderingStates.FINISHED&&this._pages[L].reset()}_cancelRendering(){for(let L=0,re=this._pages.length;L<re;L++)this._pages[L]&&this._pages[L].cancelRendering()}forceRendering(L){const re=L||this._getVisiblePages(),Pe=rt(this,_e,ri).call(this,re),$=this.renderingQueue.getHighestPriority(re,this._pages,Pe,this._spreadMode!==P.SpreadMode.NONE&&this._scrollMode!==P.ScrollMode.HORIZONTAL);return rt(this,Te,oi).call(this,re.ids),!!$&&(rt(this,fe,ni).call(this,$).then(()=>{this.renderingQueue.renderView($)}),!0)}createTextLayerBuilder(L,re,Pe,ve=!1,$,be){return new w.TextLayerBuilder({textLayerDiv:L,eventBus:$,pageIndex:re,viewport:Pe,enhanceTextSelection:!this.isInPresentationMode&&ve,highlighter:be})}createTextHighlighter(L,re){return new B.TextHighlighter({eventBus:re,pageIndex:L,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(L,re,Pe=null,ve="",$=!0,be=J.NullL10n,ae=null,ye=null,Re=null,Xe=null,Ge=null){var $e,tt,qe,Je;return new R.AnnotationLayerBuilder({pageDiv:L,pdfPage:re,annotationStorage:Pe||(null==($e=this.pdfDocument)?void 0:$e.annotationStorage),imageResourcesPath:ve,renderForms:$,linkService:this.linkService,downloadManager:this.downloadManager,l10n:be,enableScripting:null!=ae?ae:this.enableScripting,hasJSActionsPromise:ye||(null==(tt=this.pdfDocument)?void 0:tt.hasJSActions()),fieldObjectsPromise:Xe||(null==(qe=this.pdfDocument)?void 0:qe.getFieldObjects()),mouseState:Re||(null==(Je=this._scriptingManager)?void 0:Je.mouseState),annotationCanvasMap:Ge})}createXfaLayerBuilder(L,re,Pe=null){var ve;return new m.XfaLayerBuilder({pageDiv:L,pdfPage:re,annotationStorage:Pe||(null==(ve=this.pdfDocument)?void 0:ve.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(L){return new te.StructTreeLayerBuilder({pdfPage:L})}get hasEqualPageSizes(){const L=this._pages[0];for(let re=1,Pe=this._pages.length;re<Pe;++re){const ve=this._pages[re];if(ve.width!==L.width||ve.height!==L.height)return!1}return!0}getPagesOverview(){return this._pages.map(L=>{const re=L.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,P.isPortraitOrientation)(re)?{width:re.width,height:re.height,rotation:re.rotation}:{width:re.height,height:re.width,rotation:(re.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(L){if(!(L instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${L}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=L;const re={optionalContentConfigPromise:L};for(const Pe of this._pages)Pe.update(re);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:L})}get scrollMode(){return this._scrollMode}set scrollMode(L){if(this._scrollMode!==L){if(!(0,P.isValidScrollMode)(L))throw new Error(`Invalid scroll mode: ${L}`);this.pagesCount>F.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=L,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:L}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(L=null){const re=this._scrollMode,Pe=this.viewer;Pe.classList.toggle("scrollHorizontal",re===P.ScrollMode.HORIZONTAL),Pe.classList.toggle("scrollWrapped",re===P.ScrollMode.WRAPPED),this.pdfDocument&&L&&(re===P.ScrollMode.PAGE?rt(this,j,Lt).call(this):this._previousScrollMode===P.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(L,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(L){if(this._spreadMode!==L){if(!(0,P.isValidSpreadMode)(L))throw new Error(`Invalid spread mode: ${L}`);this._spreadMode=L,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:L}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(L=null){if(!this.pdfDocument)return;const re=this.viewer,Pe=this._pages;if(this._scrollMode===P.ScrollMode.PAGE)rt(this,j,Lt).call(this);else if(re.textContent="",this._spreadMode===P.SpreadMode.NONE)for(let ve=0,$=Pe.length;ve<$;++ve)re.appendChild(Pe[ve].div);else{const ve=this._spreadMode-1;let $=null;for(let be=0,ae=Pe.length;be<ae;++be)null===$?($=document.createElement("div"),$.className="spread",re.appendChild($)):be%2===ve&&($=$.cloneNode(!1),re.appendChild($)),$.appendChild(Pe[be].div)}!L||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(L,!0),this.update())}_getPageAdvance(L,re=!1){switch(this._scrollMode){case P.ScrollMode.WRAPPED:{const{views:Pe}=this._getVisiblePages(),ve=new Map;for(const{id:$,y:be,percent:ae,widthPercent:ye}of Pe){if(0===ae||ye<100)continue;let Re=ve.get(be);Re||ve.set(be,Re||(Re=[])),Re.push($)}for(const $ of ve.values()){const be=$.indexOf(L);if(-1===be)continue;const ae=$.length;if(1===ae)break;if(re)for(let ye=be-1,Re=0;ye>=Re;ye--){const Ge=$[ye+1]-1;if($[ye]<Ge)return L-Ge}else for(let ye=be+1,Re=ae;ye<Re;ye++){const Ge=$[ye-1]+1;if($[ye]>Ge)return Ge-L}if(re){const ye=$[0];if(ye<L)return L-ye+1}else{const ye=$[ae-1];if(ye>L)return ye-L+1}break}break}case P.ScrollMode.HORIZONTAL:break;case P.ScrollMode.PAGE:case P.ScrollMode.VERTICAL:{if(this._spreadMode===P.SpreadMode.NONE)break;const Pe=this._spreadMode-1;if(re&&L%2!==Pe)break;if(!re&&L%2===Pe)break;const{views:ve}=this._getVisiblePages(),$=re?L-1:L+1;for(const{id:be,percent:ae,widthPercent:ye}of ve)if(be===$){if(ae>0&&100===ye)return 2;break}break}}return 1}nextPage(){const L=this._currentPageNumber,re=this.pagesCount;if(L>=re)return!1;const Pe=this._getPageAdvance(L,!1)||1;return this.currentPageNumber=Math.min(L+Pe,re),!0}previousPage(){const L=this._currentPageNumber;if(L<=1)return!1;const re=this._getPageAdvance(L,!0)||1;return this.currentPageNumber=Math.max(L-re,1),!0}increaseScale(L=1){let re=this._currentScale;do{re=(re*P.DEFAULT_SCALE_DELTA).toFixed(2),re=Math.ceil(10*re)/10,re=Math.min(P.MAX_SCALE,re)}while(--L>0&&re<P.MAX_SCALE);this.currentScaleValue=re}decreaseScale(L=1){let re=this._currentScale;do{re=(re/P.DEFAULT_SCALE_DELTA).toFixed(2),re=Math.floor(10*re)/10,re=Math.max(P.MIN_SCALE,re)}while(--L>0&&re>P.MIN_SCALE);this.currentScaleValue=re}};let ce=Fe;le=new WeakMap,pe=new WeakMap,ie=new WeakMap,xe=new WeakMap,V=new WeakMap,E=new WeakMap,_=new WeakMap,Y=new WeakSet,ii=function(L){!L||(L.includes(b.PermissionFlag.COPY)||this.viewer.classList.add(T),!L.includes(b.PermissionFlag.MODIFY_ANNOTATIONS)&&!L.includes(b.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Ue(this,pe)===b.AnnotationMode.ENABLE_FORMS&&(st(this,ie,Ue(this,pe)),st(this,pe,b.AnnotationMode.ENABLE)))},Z=new WeakSet,si=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const L=new Promise(re=>{st(this,_,()=>{"hidden"===document.visibilityState&&(re(),document.removeEventListener("visibilitychange",Ue(this,_)),st(this,_,null))}),document.addEventListener("visibilitychange",Ue(this,_))});return Promise.race([this._onePageRenderedCapability.promise,L])},j=new WeakSet,Lt=function(){if(this._scrollMode!==P.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const L=this._currentPageNumber,re=Ue(this,E),Pe=this.viewer;if(Pe.textContent="",re.pages.length=0,this._spreadMode===P.SpreadMode.NONE){const ve=this._pages[L-1];if(this.isInPresentationMode){const $=document.createElement("div");$.className="spread";const be=document.createElement("div");be.className="dummyPage",be.style.height=`${this.container.clientHeight}px`,$.appendChild(be),$.appendChild(ve.div),Pe.appendChild($)}else Pe.appendChild(ve.div);re.pages.push(ve)}else{const ve=new Set,$=this._spreadMode-1;L%2!==$?(ve.add(L-1),ve.add(L)):(ve.add(L-2),ve.add(L-1));let be=null;for(const ae of ve){const ye=this._pages[ae];!ye||(null===be?(be=document.createElement("div"),be.className="spread",Pe.appendChild(be)):ae%2===$&&(be=be.cloneNode(!1),Pe.appendChild(be)),be.appendChild(ye.div),re.pages.push(ye))}}re.scrollDown=L>=re.previousPageNumber,re.previousPageNumber=L},he=new WeakSet,ai=function(L){return(!this.isInPresentationMode||this.container.clientHeight===Ue(this,V))&&(L===this._currentScale||Math.abs(L-this._currentScale)<1e-15)},fe=new WeakSet,ni=function(L){var re=this;return z(function*(){var Pe,ve;if(L.pdfPage)return L.pdfPage;try{const $=yield re.pdfDocument.getPage(L.id);return L.pdfPage||L.setPdfPage($),(null==(ve=(Pe=re.linkService)._cachedPageNumber)?void 0:ve.call(Pe,$.ref))||re.linkService.cachePageRef(L.id,$.ref),$}catch($){return console.error("Unable to get page for page view",$),null}})()},_e=new WeakSet,ri=function(L){var re,Pe;if(1===(null==(re=L.first)?void 0:re.id))return!0;if((null==(Pe=L.last)?void 0:Pe.id)===this.pagesCount)return!1;switch(this._scrollMode){case P.ScrollMode.PAGE:return Ue(this,E).scrollDown;case P.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Te=new WeakSet,oi=function(L){for(const re of L){const Pe=this._pages[re-1];null==Pe||Pe.toggleLoadingIconSpinner(!0)}for(const re of Ue(this,le))L.has(re.id)||re.toggleLoadingIconSpinner(!1)},u.BaseViewer=ce},(K,u,k)=>{var G;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFPageView=void 0;var b=k(3),P=k(6),R=k(13),J=k(4);const O=R.compatibilityParams.maxCanvasPixels||16777216;G=new WeakMap,u.PDFPageView=class A{constructor(B){var T,F,H,ce;et(this,G,b.AnnotationMode.ENABLE_FORMS);const w=B.container,m=B.defaultViewport;this.id=B.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=B.scale||P.DEFAULT_SCALE,this.viewport=m,this.pdfPageRotate=m.rotation,this._optionalContentConfigPromise=B.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(T=B.textLayerMode)?T:P.TextLayerMode.ENABLE,st(this,G,null!=(F=B.annotationMode)?F:b.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=B.imageResourcesPath||"",this.useOnlyCssZoom=B.useOnlyCssZoom||!1,this.maxCanvasPixels=B.maxCanvasPixels||O,this.eventBus=B.eventBus,this.renderingQueue=B.renderingQueue,this.textLayerFactory=B.textLayerFactory,this.annotationLayerFactory=B.annotationLayerFactory,this.xfaLayerFactory=B.xfaLayerFactory,this.textHighlighter=null==(H=B.textHighlighterFactory)?void 0:H.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=B.structTreeLayerFactory,this.renderer=B.renderer||P.RendererType.CANVAS,this.l10n=B.l10n||J.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=P.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(ce=this.renderingQueue)?void 0:ce.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const v=document.createElement("div");v.className="page",v.style.width=Math.floor(this.viewport.width)+"px",v.style.height=Math.floor(this.viewport.height)+"px",v.setAttribute("data-page-number",this.id),v.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(ne=>{v.setAttribute("aria-label",ne)}),this.div=v,null==w||w.appendChild(v)}setPdfPage(B){this.pdfPage=B,this.pdfPageRotate=B.rotate,this.viewport=B.getViewport({scale:this.scale*b.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var B=this;return z(function*(){let w=null;try{yield B.annotationLayer.render(B.viewport,"display")}catch(m){w=m}finally{B.eventBus.dispatch("annotationlayerrendered",{source:B,pageNumber:B.id,error:w})}})()}_renderXfaLayer(){var B=this;return z(function*(){let w=null;try{const m=yield B.xfaLayer.render(B.viewport,"display");B.textHighlighter&&B._buildXfaTextContentItems(m.textDivs)}catch(m){w=m}finally{B.eventBus.dispatch("xfalayerrendered",{source:B,pageNumber:B.id,error:w})}})()}_buildXfaTextContentItems(B){var w=this;return z(function*(){const m=yield w.pdfPage.getTextContent(),v=[];for(const T of m.items)v.push(T.str);w.textHighlighter.setTextMapping(B,v),w.textHighlighter.enable()})()}_resetZoomLayer(B=!1){if(!this.zoomLayer)return;const w=this.zoomLayer.firstChild;this.paintedViewportMap.delete(w),w.width=0,w.height=0,B&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:B=!1,keepAnnotationLayer:w=!1,keepXfaLayer:m=!1}={}){var ne,de;this.cancelRendering({keepAnnotationLayer:w,keepXfaLayer:m}),this.renderingState=P.RenderingStates.INITIAL;const v=this.div;v.style.width=Math.floor(this.viewport.width)+"px",v.style.height=Math.floor(this.viewport.height)+"px";const T=v.childNodes,F=B&&this.zoomLayer||null,H=w&&(null==(ne=this.annotationLayer)?void 0:ne.div)||null,ce=m&&(null==(de=this.xfaLayer)?void 0:de.div)||null;for(let ge=T.length-1;ge>=0;ge--){const oe=T[ge];switch(oe){case F:case H:case ce:continue}oe.remove()}v.removeAttribute("data-loaded"),H&&this.annotationLayer.hide(),ce&&this.xfaLayer.hide(),F||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ge=>{var oe;null==(oe=this.loadingIconDiv)||oe.setAttribute("aria-label",ge)}),v.appendChild(this.loadingIconDiv)}update({scale:B=0,rotation:w=null,optionalContentConfigPromise:m=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=B||this.scale,"number"==typeof w&&(this.rotation=w),m instanceof Promise&&(this._optionalContentConfigPromise=m);const T=this.scale*b.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:T,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:H}=document.documentElement;H.setProperty("--zoom-factor",this.scale),H.setProperty("--viewport-scale-factor",T)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let F=!1;if(this.canvas&&this.maxCanvasPixels>0){const H=this.outputScale;(Math.floor(this.viewport.width)*H.sx|0)*(Math.floor(this.viewport.height)*H.sy|0)>this.maxCanvasPixels&&(F=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&F)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:B=!1,keepXfaLayer:w=!1}={}){var m;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!B||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!w||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(m=this.textHighlighter)||m.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:B,redrawAnnotationLayer:w=!1,redrawXfaLayer:m=!1}){const v=this.viewport.width,T=this.viewport.height,F=this.div;B.style.width=B.parentNode.style.width=F.style.width=Math.floor(v)+"px",B.style.height=B.parentNode.style.height=F.style.height=Math.floor(T)+"px";const H=this.viewport.rotation-this.paintedViewportMap.get(B).rotation,ce=Math.abs(H);let ne=1,de=1;if((90===ce||270===ce)&&(ne=T/v,de=v/T),B.style.transform=`rotate(${H}deg) scale(${ne}, ${de})`,this.textLayer){const ge=this.textLayer.viewport,le=Math.abs(this.viewport.rotation-ge.rotation);let pe=v/ge.width;(90===le||270===le)&&(pe=v/ge.height);const ie=this.textLayer.textLayerDiv;let xe,V;switch(le){case 0:xe=V=0;break;case 90:xe=0,V="-"+ie.style.height;break;case 180:xe="-"+ie.style.width,V="-"+ie.style.height;break;case 270:xe="-"+ie.style.width,V=0;break;default:console.error("Bad rotation value.")}ie.style.transform=`rotate(${le}deg) scale(${pe}) translate(${xe}, ${V})`,ie.style.transformOrigin="0% 0%"}w&&this.annotationLayer&&this._renderAnnotationLayer(),m&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(B,w){return this.viewport.convertToPdfPoint(B,w)}toggleLoadingIconSpinner(B=!1){var w;null==(w=this.loadingIconDiv)||w.classList.toggle("notVisible",!B)}draw(){var de,ge,oe,B=this;this.renderingState!==P.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:w,pdfPage:m}=this;if(!m)return this.renderingState=P.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=P.RenderingStates.RUNNING;const v=document.createElement("div");v.style.width=w.style.width,v.style.height=w.style.height,v.classList.add("canvasWrapper"),(null==(de=this.annotationLayer)?void 0:de.div)?w.insertBefore(v,this.annotationLayer.div):w.appendChild(v);let T=null;if(this.textLayerMode!==P.TextLayerMode.DISABLE&&this.textLayerFactory){const le=document.createElement("div");le.className="textLayer",le.style.width=v.style.width,le.style.height=v.style.height,(null==(ge=this.annotationLayer)?void 0:ge.div)?w.insertBefore(le,this.annotationLayer.div):w.appendChild(le),T=this.textLayerFactory.createTextLayerBuilder(le,this.id-1,this.viewport,this.textLayerMode===P.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=T,Ue(this,G)!==b.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(w,m,null,this.imageResourcesPath,Ue(this,G)===b.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(oe=this.xfaLayer)?void 0:oe.div)&&w.appendChild(this.xfaLayer.div);let F=null;this.renderingQueue&&(F=le=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=P.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=P.RenderingStates.RUNNING,le()});le()});const H=function(){var le=z(function*(pe=null){if(ce===B.paintTask&&(B.paintTask=null),pe instanceof b.RenderingCancelledException)B._renderError=null;else if(B._renderError=pe,B.renderingState=P.RenderingStates.FINISHED,B.loadingIconDiv&&(B.loadingIconDiv.remove(),delete B.loadingIconDiv),B._resetZoomLayer(!0),B.eventBus.dispatch("pagerendered",{source:B,pageNumber:B.id,cssTransform:!1,timestamp:performance.now(),error:B._renderError}),pe)throw pe});return function(){return le.apply(this,arguments)}}(),ce=this.renderer===P.RendererType.SVG?this.paintOnSvg(v):this.paintOnCanvas(v);ce.onRenderContinue=F,this.paintTask=ce;const ne=ce.promise.then(()=>H(null).then(()=>{if(T){const le=m.streamTextContent({includeMarkedContent:!0});T.setTextContentStream(le),T.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(le){return H(le)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(w,m,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=le=>{le.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(pe=>{if(!pe||!this.canvas)return;const ie=this.structTreeLayer.render(pe);ie.classList.add("structTree"),this.canvas.appendChild(ie)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(m)),w.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),ne}paintOnCanvas(B){const w=(0,b.createPromiseCapability)(),m={promise:w.promise,onRenderContinue(ie){ie()},cancel(){pe.cancel()}},v=this.viewport,T=document.createElement("canvas");T.hidden=!0;let F=!0;const H=function(){F&&(T.hidden=!1,F=!1)};B.appendChild(T),this.canvas=T,T.mozOpaque=!0;const ce=T.getContext("2d",{alpha:!1}),ne=this.outputScale=new P.OutputScale;if(this.useOnlyCssZoom){const ie=v.clone({scale:b.PixelsPerInch.PDF_TO_CSS_UNITS});ne.sx*=ie.width/v.width,ne.sy*=ie.height/v.height}if(this.maxCanvasPixels>0){const xe=Math.sqrt(this.maxCanvasPixels/(v.width*v.height));ne.sx>xe||ne.sy>xe?(ne.sx=xe,ne.sy=xe,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const de=(0,P.approximateFraction)(ne.sx),ge=(0,P.approximateFraction)(ne.sy);T.width=(0,P.roundToDivide)(v.width*ne.sx,de[0]),T.height=(0,P.roundToDivide)(v.height*ne.sy,ge[0]),T.style.width=(0,P.roundToDivide)(v.width,de[1])+"px",T.style.height=(0,P.roundToDivide)(v.height,ge[1])+"px",this.paintedViewportMap.set(T,v);const le={canvasContext:ce,transform:ne.scaled?[ne.sx,0,0,ne.sy,0,0]:null,viewport:this.viewport,annotationMode:Ue(this,G),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},pe=this.pdfPage.render(le);return pe.onContinue=function(ie){H(),m.onRenderContinue?m.onRenderContinue(ie):ie()},pe.promise.then(function(){H(),w.resolve()},function(ie){H(),w.reject(ie)}),m}paintOnSvg(B){let w=!1;const m=()=>{if(w)throw new b.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},v=this.pdfPage,T=this.viewport.clone({scale:b.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:v.getOperatorList({annotationMode:Ue(this,G)}).then(H=>(m(),new b.SVGGraphics(v.commonObjs,v.objs).getSVG(H,T).then(ne=>{m(),this.svg=ne,this.paintedViewportMap.set(ne,T),ne.style.width=B.style.width,ne.style.height=B.style.height,this.renderingState=P.RenderingStates.FINISHED,B.appendChild(ne)}))),onRenderContinue(H){H()},cancel(){w=!0}}}setPageLabel(B){this.pageLabel="string"==typeof B?B:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(K,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.compatibilityParams=u.OptionKind=u.AppOptions=void 0;const k=Object.create(null);u.compatibilityParams=k;{const O=navigator.userAgent||"",A=navigator.platform||"",G=navigator.maxTouchPoints||1,te=/Android/.test(O);(/\b(iPad|iPhone|iPod)(?=;)/.test(O)||"MacIntel"===A&&G>1||te)&&(k.maxCanvasPixels=5242880)}const b={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};u.OptionKind=b;const P={annotationMode:{value:2,kind:b.VIEWER+b.PREFERENCE},cursorToolOnLoad:{value:0,kind:b.VIEWER+b.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:b.VIEWER},defaultZoomValue:{value:"",kind:b.VIEWER+b.PREFERENCE},disableHistory:{value:!1,kind:b.VIEWER},disablePageLabels:{value:!1,kind:b.VIEWER+b.PREFERENCE},enablePermissions:{value:!1,kind:b.VIEWER+b.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:b.VIEWER+b.PREFERENCE},enableScripting:{value:!0,kind:b.VIEWER+b.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:b.VIEWER},externalLinkTarget:{value:0,kind:b.VIEWER+b.PREFERENCE},historyUpdateUrl:{value:!1,kind:b.VIEWER+b.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:b.VIEWER+b.PREFERENCE},imageResourcesPath:{value:"./images/",kind:b.VIEWER},maxCanvasPixels:{value:16777216,compatibility:k.maxCanvasPixels,kind:b.VIEWER},pdfBugEnabled:{value:!1,kind:b.VIEWER+b.PREFERENCE},printResolution:{value:150,kind:b.VIEWER},renderer:{value:"canvas",kind:b.VIEWER},sidebarViewOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},scrollModeOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},spreadModeOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},textLayerMode:{value:1,kind:b.VIEWER+b.PREFERENCE},useOnlyCssZoom:{value:!1,kind:b.VIEWER+b.PREFERENCE},viewerCssTheme:{value:0,kind:b.VIEWER+b.PREFERENCE},viewOnLoad:{value:0,kind:b.VIEWER+b.PREFERENCE},cMapPacked:{value:!0,kind:b.API},cMapUrl:{value:"../web/cmaps/",kind:b.API},disableAutoFetch:{value:!1,kind:b.API+b.PREFERENCE},disableFontFace:{value:!1,kind:b.API+b.PREFERENCE},disableRange:{value:!1,kind:b.API+b.PREFERENCE},disableStream:{value:!1,kind:b.API+b.PREFERENCE},docBaseUrl:{value:"",kind:b.API},enableXfa:{value:!0,kind:b.API+b.PREFERENCE},fontExtraProperties:{value:!1,kind:b.API},isEvalSupported:{value:!0,kind:b.API},maxImageSize:{value:-1,kind:b.API},pdfBug:{value:!1,kind:b.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:b.API},verbosity:{value:1,kind:b.API},workerPort:{value:null,kind:b.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:b.WORKER}};P.disablePreferences={value:!1,kind:b.VIEWER},P.locale={value:navigator.language||"en-US",kind:b.VIEWER},P.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:b.VIEWER},P.renderer.kind+=b.PREFERENCE;const R=Object.create(null);u.AppOptions=class J{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(A){var B;const G=R[A];if(void 0!==G)return G;const te=P[A];return void 0!==te?null!=(B=te.compatibility)?B:te.value:void 0}static getAll(A=null){var te;const G=Object.create(null);for(const B in P){const w=P[B];if(A){if(0==(A&w.kind))continue;if(A===b.PREFERENCE){const v=w.value,T=typeof v;if("boolean"===T||"string"===T||"number"===T&&Number.isInteger(v)){G[B]=v;continue}throw new Error(`Invalid type for preference: ${B}`)}}const m=R[B];G[B]=void 0!==m?m:null!=(te=w.compatibility)?te:w.value}return G}static set(A,G){R[A]=G}static setAll(A){for(const G in A)R[G]=A[G]}static remove(A){delete R[A]}static _hasUserOptions(){return Object.keys(R).length>0}}},(K,u,k)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFRenderingQueue=void 0;var b=k(3),P=k(6);u.PDFRenderingQueue=class J{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(A){this.pdfViewer=A}setThumbnailViewer(A){this.pdfThumbnailViewer=A}isHighestPriority(A){return this.highestPriorityPage===A.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(A){var G;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(A)&&(this.isThumbnailViewEnabled&&(null==(G=this.pdfThumbnailViewer)?void 0:G.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(A,G,te,B=!1){const w=A.views,m=w.length;if(0===m)return null;for(let ce=0;ce<m;ce++){const ne=w[ce].view;if(!this.isViewFinished(ne))return ne}const v=A.first.id,T=A.last.id;if(T-v+1>m){const ce=A.ids;for(let ne=1,de=T-v;ne<de;ne++){const ge=te?v+ne:T-ne;if(ce.has(ge))continue;const oe=G[ge-1];if(!this.isViewFinished(oe))return oe}}let F=te?T:v-2,H=G[F];return H&&!this.isViewFinished(H)||B&&(F+=te?1:-1,H=G[F],H&&!this.isViewFinished(H))?H:null}isViewFinished(A){return A.renderingState===P.RenderingStates.FINISHED}renderView(A){switch(A.renderingState){case P.RenderingStates.FINISHED:return!1;case P.RenderingStates.PAUSED:this.highestPriorityPage=A.renderingId,A.resume();break;case P.RenderingStates.RUNNING:this.highestPriorityPage=A.renderingId;break;case P.RenderingStates.INITIAL:this.highestPriorityPage=A.renderingId,A.draw().finally(()=>{this.renderHighestPriority()}).catch(G=>{G instanceof b.RenderingCancelledException||console.error(`renderView: "${G}"`)})}return!0}}},(K,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TextHighlighter=void 0;u.TextHighlighter=class k{constructor({findController:P,eventBus:R,pageIndex:J}){this.findController=P,this.matches=[],this.eventBus=R,this.pageIdx=J,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(P,R){this.textDivs=P,this.textContentItemsStr=R}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=P=>{(P.pageIndex===this.pageIdx||-1===P.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(P,R){if(!P)return[];const{textContentItemsStr:J}=this;let O=0,A=0;const G=J.length-1,te=[];for(let B=0,w=P.length;B<w;B++){let m=P[B];for(;O!==G&&m>=A+J[O].length;)A+=J[O].length,O++;O===J.length&&console.error("Could not find a matching mapping");const v={begin:{divIdx:O,offset:m-A}};for(m+=R[B];O!==G&&m>A+J[O].length;)A+=J[O].length,O++;v.end={divIdx:O,offset:m-A},te.push(v)}return te}_renderMatches(P){if(0===P.length)return;const{findController:R,pageIdx:J}=this,{textContentItemsStr:O,textDivs:A}=this,G=J===R.selected.pageIdx,te=R.selected.matchIdx;let w=null;const m_offset=void 0;function v(ce,ne){const de=ce.divIdx;return A[de].textContent="",T(de,0,ce.offset,ne)}function T(ce,ne,de,ge){let oe=A[ce];if(oe.nodeType===Node.TEXT_NODE){const ie=document.createElement("span");oe.parentNode.insertBefore(ie,oe),ie.appendChild(oe),A[ce]=ie,oe=ie}const le=O[ce].substring(ne,de),pe=document.createTextNode(le);if(ge){const ie=document.createElement("span");return ie.className=`${ge} appended`,ie.appendChild(pe),oe.appendChild(ie),ge.includes("selected")?ie.offsetLeft:0}return oe.appendChild(pe),0}let F=te,H=F+1;if(R.state.highlightAll)F=0,H=P.length;else if(!G)return;for(let ce=F;ce<H;ce++){const ne=P[ce],de=ne.begin,ge=ne.end,oe=G&&ce===te,le=oe?" selected":"";let pe=0;if(w&&de.divIdx===w.divIdx?T(w.divIdx,w.offset,de.offset):(null!==w&&T(w.divIdx,w.offset,m_offset),v(de)),de.divIdx===ge.divIdx)pe=T(de.divIdx,de.offset,ge.offset,"highlight"+le);else{pe=T(de.divIdx,de.offset,m_offset,"highlight begin"+le);for(let ie=de.divIdx+1,xe=ge.divIdx;ie<xe;ie++)A[ie].className="highlight middle"+le;v(ge,"highlight end"+le)}w=ge,oe&&R.scrollMatchIntoView({element:A[de.divIdx],selectedLeft:pe,pageIndex:J,matchIndex:te})}w&&T(w.divIdx,w.offset,m_offset)}_updateMatches(){if(!this.enabled)return;const{findController:P,matches:R,pageIdx:J}=this,{textContentItemsStr:O,textDivs:A}=this;let G=-1;for(let w=0,m=R.length;w<m;w++){const v=R[w];for(let F=Math.max(G,v.begin.divIdx),H=v.end.divIdx;F<=H;F++){const ce=A[F];ce.textContent=O[F],ce.className=""}G=v.end.divIdx+1}(null==P?void 0:P.highlightMatches)&&(this.matches=this._convertMatches(P.pageMatches[J]||null,P.pageMatchesLength[J]||null),this._renderMatches(this.matches))}}},(K,u,k)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DownloadManager=void 0;var b=k(3);function P(J,O){const A=document.createElement("a");if(!A.click)throw new Error('DownloadManager: "a.click()" is not supported.');A.href=J,A.target="_parent","download"in A&&(A.download=O),(document.body||document.documentElement).appendChild(A),A.click(),A.remove()}u.DownloadManager=class R{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(O,A){(0,b.createValidAbsoluteUrl)(O,"http://example.com")?P(O+"#pdfjs.action=download",A):console.error(`downloadUrl - not a valid URL: ${O}`)}downloadData(O,A,G){P(URL.createObjectURL(new Blob([O],{type:G})),A)}openOrDownloadData(O,A,G){const te=(0,b.isPdfFile)(G),B=te?"application/pdf":"";if(te){let m,w=this._openBlobUrls.get(O);w||(w=URL.createObjectURL(new Blob([A],{type:B})),this._openBlobUrls.set(O,w)),m="?file="+encodeURIComponent(w+"#"+G);try{return window.open(m),!0}catch(v){console.error(`openOrDownloadData: ${v}`),URL.revokeObjectURL(w),this._openBlobUrls.delete(O)}}return this.downloadData(A,G,B),!1}download(O,A,G,te="download"){P(URL.createObjectURL(O),G)}}},(K,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WaitOnType=u.EventBus=u.AutomationEventBus=void 0,u.waitOnEventOrTimeout=function b({target:J,name:O,delay:A=0}){return new Promise(function(G,te){if("object"!=typeof J||!O||"string"!=typeof O||!(Number.isInteger(A)&&A>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function B(T){J instanceof P?J._off(O,w):J.removeEventListener(O,w),v&&clearTimeout(v),G(T)}const w=B.bind(null,k.EVENT);J instanceof P?J._on(O,w):J.addEventListener(O,w);const m=B.bind(null,k.TIMEOUT),v=setTimeout(m,A)})};const k={EVENT:"event",TIMEOUT:"timeout"};u.WaitOnType=k;class P{constructor(){this._listeners=Object.create(null)}on(O,A,G=null){this._on(O,A,{external:!0,once:null==G?void 0:G.once})}off(O,A,G=null){this._off(O,A,{external:!0,once:null==G?void 0:G.once})}dispatch(O,A){const G=this._listeners[O];if(!G||0===G.length)return;let te;for(const{listener:B,external:w,once:m}of G.slice(0))m&&this._off(O,B),w?(te||(te=[])).push(B):B(A);if(te){for(const B of te)B(A);te=null}}_on(O,A,G=null){var B;((B=this._listeners)[O]||(B[O]=[])).push({listener:A,external:!0===(null==G?void 0:G.external),once:!0===(null==G?void 0:G.once)})}_off(O,A,G=null){const te=this._listeners[O];if(te)for(let B=0,w=te.length;B<w;B++)if(te[B].listener===A)return void te.splice(B,1)}}u.EventBus=P;u.AutomationEventBus=class R extends P{dispatch(O,A){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(K,u,k)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GenericL10n=void 0,k(19);var b=k(4);const P=document.webL10n;u.GenericL10n=class R{constructor(O){this._lang=O,this._ready=new Promise((A,G)=>{P.setLanguage((0,b.fixupLangCode)(O),()=>{A(P)})})}getLanguage(){var O=this;return z(function*(){return(yield O._ready).getLanguage()})()}getDirection(){var O=this;return z(function*(){return(yield O._ready).getDirection()})()}get(O,A=null,G=(0,b.getL10nFallback)(O,A)){var te=this;return z(function*(){return(yield te._ready).get(O,A,G)})()}translate(O){var A=this;return z(function*(){return(yield A._ready).translate(O)})()}}},()=>{document.webL10n=function(K,u,k){var b={},P="",R="textContent",J="",O={},A="loading";function v(ie,xe,V){xe=xe||function(Y){},V=V||function(){};var E=new XMLHttpRequest;E.open("GET",ie,true),E.overrideMimeType&&E.overrideMimeType("text/plain; charset=utf-8"),E.onreadystatechange=function(){4==E.readyState&&(200==E.status||0===E.status?xe(E.responseText):V())},E.onerror=V,E.ontimeout=V;try{E.send(null)}catch(_){V()}}function T(ie,xe,V,E){var _=ie.replace(/[^\/]*$/,"")||"./";function Y(Z){return Z.lastIndexOf("\\")<0?Z:Z.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}v(ie,function(Z){P+=Z,function D(Z,y){var j={},q=/^\s*|\s*$/,he=/^\s*#|^\s*$/,N=/^\s*\[(.*)\]\s*$/,fe=/^\s*@import\s+url\((.*)\)\s*$/i,Ae=/^([^=\s]*)\s*=\s*(.+)$/;function _e(Te,De,Fe){var He=Te.replace(q,"").split(/[\r\n]+/),L="*",re=xe.split("-",1)[0],Pe=!1,ve="";!function $(){for(;;){if(!He.length)return void Fe();var be=He.shift();if(!he.test(be)){if(De){if(ve=N.exec(be)){L=ve[1].toLowerCase(),Pe="*"!==L&&L!==xe&&L!==re;continue}if(Pe)continue;if(ve=fe.exec(be))return void Ce(_+ve[1],$)}var ae=be.match(Ae);ae&&3==ae.length&&(j[ae[1]]=Y(ae[2]))}}}()}function Ce(Te,De){v(Te,function(Fe){_e(Fe,!1,De)},function(){console.warn(Te+" not found."),De()})}_e(Z,!0,function(){y(j)})}(Z,function(y){for(var j in y){var q,he,N=j.lastIndexOf(".");N>0?(q=j.substring(0,N),he=j.substring(N+1)):(q=j,he=R),b[q]||(b[q]={}),b[q][he]=y[j]}V&&V()})},E)}function F(ie,xe){ie&&(ie=ie.toLowerCase()),xe=xe||function(){},function H(){b={},P="",J=""}(),J=ie;var V=function te(){return u.querySelectorAll('link[type="application/l10n"]')}(),E=V.length;if(0!==E){var Z,y=0;Z=function(){++y>=E&&(xe(),A="complete")};for(var q=0;q<E;q++)new j(V[q]).load(ie,Z)}else{var _=function B(){var ie=u.querySelector('script[type="application/l10n"]');return ie?JSON.parse(ie.innerHTML):null}();if(_&&_.locales&&_.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(b=_.locales[ie])){var Y=_.default_locale.toLowerCase();for(var D in _.locales){if((D=D.toLowerCase())===ie){b=_.locales[ie];break}D===Y&&(b=_.locales[Y])}}xe()}else console.log("no resource to load, early way out");A="complete"}function j(N){var fe=N.href;this.load=function(Ae,_e){T(fe,Ae,_e,function(){console.warn(fe+" not found."),console.warn('"'+Ae+'" resource not found'),J="",_e()})}}}function ne(ie,xe,V){var E=b[ie];if(!E){if(console.warn("#"+ie+" is undefined."),!V)return null;E=V}var _={};for(var Y in E){var D=E[Y];D=ge(D=de(D,xe,ie,Y),xe,ie),_[Y]=D}return _}function de(ie,xe,V,E){var Y=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(ie);if(!Y||!Y.length)return ie;var y,D=Y[1],Z=Y[2];return xe&&Z in xe?y=xe[Z]:Z in b&&(y=b[Z]),D in O&&(ie=(0,O[D])(ie,y,V,E)),ie}function ge(ie,xe,V){return ie.replace(/\{\{\s*(.+?)\s*\}\}/g,function(_,Y){return xe&&Y in xe?xe[Y]:Y in b?b[Y]:(console.log("argument {{"+Y+"}} for #"+V+" is undefined."),_)})}function oe(ie){var xe=function m(ie){if(!ie)return{};var xe=ie.getAttribute("data-l10n-id"),V=ie.getAttribute("data-l10n-args"),E={};if(V)try{E=JSON.parse(V)}catch(_){console.warn("could not parse arguments for #"+xe)}return{id:xe,args:E}}(ie);if(xe.id){var V=ne(xe.id,xe.args);if(!V)return void console.warn("#"+xe.id+" is undefined.");if(V[R]){if(0===function le(ie){if(ie.children)return ie.children.length;if(void 0!==ie.childElementCount)return ie.childElementCount;for(var xe=0,V=0;V<ie.childNodes.length;V++)xe+=1===ie.nodeType?1:0;return xe}(ie))ie[R]=V[R];else{for(var E=ie.childNodes,_=!1,Y=0,D=E.length;Y<D;Y++)3===E[Y].nodeType&&/\S/.test(E[Y].nodeValue)&&(_?E[Y].nodeValue="":(E[Y].nodeValue=V[R],_=!0));if(!_){var Z=u.createTextNode(V[R]);ie.insertBefore(Z,ie.firstChild)}}delete V[R]}for(var y in V)ie[y]=V[y]}}return O.plural=function(ie,xe,V,E){var _=parseFloat(xe);if(isNaN(_)||E!=R)return ie;O._pluralRules||(O._pluralRules=function ce(ie){function V(D,Z){return-1!==Z.indexOf(D)}function E(D,Z,y){return Z<=D&&D<=y}var _={0:function(D){return"other"},1:function(D){return E(D%100,3,10)?"few":0===D?"zero":E(D%100,11,99)?"many":2==D?"two":1==D?"one":"other"},2:function(D){return 0!==D&&D%10==0?"many":2==D?"two":1==D?"one":"other"},3:function(D){return 1==D?"one":"other"},4:function(D){return E(D,0,1)?"one":"other"},5:function(D){return E(D,0,2)&&2!=D?"one":"other"},6:function(D){return 0===D?"zero":D%10==1&&D%100!=11?"one":"other"},7:function(D){return 2==D?"two":1==D?"one":"other"},8:function(D){return E(D,3,6)?"few":E(D,7,10)?"many":2==D?"two":1==D?"one":"other"},9:function(D){return 0===D||1!=D&&E(D%100,1,19)?"few":1==D?"one":"other"},10:function(D){return E(D%10,2,9)&&!E(D%100,11,19)?"few":D%10!=1||E(D%100,11,19)?"other":"one"},11:function(D){return E(D%10,2,4)&&!E(D%100,12,14)?"few":D%10==0||E(D%10,5,9)||E(D%100,11,14)?"many":D%10==1&&D%100!=11?"one":"other"},12:function(D){return E(D,2,4)?"few":1==D?"one":"other"},13:function(D){return E(D%10,2,4)&&!E(D%100,12,14)?"few":1!=D&&E(D%10,0,1)||E(D%10,5,9)||E(D%100,12,14)?"many":1==D?"one":"other"},14:function(D){return E(D%100,3,4)?"few":D%100==2?"two":D%100==1?"one":"other"},15:function(D){return 0===D||E(D%100,2,10)?"few":E(D%100,11,19)?"many":1==D?"one":"other"},16:function(D){return D%10==1&&11!=D?"one":"other"},17:function(D){return 3==D?"few":0===D?"zero":6==D?"many":2==D?"two":1==D?"one":"other"},18:function(D){return 0===D?"zero":E(D,0,2)&&0!==D&&2!=D?"one":"other"},19:function(D){return E(D,2,10)?"few":E(D,0,1)?"one":"other"},20:function(D){return!E(D%10,3,4)&&D%10!=9||E(D%100,10,19)||E(D%100,70,79)||E(D%100,90,99)?D%1e6==0&&0!==D?"many":D%10!=2||V(D%100,[12,72,92])?D%10!=1||V(D%100,[11,71,91])?"other":"one":"two":"few"},21:function(D){return 0===D?"zero":1==D?"one":"other"},22:function(D){return E(D,0,1)||E(D,11,99)?"one":"other"},23:function(D){return E(D%10,1,2)||D%20==0?"one":"other"},24:function(D){return E(D,3,10)||E(D,13,19)?"few":V(D,[2,12])?"two":V(D,[1,11])?"one":"other"}},Y={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[ie.replace(/-.*$/,"")];return Y in _?_[Y]:(console.warn("plural form unknown for ["+ie+"]"),function(){return"other"})}(J));var Y="["+O._pluralRules(_)+"]";return 0===_&&V+"[zero]"in b?ie=b[V+"[zero]"][E]:1==_&&V+"[one]"in b?ie=b[V+"[one]"][E]:2==_&&V+"[two]"in b?ie=b[V+"[two]"][E]:V+Y in b?ie=b[V+Y][E]:V+"[other]"in b&&(ie=b[V+"[other]"][E]),ie},{get:function(ie,xe,V){var Y,E=ie.lastIndexOf("."),_=R;E>0&&(_=ie.substring(E+1),ie=ie.substring(0,E)),V&&((Y={})[_]=V);var D=ne(ie,xe,Y);return D&&_ in D?D[_]:"{{"+ie+"}}"},getData:function(){return b},getText:function(){return P},getLanguage:function(){return J},setLanguage:function(ie,xe){F(ie,function(){xe&&xe()})},getDirection:function(){var xe=J.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(xe)>=0?"rtl":"ltr"},translate:function pe(ie){for(var xe=function w(ie){return ie?ie.querySelectorAll("*[data-l10n-id]"):[]}(ie=ie||u.documentElement),V=xe.length,E=0;E<V;E++)oe(xe[E]);oe(ie)},getReadyState:function(){return A},ready:function(ie){ie&&("complete"==A||"interactive"==A?K.setTimeout(function(){ie()}):u.addEventListener&&u.addEventListener("localized",function xe(){u.removeEventListener("localized",xe),ie()}))}}}(window,document)},(K,u,k)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFFindController=u.FindState=void 0;var b=k(6),P=k(3),R=k(21);const J={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};u.FindState=J;const te={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},B=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),w=[...B.values()].map(ge=>String.fromCharCode(ge)).join(""),m=/\p{M}+/gu,v=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,T=/([^\p{M}])\p{M}*$/u,F=/^\p{M}*([^\p{M}])/u;let H=null;function ce(ge){if(!H){const D=Object.keys(te).join("");H=new RegExp(`([${D}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const oe=[];let le;for(;null!==(le=m.exec(ge));)oe.push([le[0].length,le.index]);let pe=ge.normalize("NFD");const ie=[[0,0]];let xe=0,V=0,E=0,_=0,Y=!1;return pe=pe.replace(H,(D,Z,y,j,q,he)=>{var N;if(he-=E,Z){const fe=te[D],Ae=fe.length;for(let _e=1;_e<Ae;_e++)ie.push([he-V+_e,V-_e]);return V-=Ae-1,fe}if(y){const fe=y.endsWith("\n"),Ae=fe?y.length-2:y.length;Y=!0;let _e=Ae;he+_===(null==(N=oe[xe])?void 0:N[1])&&(_e-=oe[xe][0],++xe);for(let Ce=1;Ce<_e+1;Ce++)ie.push([he-1-V+Ce,V-Ce]);return V-=_e,E+=_e,fe?(ie.push([(he+=Ae-1)-V+1,1+V]),V+=1,E+=1,_+=1,y.slice(0,Ae)):y}return j?(ie.push([he-V+1,1+V]),V+=1,E+=1,_+=1,j.charAt(0)):(ie.push([he-V+1,V-1]),V-=1,E+=1,_+=1," ")}),ie.push([pe.length,V]),[pe,ie,Y]}function ne(ge,oe,le){if(!ge)return[oe,le];const pe=oe,ie=oe+le;let xe=(0,b.binarySearchFirstItem)(ge,E=>E[0]>=pe);ge[xe][0]>pe&&--xe;let V=(0,b.binarySearchFirstItem)(ge,E=>E[0]>=ie,xe);return ge[V][0]>ie&&--V,[pe+ge[xe][1],le+ge[V][1]-ge[xe][1]]}u.PDFFindController=class de{constructor({linkService:oe,eventBus:le}){this._linkService=oe,this._eventBus=le,this._reset(),le._on("find",this._onFind.bind(this)),le._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(pe,ie)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const xe=Object.assign(Object.create(null),ie,{type:pe.substring(4)});this._onFind(xe)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(oe){this._pdfDocument&&this._reset(),oe&&(this._pdfDocument=oe,this._firstPageCapability.resolve())}_onFind(oe){if(!oe)return;const le=this._pdfDocument,{type:pe}=oe;(null===this._state||this._shouldDirtyMatch(oe))&&(this._dirtyMatch=!0),this._state=oe,"highlightallchange"!==pe&&this._updateUIState(J.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||le&&this._pdfDocument!==le)return;this._extractText();const ie=!this._highlightMatches,xe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),pe?this._dirtyMatch?this._nextMatch():"again"===pe?(this._nextMatch(),ie&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===pe?(xe?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:oe=null,selectedLeft:le=0,pageIndex:pe=-1,matchIndex:ie=-1}){this._scrollMatches&&oe&&-1!==ie&&ie===this._selected.matchIdx&&-1!==pe&&pe===this._selected.pageIdx&&(this._scrollMatches=!1,(0,b.scrollIntoView)(oe,{top:-50,left:le+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,P.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=ce(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(oe){if(oe.query!==this._state.query)return!0;switch(oe.type){case"again":const le=this._selected.pageIdx+1,pe=this._linkService;return le>=1&&le<=pe.pagesCount&&le!==pe.page&&!pe.isPageVisible(le);case"highlightallchange":return!1}return!0}_isEntireWord(oe,le,pe){let ie=oe.slice(0,le).match(T);if(ie){const xe=oe.charCodeAt(le),V=ie[1].charCodeAt(0);if((0,R.getCharacterType)(xe)===(0,R.getCharacterType)(V))return!1}if(ie=oe.slice(le+pe).match(F),ie){const xe=oe.charCodeAt(le+pe-1),V=ie[1].charCodeAt(0);if((0,R.getCharacterType)(xe)===(0,R.getCharacterType)(V))return!1}return!0}_calculateRegExpMatch(oe,le,pe,ie){const xe=[],V=[],E=this._pageDiffs[pe];let _;for(;null!==(_=oe.exec(ie));){if(le&&!this._isEntireWord(ie,_.index,_[0].length))continue;const[Y,D]=ne(E,_.index,_[0].length);D&&(xe.push(Y),V.push(D))}this._pageMatches[pe]=xe,this._pageMatchesLength[pe]=V}_convertToRegExpString(oe,le){const{matchDiacritics:pe}=this._state;let ie=!1;return(oe=oe.replace(v,(V,E,_,Y,D,Z)=>E?`[ ]*\\${E}[ ]*`:_?`[ ]*${_}[ ]*`:Y?"[ ]+":pe?D||Z:D?B.has(D.charCodeAt(0))?D:"":le?(ie=!0,`${Z}\\p{M}*`):Z)).endsWith("[ ]*")&&(oe=oe.slice(0,oe.length-"[ ]*".length)),pe&&le&&(ie=!0,oe=`${oe}(?=[${w}]|[^\\p{M}]|$)`),[ie,oe]}_calculateMatch(oe){let le=this._query;if(0===le.length)return;const{caseSensitive:pe,entireWord:ie,phraseSearch:xe}=this._state,V=this._pageContents[oe],E=this._hasDiacritics[oe];let _=!1;if(xe)[_,le]=this._convertToRegExpString(le,E);else{const Z=le.match(/\S+/g);Z&&(le=Z.sort().reverse().map(y=>{const[j,q]=this._convertToRegExpString(y,E);return _||(_=j),`(${q})`}).join("|"))}le=new RegExp(le,`g${_?"u":""}${pe?"":"i"}`),this._calculateRegExpMatch(le,ie,oe,V),this._state.highlightAll&&this._updatePage(oe),this._resumePageIdx===oe&&(this._resumePageIdx=null,this._nextPageMatch());const D=this._pageMatches[oe].length;D>0&&(this._matchesCountTotal+=D,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let oe=Promise.resolve();for(let le=0,pe=this._linkService.pagesCount;le<pe;le++){const ie=(0,P.createPromiseCapability)();this._extractTextPromises[le]=ie.promise,oe=oe.then(()=>this._pdfDocument.getPage(le+1).then(xe=>xe.getTextContent()).then(xe=>{const V=xe.items,E=[];for(let _=0,Y=V.length;_<Y;_++)E.push(V[_].str),V[_].hasEOL&&E.push("\n");[this._pageContents[le],this._pageDiffs[le],this._hasDiacritics[le]]=ce(E.join("")),ie.resolve(le)},xe=>{console.error(`Unable to get text content for page ${le+1}`,xe),this._pageContents[le]="",this._pageDiffs[le]=null,this._hasDiacritics[le]=!1,ie.resolve(le)}))}}_updatePage(oe){this._scrollMatches&&this._selected.pageIdx===oe&&(this._linkService.page=oe+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:oe})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const oe=this._state.findPrevious,le=this._linkService.page-1,pe=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=le,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let xe=0;xe<pe;xe++)this._pendingFindMatches.has(xe)||(this._pendingFindMatches.add(xe),this._extractTextPromises[xe].then(V=>{this._pendingFindMatches.delete(V),this._calculateMatch(V)}))}if(""===this._query)return void this._updateUIState(J.FOUND);if(this._resumePageIdx)return;const ie=this._offset;if(this._pagesToSearch=pe,null!==ie.matchIdx){const xe=this._pageMatches[ie.pageIdx].length;if(!oe&&ie.matchIdx+1<xe||oe&&ie.matchIdx>0)return ie.matchIdx=oe?ie.matchIdx-1:ie.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(oe)}this._nextPageMatch()}_matchesReady(oe){const le=this._offset,pe=oe.length,ie=this._state.findPrevious;return pe?(le.matchIdx=ie?pe-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(ie),!!(le.wrapped&&(le.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let oe=null;do{const le=this._offset.pageIdx;if(oe=this._pageMatches[le],!oe){this._resumePageIdx=le;break}}while(!this._matchesReady(oe))}_advanceOffsetPage(oe){const le=this._offset,pe=this._linkService.pagesCount;le.pageIdx=oe?le.pageIdx-1:le.pageIdx+1,le.matchIdx=null,this._pagesToSearch--,(le.pageIdx>=pe||le.pageIdx<0)&&(le.pageIdx=oe?pe-1:0,le.wrapped=!0)}_updateMatch(oe=!1){let le=J.NOT_FOUND;const pe=this._offset.wrapped;if(this._offset.wrapped=!1,oe){const ie=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,le=pe?J.WRAPPED:J.FOUND,-1!==ie&&ie!==this._selected.pageIdx&&this._updatePage(ie)}this._updateUIState(le,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(oe){const le=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||le&&this._pdfDocument!==le||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(J.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){var xe;const{pageIdx:oe,matchIdx:le}=this._selected;let pe=0,ie=this._matchesCountTotal;if(-1!==le){for(let V=0;V<oe;V++)pe+=(null==(xe=this._pageMatches[V])?void 0:xe.length)||0;pe+=le+1}return(pe<1||pe>ie)&&(pe=ie=0),{current:pe,total:ie}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(oe,le=!1){var pe,ie;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:oe,previous:le,matchesCount:this._requestMatchesCount(),rawQuery:null!=(ie=null==(pe=this._state)?void 0:pe.query)?ie:null})}}},(K,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CharacterType=void 0,u.getCharacterType=function m(v){return function b(v){return v<11904}(v)?function P(v){return 0==(65408&v)}(v)?function O(v){return 32===v||9===v||13===v||10===v}(v)?k.SPACE:function R(v){return v>=97&&v<=122||v>=65&&v<=90}(v)||function J(v){return v>=48&&v<=57}(v)||95===v?k.ALPHA_LETTER:k.PUNCT:function w(v){return 3584==(65408&v)}(v)?k.THAI_LETTER:160===v?k.SPACE:k.ALPHA_LETTER:function A(v){return v>=13312&&v<=40959||v>=63744&&v<=64255}(v)?k.HAN_LETTER:function G(v){return v>=12448&&v<=12543}(v)?k.KATAKANA_LETTER:function te(v){return v>=12352&&v<=12447}(v)?k.HIRAGANA_LETTER:function B(v){return v>=65376&&v<=65439}(v)?k.HALFWIDTH_KATAKANA_LETTER:k.ALPHA_LETTER};const k={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};u.CharacterType=k},(K,u,k)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFHistory=void 0,u.isDestArraysEqual=B,u.isDestHashesEqual=te;var b=k(6),P=k(17);function A(){return document.location.hash}function te(w,m){return"string"==typeof w&&"string"==typeof m&&(w===m||(0,b.parseQueryString)(w).get("nameddest")===m)}function B(w,m){function v(T,F){if(typeof T!=typeof F||Array.isArray(T)||Array.isArray(F))return!1;if(null!==T&&"object"==typeof T&&null!==F){if(Object.keys(T).length!==Object.keys(F).length)return!1;for(const H in T)if(!v(T[H],F[H]))return!1;return!0}return T===F||Number.isNaN(T)&&Number.isNaN(F)}if(!Array.isArray(w)||!Array.isArray(m)||w.length!==m.length)return!1;for(let T=0,F=w.length;T<F;T++)if(!v(w[T],m[T]))return!1;return!0}u.PDFHistory=class G{constructor({linkService:m,eventBus:v}){this.linkService=m,this.eventBus=v,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",T=>{this._isViewerInPresentationMode=T.state!==b.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",T=>{this._isPagesLoaded=!!T.pagesCount},{once:!0})})}initialize({fingerprint:m,resetHistory:v=!1,updateUrl:T=!1}){if(!m||"string"!=typeof m)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const F=""!==this._fingerprint&&this._fingerprint!==m;this._fingerprint=m,this._updateUrl=!0===T,this._initialized=!0,this._bindEvents();const H=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=A(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(H,!0)||v){const{hash:ne,page:de,rotation:ge}=this._parseCurrentHash(!0);return!ne||F||v?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:ne,page:de,rotation:ge},!0)}const ce=H.destination;this._updateInternalState(ce,H.uid,!0),void 0!==ce.rotation&&(this._initialRotation=ce.rotation),ce.dest?(this._initialBookmark=JSON.stringify(ce.dest),this._destination.page=null):ce.hash?this._initialBookmark=ce.hash:ce.page&&(this._initialBookmark=`page=${ce.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:m=null,explicitDest:v,pageNumber:T}){if(!this._initialized)return;if(m&&"string"!=typeof m)return void console.error(`PDFHistory.push: "${m}" is not a valid namedDest parameter.`);if(!Array.isArray(v))return void console.error(`PDFHistory.push: "${v}" is not a valid explicitDest parameter.`);if(!this._isValidPage(T)&&(null!==T||this._destination))return void console.error(`PDFHistory.push: "${T}" is not a valid pageNumber parameter.`);const F=m||JSON.stringify(v);if(!F)return;let H=!1;if(this._destination&&(te(this._destination.hash,F)||B(this._destination.dest,v))){if(this._destination.page)return;H=!0}this._popStateInProgress&&!H||(this._pushOrReplaceState({dest:v,hash:F,page:T,rotation:this.linkService.rotation},H),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(m){var v;if(this._initialized){if(!this._isValidPage(m))return void console.error(`PDFHistory.pushPage: "${m}" is not a valid page number.`);(null==(v=this._destination)?void 0:v.page)!==m&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${m}`,page:m,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const m=window.history.state;this._isValidState(m)&&m.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const m=window.history.state;this._isValidState(m)&&m.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(m,v=!1){const T=v||!this._destination,F={fingerprint:this._fingerprint,uid:T?this._uid:this._uid+1,destination:m};let H;if(this._updateInternalState(m,F.uid),this._updateUrl&&(null==m?void 0:m.hash)){const ce=document.location.href.split("#")[0];ce.startsWith("file://")||(H=`${ce}#${m.hash}`)}T?window.history.replaceState(F,"",H):window.history.pushState(F,"",H)}_tryPushCurrentPosition(m=!1){if(!this._position)return;let v=this._position;if(m&&(v=Object.assign(Object.create(null),this._position),v.temporary=!0),!this._destination)return void this._pushOrReplaceState(v);if(this._destination.temporary)return void this._pushOrReplaceState(v,!0);if(this._destination.hash===v.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let T=!1;if(this._destination.page>=v.first&&this._destination.page<=v.page){if(void 0!==this._destination.dest||!this._destination.first)return;T=!0}this._pushOrReplaceState(v,T)}_isValidPage(m){return Number.isInteger(m)&&m>0&&m<=this.linkService.pagesCount}_isValidState(m,v=!1){if(!m)return!1;if(m.fingerprint!==this._fingerprint){if(!v)return!1;{if("string"!=typeof m.fingerprint||m.fingerprint.length!==this._fingerprint.length)return!1;const[T]=performance.getEntriesByType("navigation");if("reload"!==(null==T?void 0:T.type))return!1}}return!(!Number.isInteger(m.uid)||m.uid<0||null===m.destination||"object"!=typeof m.destination)}_updateInternalState(m,v,T=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),T&&(null==m?void 0:m.temporary)&&delete m.temporary,this._destination=m,this._uid=v,this._maxUid=Math.max(this._maxUid,v),this._numPositionUpdates=0}_parseCurrentHash(m=!1){const v=unescape(A()).substring(1),T=(0,b.parseQueryString)(v),F=T.get("nameddest")||"";let H=0|T.get("page");return(!this._isValidPage(H)||m&&F.length>0)&&(H=null),{hash:v,page:H,rotation:this.linkService.rotation}}_updateViewarea({location:m}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${m.pageNumber}`:m.pdfOpenParams.substring(1),page:this.linkService.page,first:m.pageNumber,rotation:m.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:m}){const v=A(),T=this._currentHash!==v;if(this._currentHash=v,!m){this._uid++;const{hash:H,page:ce,rotation:ne}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:H,page:ce,rotation:ne},!0)}if(!this._isValidState(m))return;this._popStateInProgress=!0,T&&(this._blockHashChange++,(0,P.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const F=m.destination;this._updateInternalState(F,m.uid,!0),(0,b.isValidRotation)(F.rotation)&&(this.linkService.rotation=F.rotation),F.dest?this.linkService.goToDestination(F.dest):F.hash?this.linkService.setHash(F.hash):F.page&&(this.linkService.page=F.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(K,u,k)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFScriptingManager=void 0;var b=k(6),P=k(3);u.PDFScriptingManager=class R{constructor({eventBus:O,sandboxBundleSrc:A=null,scriptingFactory:G=null,docPropertiesLookup:te=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=O,this._sandboxBundleSrc=A,this._scriptingFactory=G,this._docPropertiesLookup=te,this._scriptingFactory||window.addEventListener("updatefromsandbox",B=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:B.detail})})}setViewer(O){this._pdfViewer=O}setDocument(O){var A=this;return z(function*(){var w;if(A._pdfDocument&&(yield A._destroyScripting()),A._pdfDocument=O,!O)return;const[G,te,B]=yield Promise.all([O.getFieldObjects(),O.getCalculationOrderIds(),O.getJSActions()]);if(G||B){if(O===A._pdfDocument){try{A._scripting=A._createScripting()}catch(m){return console.error(`PDFScriptingManager.setDocument: "${null==m?void 0:m.message}".`),void(yield A._destroyScripting())}A._internalEvents.set("updatefromsandbox",m=>{(null==m?void 0:m.source)===window&&A._updateFromSandbox(m.detail)}),A._internalEvents.set("dispatcheventinsandbox",m=>{var v;null==(v=A._scripting)||v.dispatchEventInSandbox(m.detail)}),A._internalEvents.set("pagechanging",({pageNumber:m,previous:v})=>{m!==v&&(A._dispatchPageClose(v),A._dispatchPageOpen(m))}),A._internalEvents.set("pagerendered",({pageNumber:m})=>{!A._pageOpenPending.has(m)||m===A._pdfViewer.currentPageNumber&&A._dispatchPageOpen(m)}),A._internalEvents.set("pagesdestroy",function(){var m=z(function*(v){var T,F;yield A._dispatchPageClose(A._pdfViewer.currentPageNumber),yield null==(T=A._scripting)?void 0:T.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(F=A._closeCapability)||F.resolve()});return function(v){return m.apply(this,arguments)}}()),A._domEvents.set("mousedown",m=>{A._mouseState.isDown=!0}),A._domEvents.set("mouseup",m=>{A._mouseState.isDown=!1});for(const[m,v]of A._internalEvents)A._eventBus._on(m,v);for(const[m,v]of A._domEvents)window.addEventListener(m,v);try{const m=yield A._getDocProperties();if(O!==A._pdfDocument)return;yield A._scripting.createSandbox({objects:G,calculationOrder:te,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:zt(Nt({},m),{actions:B})}),A._eventBus.dispatch("sandboxcreated",{source:A})}catch(m){return console.error(`PDFScriptingManager.setDocument: "${null==m?void 0:m.message}".`),void(yield A._destroyScripting())}yield null==(w=A._scripting)?void 0:w.dispatchEventInSandbox({id:"doc",name:"Open"}),yield A._dispatchPageOpen(A._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{O===A._pdfDocument&&(A._ready=!0)})}}else yield A._destroyScripting()})()}dispatchWillSave(O){var A=this;return z(function*(){var G;return null==(G=A._scripting)?void 0:G.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(O){var A=this;return z(function*(){var G;return null==(G=A._scripting)?void 0:G.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(O){var A=this;return z(function*(){var G;return null==(G=A._scripting)?void 0:G.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(O){var A=this;return z(function*(){var G;return null==(G=A._scripting)?void 0:G.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var O;return(null==(O=this._destroyCapability)?void 0:O.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,P.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,P.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,P.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,P.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(O){var A=this;return z(function*(){var T;const G=A._pdfViewer.isInPresentationMode||A._pdfViewer.isChangingPresentationMode,{id:te,siblings:B,command:w,value:m}=O;if(!te){switch(w){case"clear":console.clear();break;case"error":console.error(m);break;case"layout":if(G)return;const F=(0,b.apiPageLayoutToViewerModes)(m);A._pdfViewer.spreadMode=F.spreadMode;break;case"page-num":A._pdfViewer.currentPageNumber=m+1;break;case"print":yield A._pdfViewer.pagesPromise,A._eventBus.dispatch("print",{source:A});break;case"println":console.log(m);break;case"zoom":if(G)return;A._pdfViewer.currentScaleValue=m;break;case"SaveAs":A._eventBus.dispatch("save",{source:A});break;case"FirstPage":A._pdfViewer.currentPageNumber=1;break;case"LastPage":A._pdfViewer.currentPageNumber=A._pdfViewer.pagesCount;break;case"NextPage":A._pdfViewer.nextPage();break;case"PrevPage":A._pdfViewer.previousPage();break;case"ZoomViewIn":if(G)return;A._pdfViewer.increaseScale();break;case"ZoomViewOut":if(G)return;A._pdfViewer.decreaseScale()}return}if(G&&O.focus)return;delete O.id,delete O.siblings;const v=B?[te,...B]:[te];for(const F of v){const H=document.getElementById(F);H?H.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:O})):null==(T=A._pdfDocument)||T.annotationStorage.setValue(F,O)}})()}_dispatchPageOpen(O,A=!1){var G=this;return z(function*(){const te=G._pdfDocument,B=G._visitedPages;if(A&&(G._closeCapability=(0,P.createPromiseCapability)()),!G._closeCapability)return;const w=G._pdfViewer.getPageView(O-1);if((null==w?void 0:w.renderingState)!==b.RenderingStates.FINISHED)return void G._pageOpenPending.add(O);G._pageOpenPending.delete(O);const m=z(function*(){var T,F;const v=yield B.has(O)?null:null==(T=w.pdfPage)?void 0:T.getJSActions();te===G._pdfDocument&&(yield null==(F=G._scripting)?void 0:F.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:O,actions:v}))})();B.set(O,m)})()}_dispatchPageClose(O){var A=this;return z(function*(){var w;const G=A._pdfDocument,te=A._visitedPages;if(!A._closeCapability||A._pageOpenPending.has(O))return;const B=te.get(O);!B||(te.set(O,null),yield B,G===A._pdfDocument&&(yield null==(w=A._scripting)?void 0:w.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:O})))})()}_getDocProperties(){var O=this;return z(function*(){if(O._docPropertiesLookup)return O._docPropertiesLookup(O._pdfDocument);const{docPropertiesLookup:A}=k(24);return A(O._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,P.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:O}=k(24);return new O(this._sandboxBundleSrc)}_destroyScripting(){var O=this;return z(function*(){var A,G;if(!O._scripting)return O._pdfDocument=null,void(null==(A=O._destroyCapability)||A.resolve());O._closeCapability&&(yield Promise.race([O._closeCapability.promise,new Promise(te=>{setTimeout(te,1e3)})]).catch(te=>{}),O._closeCapability=null),O._pdfDocument=null;try{yield O._scripting.destroySandbox()}catch(te){}for(const[te,B]of O._internalEvents)O._eventBus._off(te,B);O._internalEvents.clear();for(const[te,B]of O._domEvents)window.removeEventListener(te,B);O._domEvents.clear(),O._pageOpenPending.clear(),O._visitedPages.clear(),O._scripting=null,delete O._mouseState.isDown,O._ready=!1,null==(G=O._destroyCapability)||G.resolve()})()}}},(K,u,k)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GenericScripting=void 0,u.docPropertiesLookup=function P(O){return R.apply(this,arguments)};var b=k(3);function R(){return(R=z(function*(O){const G="".split("#")[0];let{info:te,metadata:B,contentDispositionFilename:w,contentLength:m}=yield O.getMetadata();if(!m){const{length:v}=yield O.getDownloadInfo();m=v}return zt(Nt({},te),{baseURL:G,filesize:m,filename:w||(0,b.getPdfFilenameFromUrl)(""),metadata:null==B?void 0:B.getRaw(),authors:null==B?void 0:B.get("dc:creator"),numPages:O.numPages,URL:""})})).apply(this,arguments)}u.GenericScripting=class J{constructor(A){this._ready=(0,b.loadScript)(A,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(A){var G=this;return z(function*(){(yield G._ready).create(A)})()}dispatchEventInSandbox(A){var G=this;return z(function*(){const te=yield G._ready;setTimeout(()=>te.dispatchEvent(A),0)})()}destroySandbox(){var A=this;return z(function*(){(yield A._ready).nukeSandbox()})()}}}],p={};function Me(K){var u=p[K];if(void 0!==u)return u.exports;var k=p[K]={exports:{}};return Ie[K](k,k.exports,Me),k.exports}var ue={};return(()=>{var K=ue;Object.defineProperty(K,"__esModule",{value:!0}),Object.defineProperty(K,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return R.AnnotationLayerBuilder}}),Object.defineProperty(K,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return u.DefaultAnnotationLayerFactory}}),Object.defineProperty(K,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return u.DefaultStructTreeLayerFactory}}),Object.defineProperty(K,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return u.DefaultTextLayerFactory}}),Object.defineProperty(K,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return u.DefaultXfaLayerFactory}}),Object.defineProperty(K,"DownloadManager",{enumerable:!0,get:function(){return J.DownloadManager}}),Object.defineProperty(K,"EventBus",{enumerable:!0,get:function(){return O.EventBus}}),Object.defineProperty(K,"GenericL10n",{enumerable:!0,get:function(){return A.GenericL10n}}),Object.defineProperty(K,"LinkTarget",{enumerable:!0,get:function(){return k.LinkTarget}}),Object.defineProperty(K,"NullL10n",{enumerable:!0,get:function(){return G.NullL10n}}),Object.defineProperty(K,"PDFFindController",{enumerable:!0,get:function(){return te.PDFFindController}}),Object.defineProperty(K,"PDFHistory",{enumerable:!0,get:function(){return B.PDFHistory}}),Object.defineProperty(K,"PDFLinkService",{enumerable:!0,get:function(){return k.PDFLinkService}}),Object.defineProperty(K,"PDFPageView",{enumerable:!0,get:function(){return w.PDFPageView}}),Object.defineProperty(K,"PDFScriptingManager",{enumerable:!0,get:function(){return m.PDFScriptingManager}}),Object.defineProperty(K,"PDFSinglePageViewer",{enumerable:!0,get:function(){return P.PDFSinglePageViewer}}),Object.defineProperty(K,"PDFViewer",{enumerable:!0,get:function(){return P.PDFViewer}}),Object.defineProperty(K,"ProgressBar",{enumerable:!0,get:function(){return b.ProgressBar}}),Object.defineProperty(K,"SimpleLinkService",{enumerable:!0,get:function(){return k.SimpleLinkService}}),Object.defineProperty(K,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return v.StructTreeLayerBuilder}}),Object.defineProperty(K,"TextLayerBuilder",{enumerable:!0,get:function(){return T.TextLayerBuilder}}),Object.defineProperty(K,"XfaLayerBuilder",{enumerable:!0,get:function(){return F.XfaLayerBuilder}}),Object.defineProperty(K,"parseQueryString",{enumerable:!0,get:function(){return b.parseQueryString}});var u=Me(1),k=Me(5),b=Me(6),P=Me(10),R=Me(2),J=Me(16),O=Me(17),A=Me(18),G=Me(4),te=Me(20),B=Me(22),w=Me(12),m=Me(23),v=Me(7),T=Me(8),F=Me(9)})(),ue})()},4408:(Ne,ee,Ee)=>{"use strict";Ee.d(ee,{o:()=>ue});var z=Ee(727);class Ie extends z.w0{constructor(u,k){super()}schedule(u,k=0){return this}}const p={setInterval(K,u,...k){const{delegate:b}=p;return(null==b?void 0:b.setInterval)?b.setInterval(K,u,...k):setInterval(K,u,...k)},clearInterval(K){const{delegate:u}=p;return((null==u?void 0:u.clearInterval)||clearInterval)(K)},delegate:void 0};var Me=Ee(8737);class ue extends Ie{constructor(u,k){super(u,k),this.scheduler=u,this.work=k,this.pending=!1}schedule(u,k=0){if(this.closed)return this;this.state=u;const b=this.id,P=this.scheduler;return null!=b&&(this.id=this.recycleAsyncId(P,b,k)),this.pending=!0,this.delay=k,this.id=this.id||this.requestAsyncId(P,this.id,k),this}requestAsyncId(u,k,b=0){return p.setInterval(u.flush.bind(u,this),b)}recycleAsyncId(u,k,b=0){if(null!=b&&this.delay===b&&!1===this.pending)return k;p.clearInterval(k)}execute(u,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const b=this._execute(u,k);if(b)return b;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(u,k){let P,b=!1;try{this.work(u)}catch(R){b=!0,P=R||new Error("Scheduled action threw falsy error")}if(b)return this.unsubscribe(),P}unsubscribe(){if(!this.closed){const{id:u,scheduler:k}=this,{actions:b}=k;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Me.P)(b,this),null!=u&&(this.id=this.recycleAsyncId(k,u,null)),this.delay=null,super.unsubscribe()}}}},640:(Ne,ee,Ee)=>{"use strict";Ee.d(ee,{v:()=>p});const z={now:()=>(z.delegate||Date).now(),delegate:void 0};class Ie{constructor(ue,K=Ie.now){this.schedulerActionCtor=ue,this.now=K}schedule(ue,K=0,u){return new this.schedulerActionCtor(this,ue).schedule(u,K)}}Ie.now=z.now;class p extends Ie{constructor(ue,K=Ie.now){super(ue,K),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ue){const{actions:K}=this;if(this._active)return void K.push(ue);let u;this._active=!0;do{if(u=ue.execute(ue.state,ue.delay))break}while(ue=K.shift());if(this._active=!1,u){for(;ue=K.shift();)ue.unsubscribe();throw u}}}},3101:(Ne,ee,Ee)=>{"use strict";Ee.d(ee,{E:()=>A});var z=Ee(4408);let p,Ie=1;const Me={};function ue(te){return te in Me&&(delete Me[te],!0)}const K={setImmediate(te){const B=Ie++;return Me[B]=!0,p||(p=Promise.resolve()),p.then(()=>ue(B)&&te()),B},clearImmediate(te){ue(te)}},{setImmediate:k,clearImmediate:b}=K,P={setImmediate(...te){const{delegate:B}=P;return((null==B?void 0:B.setImmediate)||k)(...te)},clearImmediate(te){const{delegate:B}=P;return((null==B?void 0:B.clearImmediate)||b)(te)},delegate:void 0};var J=Ee(640);const A=new class O extends J.v{flush(B){this._active=!0;const w=this._scheduled;this._scheduled=void 0;const{actions:m}=this;let v;B=B||m.shift();do{if(v=B.execute(B.state,B.delay))break}while((B=m[0])&&B.id===w&&m.shift());if(this._active=!1,v){for(;(B=m[0])&&B.id===w&&m.shift();)B.unsubscribe();throw v}}}(class R extends z.o{constructor(B,w){super(B,w),this.scheduler=B,this.work=w}requestAsyncId(B,w,m=0){return null!==m&&m>0?super.requestAsyncId(B,w,m):(B.actions.push(this),B._scheduled||(B._scheduled=P.setImmediate(B.flush.bind(B,void 0))))}recycleAsyncId(B,w,m=0){if(null!=m&&m>0||null==m&&this.delay>0)return super.recycleAsyncId(B,w,m);B.actions.some(v=>v.id===w)||(P.clearImmediate(w),B._scheduled=void 0)}})},8926:Ne=>{function ee(z,Ie,p,Me,ue,K,u){try{var k=z[K](u),b=k.value}catch(P){return void p(P)}k.done?Ie(b):Promise.resolve(b).then(Me,ue)}Ne.exports=function Ee(z){return function(){var Ie=this,p=arguments;return new Promise(function(Me,ue){var K=z.apply(Ie,p);function u(b){ee(K,Me,ue,u,k,"next",b)}function k(b){ee(K,Me,ue,u,k,"throw",b)}u(void 0)})}},Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{}}]);